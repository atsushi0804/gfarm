2003-09-30  Noriyuki Soda  <soda@sra.co.jp>

	* package/solaris/build:
	update openssl from 0.9.7b to 0.9.7c, to avoid security holes reported today.
	XXX - openldap is still compiled by gcc-2.95.2. but it seems to be ok.

2003-09-30  Takuya Ishibashi  <takuya@soum.co.jp>

	* snmptool/glogger3/docbook/en/Makefile, snmptool/glogger3/docbook/en/docdir.mk, snmptool/glogger3/docbook/ja/Makefile.in, snmptool/glogger3/docbook/ja/docdir.mk, snmptool/glogger3/docbook/ja/glogdump.8, snmptool/glogger3/docbook/ja/glogdump.8.docbook, snmptool/glogger3/docbook/ja/glogdump.8.html, snmptool/glogger3/docbook/ja/glogger.8, snmptool/glogger3/docbook/ja/glogger.8.docbook, snmptool/glogger3/docbook/ja/glogger.8.html, snmptool/glogger3/docbook/ja/glogger.conf.5, snmptool/glogger3/docbook/ja/glogger.conf.5.docbook, snmptool/glogger3/docbook/ja/glogger.conf.5.html, snmptool/glogger3/docbook/ja/glogger_logdata.5, snmptool/glogger3/docbook/ja/glogger_logdata.5.docbook, snmptool/glogger3/docbook/ja/glogger_logdata.5.html, snmptool/glogger3/INSTALL.en, snmptool/glogger3/INSTALL.ja, snmptool/glogger3/Makefile.in, snmptool/glogger3/avg1.pl, snmptool/glogger3/avg2.pl, snmptool/glogger3/config.mk.in, snmptool/glogger3/configure, snmptool/glogger3/configure.in, snmptool/glogger3/docbook/Makefile, snmptool/glogger3/expand_node_name.c, snmptool/glogger3/expand_node_name.h, snmptool/glogger3/glogd.in, snmptool/glogger3/glogdump.c, snmptool/glogger3/glogger.c, snmptool/glogger3/glogger.h, snmptool/glogger3/install-sh, snmptool/glogger3/prepare_files.c, snmptool/glogger3/read_glogger_conf.c, snmptool/glogger3/sample.conf, snmptool/glogger3/set_options.c, snmptool/glogger3/setsnmp_configure, snmptool/glogger3/snmpasync.c, snmptool/glogger3/write_to_files.c:
	inital import of glogger3

2003-09-30  Noriyuki Soda  <soda@sra.co.jp>

	* package/solaris/build: some cleanup

2003-09-29  Noriyuki Soda  <soda@sra.co.jp>

	* package/solaris/build:
	script to build binary release images on Solaris

2003-09-29  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja: Deleted obsolete items.

	* lib/libgfarm/gfarm/url.c (gfs_realpath): Added a null string check.

	* doc/docbook/ja/ref/man3/Makefile.inc, doc/docbook/ja/ref/man3/gfs_realpath.3.docbook, doc/html/en/ref/man3/gfs_glob.3.html, doc/html/en/ref/man3/gfs_realpath.3.html, doc/html/ja/ref/man3/gfs_realpath.3.html, man/ja/man3/gfs_realpath.3, man/man3/gfs_glob.3, man/man3/gfs_realpath.3, doc/docbook/en/ref/man3/Makefile.inc, doc/docbook/en/ref/man3/gfs_glob.3.docbook, doc/docbook/en/ref/man3/gfs_realpath.3.docbook:
	Added a manual page for gfs_realpath(3).
	Modified an incomplete sentence in the manual page for gfs_glob(3).

2003-09-29  Noriyuki Soda  <soda@sra.co.jp>

	* debian/rules: undo revision 1.28:
	move "gfreg" back from a gfptool to a client tool

	* package/solaris/gfarm-client.files, package/solaris/gfarm-gfptool.files:
	sort

	* package/solaris/gfarm-client.files, package/solaris/gfarm-gfptool.files:
	undo previou change:
	move "gfreg" back from a gfptool to a client tool

	* package/redhat/gfarm.spec: undo revision 1.28
	move "gfreg" back from a gfptool to a client tool

	* package/redhat/gfarm.spec: sort

	* package/redhat/gfarm.spec: add missing documents

	* package/redhat/gfarm.spec: change version number from 1.0b4 to 1.0b5

2003-09-29  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

	* gftool/gfsetdir/gfsetdir.c:
	use gfs_realpath().  Client commands should not use canonical path name explicitly.

	* lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/url.c:
	gfs_realpath: now it expands '~' (instead of shells) from a given Gfarm URL not a given canonical path name.

2003-09-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfsl/client.c, lib/libgfarm/gfsl/client2.c, lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfsl/scsub.c, lib/libgfarm/gfsl/server.c, lib/libgfarm/gfsl/server2.c, lib/libgfarm/gfsl/session.c:
	Changed the order of include file <gssapi.h> to eliminate a warning '"IOV_MAX" redefined'.  This is caused by the change of globus_common.h of gpt-3.0.

2003-09-25  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/io_gfsl.h:
	make server-side GSI-auth work with user's credential.
	XXX - this is a temporary workaround, we really need to check server's DN.

2003-09-22  Takuya Ishibashi  <takuya@soum.co.jp>

	* snmptool/gmonitor3/.cvsignore, snmptool/gmonitor3/.project:
	Added a project file for Eclipse.

	* snmptool/gmonitor3/gmonitor/app/SimpleGrapherApp.java, snmptool/gmonitor3/gmonitor/app/SimpleGrapherBaseUI.java, snmptool/gmonitor3/.cvsignore, snmptool/gmonitor3/Makefile, snmptool/gmonitor3/UTYTest.java, snmptool/gmonitor3/build.xml, snmptool/gmonitor3/gmonitor.mani, snmptool/gmonitor3/gmonitor/gui/DataTimeSpace.java, snmptool/gmonitor3/gmonitor/gui/GraphMonitor.java, snmptool/gmonitor3/gmonitor/gui/GraphMonitorModel.java, snmptool/gmonitor3/gmonitor/gui/RawData.java, snmptool/gmonitor3/gmonitor/gui/RawDataElement.java, snmptool/gmonitor3/gmonitor/gui/ViewData.java, snmptool/gmonitor3/gmonitor/gui/ViewDataElement.java, snmptool/gmonitor3/gmonitor/logdata/BinaryBlock.java, snmptool/gmonitor3/gmonitor/logdata/CachedSeekableFile.java, snmptool/gmonitor3/gmonitor/logdata/DataBlock.java, snmptool/gmonitor3/gmonitor/logdata/DataBlockGroup.java, snmptool/gmonitor3/gmonitor/logdata/DataBlockGroupElement.java, snmptool/gmonitor3/gmonitor/logdata/DataBlockGroupTable.java, snmptool/gmonitor3/gmonitor/logdata/DataElement.java, snmptool/gmonitor3/gmonitor/logdata/DataFile.java, snmptool/gmonitor3/gmonitor/logdata/FirstMetaBlock.java, snmptool/gmonitor3/gmonitor/logdata/HostDefBlock.java, snmptool/gmonitor3/gmonitor/logdata/HostDefElement.java, snmptool/gmonitor3/gmonitor/logdata/HttpSeekableFile.java, snmptool/gmonitor3/gmonitor/logdata/IntervalDefBlock.java, snmptool/gmonitor3/gmonitor/logdata/IntervalDefElement.java, snmptool/gmonitor3/gmonitor/logdata/LocalSeekableFile.java, snmptool/gmonitor3/gmonitor/logdata/OIDDefBlock.java, snmptool/gmonitor3/gmonitor/logdata/OIDDefElement.java, snmptool/gmonitor3/gmonitor/logdata/SecondMetaBlock.java, snmptool/gmonitor3/gmonitor/logdata/SeekableFile.java, snmptool/gmonitor3/gmonitor/logdata/SeekableFileFactory.java, snmptool/gmonitor3/gmonitor/logdata/UTY.java, snmptool/gmonitor3/gmonitor/tools/DumpLogFile.java, snmptool/gmonitor3/gmonitor/tools/GlogDump.java, snmptool/gmonitor3/gmonitor/tools/ScanLogDir.java, snmptool/gmonitor3/gmonitor/tools/SumRawDataSeries.java:
	initial import of gmonitor3

2003-09-22  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/gfs_pio_local.c:
	Set 0 to the file creation mask during open() and mkdir().

	* server/gfsd/gfsd.c:
	Set file creation mask to 0 to avoid modification by process's file mode creation mask.

	* gftool/gfsetdir/gfsetdir.c, include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/url.c:
	Fixed a bug such that gfcd accepts a file as a new working directory.  This bug is substantially introduced in the previous commit.
	(gfarm_path_canonical_to_url): Added in url.c.  It translates a canonical path to a Gfarm URL.

2003-09-21  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfmkdir/gfmkdir.c, gftool/gfrmdir/gfrmdir.c:
	Removed the error check after gfs_client_apply_all_hosts().

	* include/gfarm/gfarm_error.h, lib/libgfarm/gfarm/error.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_local.c, lib/libgfarm/gfarm/gfs_pio_misc.c, lib/libgfarm/gfarm/gfs_pio_remote.c, lib/libgfarm/gfarm/gfs_pio_section.c:
	Added a new error; GFARM_ERR_INCONSISTENT_RECOVERABLE, to show a recoverable error after deleting inconsistent metadata.
	Added gfs_pio_{local,remote}_mkdir_parent_canonical_path() to create the parent directory.  XXX - if the directory is owned by the different user, create a directory with the permission 0777.  This should be removed in the next major release.
	(gfs_pio_open_{local,remote}_section): FT - if missing, create the parent directory.  If a physical file is missing, delete the metadata and return GFARM_ERR_INCONSISTENT_RECOVERABLE.
	(gfarm_file_section_replicate_from_to_internal): FT - if missing, create the parent directory.
	If creating a replica that owned by the different user, add a group/other write access permission if it is allowed.  XXX - this should be removed in the next major release.

	* lib/libgfarm/gfarm/gfs_client.c, lib/libgfarm/gfarm/gfs_client.h, lib/libgfarm/gfarm/gfs_proto.h, server/gfsd/gfsd.c:
	Added gfs_{client,server}_exist(), which is a light-weight version of gfs_client_stat() to check the existence.

2003-09-12  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/gfs_dir.c (gfs_chdir): Plugged a memory leak.
	(gfs_opendir): Fixed a lookup bug.

	* lib/libgfarm/gfarm/Makefile.inc:
	Updated dependencies of object files on include files.

	* lib/libgfarm/gfarm/gfs_dir.c:
	Updated a comment for including "gfs_pio.h".

	* lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/gfs_pio_misc.c:
	Moved gfs_stat() and related functions from gfs_dir.c to gfs_pio_misc.c.

	* lib/libgfarm/gfarm/gfs_dir.c (gfs_stat, gfs_opendir):
	expand '~' by gfarm_canonical_path().
	(gfs_stat): gfs_stat() and related functions will be moved back to gfs_pio_misc.c in the next commit.

	* gftool/addpath/addpath.c:
	Removed a directory check for removal of metadata.  It is not necessary.

2003-09-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/addpath/addpath.c:
	use a global name rather than a local name for the file owner.

	* lib/libgfarm/gfutil/daemon.c: Added a missing include file.

	* gftool/gfrun/gfrun.c:
	GFS_PWD is passed without stripping the Gfarm prefix.

	* doc/docbook/ja/ref/man3/gfs_glob.3.docbook, doc/docbook/ja/ref/man3/gfs_glob_add.3.docbook, doc/docbook/ja/ref/man3/gfs_opendir.3.docbook, doc/docbook/ja/ref/man3/gfs_stat.3.docbook, doc/html/en/ref/man3/gfs_glob.3.html, doc/html/en/ref/man3/gfs_glob_add.3.html, doc/html/en/ref/man3/gfs_glob_free.3.html, doc/html/en/ref/man3/gfs_glob_init.3.html, doc/html/en/ref/man3/gfs_opendir.3.html, doc/html/en/ref/man3/gfs_stat.3.html, doc/html/ja/ref/man3/gfs_glob.3.html, doc/html/ja/ref/man3/gfs_opendir.3.html, doc/html/ja/ref/man3/gfs_stat.3.html, man/ja/man3/gfs_glob.3, man/ja/man3/gfs_glob_add.3, man/ja/man3/gfs_opendir.3, man/ja/man3/gfs_stat.3, man/man3/gfs_glob.3, man/man3/gfs_glob_add.3, man/man3/gfs_glob_free.3, man/man3/gfs_glob_init.3, man/man3/gfs_opendir.3, man/man3/gfs_stat.3, doc/docbook/en/ref/man3/Makefile.inc, doc/docbook/en/ref/man3/gfs_chdir.3.docbook, doc/docbook/en/ref/man3/gfs_glob.3.docbook, doc/docbook/en/ref/man3/gfs_glob_add.3.docbook, doc/docbook/en/ref/man3/gfs_glob_free.3.docbook, doc/docbook/en/ref/man3/gfs_glob_init.3.docbook, doc/docbook/en/ref/man3/gfs_opendir.3.docbook, doc/docbook/en/ref/man3/gfs_stat.3.docbook:
	Added manual page related gfs_glob() in English.
	For other functions, function prototypes are modified related to the const type qualifier.

	* doc/html/en/ref/index.html, doc/html/en/ref/man3/gfs_chdir.3.html, doc/html/ja/ref/index.html, doc/html/ja/ref/man3/gfs_chdir.3.html, man/ja/man3/gfs_chdir.3, man/man3/gfs_chdir.3, doc/docbook/en/ref/man3/Makefile.inc, doc/docbook/en/ref/man3/gfs_chdir.3.docbook, doc/docbook/ja/ref/man3/Makefile.inc, doc/docbook/ja/ref/man3/gfs_chdir.3.docbook:
	Manual page for gfs_chdir(3)

	* include/gfarm/gfarm_misc.h, include/gfarm/gfs.h, include/gfarm/gfs_glob.h, lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/glob.c, lib/libgfarm/gfarm/url.c (gfs_chdir):
	the argument of this function can be a Gfarm URL not only a canonical (relative) path name.
	Other files are modified to eliminate warnings related to the const type qualifier.

	* gftool/gfsetdir/gfsetdir.c:
	use gfarm_canonical_path("~") instead of direct use of gfarm_get_global_username() to obtain the home directory.
	Eliminated a check code whether the specified directory in a spool directory exists or not.  The almost same check is done in gfarm_canonical_path().

	* gftool/gfrun/gfrun.c, lib/libgfarm/gfarm/config.c:
	The current working directory in a Gfarm file system is passed to remote parallel processes.

	* lib/libgfarm/gfarm/gfs_dir.c: Added a new function, gfs_chdir().

	* lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/url.c (gfs_getcwd):
	Fixed a bug in the default case.  Use the common function to expand a user's home directory.
	(gfarm_canonical_path_for_creation): 'gfmkdir gfarm:' now works fine.

	* lib/libgfarm/gfarm/url.c:
	Backed out the previous change.  It is not necessary, sorry.

	* lib/libgfarm/gfarm/url.c:
	Fixed a possible segfault that is introduced in the previous commit.
	[cvs log in the revision 1.9] plugged a memory leak. (I forget to mention.)

2003-09-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrmdir/gfrmdir.c, gftool/gfmkdir/gfmkdir.c:
	Added the -h option, which is requested by the Bug #3 in bugzilla-ja.

	* gftool/gfls/gfls.c:
	Fixed a multi-column display format bug with the -F option reported by Bug 5 in Gfarm bugzills-ja.
	http://datafarm.apgrid.org/bugzilla-ja/show_bug.cgi?id=5

	* lib/libgfarm/gfarm/url.c:
	Took care of the case such that a new directory is specified with trailing '/'s, such as 'gfmkdir /tatebe/abc/' and 'gfmkdir /tatebe/abc///'.
	This change also includes a checking code for attempting to create the root directory in gfarm_canonical_path_for_creation().  Although this check should not be necessary here, it is needed to prevent succeeding errors due to lack of care of this case mainly in gfs_client.c.

2003-09-10  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfarm-client.install, debian/gfarm-gfptool.install:
	moved gfreg command from gfptool to client package

	* debian/control:
	Added dependecy of 'gfptool' package on 'client' packeage.

2003-09-10  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec:
	Added dependecy of 'gfptool' package on 'client' packeage.

2003-09-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* INSTALL.en, INSTALL.ja:
	Modified the section related to a creation of user's working directory.
	It should be created by 'gfmkdir gfarm:~' or 'gfmkdir gfarm:' instead of 'gfmkdir gfarm:/$USER'.

	* lib/libgfarm/gfarm/url.c:
	Fixed a bug such that gfmkdir gfarm:~ or gfmkdir gfarm:~username does not work.

2003-09-10  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/rules: added manpages for gfcd,gfmkdir,gfpwd,gfrmdir,gfsetdir

	* debian/gfarm-client.install:
	added gfmkdir,gfpwd,gfrmdir,gfsetdir to client package

	* debian/changelog: fixed a missing

2003-09-05  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja:
	- explicitly specify /usr/grid/sbin about the tools in this directory.
	- mention $PATH in users' setting section.

	* debian/gfarm-gfptool.install, gfptool/util/Makefile, package/redhat/gfarm.spec, package/solaris/gfarm-gfptool.files:
	change installation directory of gfregister from $prefix/bin to $prefix/sbin,
	because the purpose of this command is administration only.

2003-09-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Added the description for a new command 'gfregister'.

	* INSTALL.en: Improved the wording.

2003-09-05  Noriyuki Soda  <soda@sra.co.jp>

	* configure: regen

	* configure.in:
	change the order to call AC_CHECK_LIB(nsl, gethostname) and
	AC_CHECK_LIB(socket, socket).
	OpenLDAP cannot be linked on Solaris without this fix.

	* INSTALL.ja: - use gfmkdir to create users' working directories.
	- add "gfhost | gfrun -H - hostname" for installation confirmation.
	- deprecate "make gfregister", and introduce "gfregister" command.
	- mention actual name of startup scripts.
	- mention that sharesecret is the only authenticaion for a non-privileged user.
	- change "yu-za-" (in Japanese) to "yu-za"
	- change some japanese punctuations to "," and ".".

	* INSTALL.en: - use gfmkdir to create users' working directories.
	- add "gfhost | gfrun -H - hostname" for installation confirmation.
	- deprecate "make gfregister", and introduce "gfregister" command.
	- mention actual name of startup scripts.
	- mention that sharesecret is the only authenticaion for a non-privileged user.

	* configure: regen

	* configure.in: forgot to mkdir in previous change

	* configure: regen

	* debian/gfarm-client.install, debian/gfarm-gfptool.install, debian/rules, package/solaris/gfarm-client.files, package/solaris/gfarm-gfptool.files, package/redhat/gfarm.spec:
	change "gfreg" from a client tool to a gfptool,
	as described in its Makefile and INSTALL.{ja,en}.

	* configure.in, debian/gfarm-gfptool.install, gfptool/Makefile, gfptool/util/Makefile, gfptool/util/gfregister.in, package/redhat/gfarm.spec, package/solaris/gfarm-gfptool.files:
	introduce an administration tool "gfregister".
	this tool makes "make gfregister" obsolete.

	* lib/libgfarm/gfarm/url.c:
	use a light way to compare a string with "".

	* lib/libgfarm/gfarm/gfs_dir.c:
	make gfs_realpath() really work with path="/".
	previous version returns "gfarm:" instead of "gfarm:/" for root directory.

	gfmkdir cannot create toplevel directory without this fix.

2003-09-05  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/rules: add man pages for libgfarm

2003-09-05  Noriyuki Soda  <soda@sra.co.jp>

	* util/gfront/Makefile:
	use a shell variable instead of a hardcoded name

2003-09-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* server/gfsd/gfsd.c:
	Added an existence check of the spool directory at the startup time.

2003-09-05  Noriyuki Soda  <soda@sra.co.jp>

	* configure: regen

	* configure.in: - automatically search openldap
	- make configure script fail, if openldap isn't found
	- make configure script fail, if globus-makefile-header fails.
	- use AC_MSG_*(), instead of echo

	* lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/io_fd.h, lib/libgfarm/gfarm/io_gfsl.c, lib/libgfarm/gfarm/io_gfsl.h:
	fix for Bugzilla Bug 2: gsi_auth mode does not deligate the user credential

2003-09-05  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: change version number from 1.0b3 to 1.0b4
	add some man files and html files

2003-09-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog, RELNOTES: Release note for the version 1.0b4.

	* doc/html/en/ref/man5/gfarm.conf.5.html, man/man5/gfarm.conf.5: regen

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook: Changed 'ALL' to '*'.
	Changed parameter name that consists of several words for each sentence to one word for readability.

	* doc/html/en/ref/index.html, doc/html/ja/ref/index.html:
	Added missing entries; gfcd and gfpwd.
	Added a missing termination tag </H1>.

2003-09-04  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/changelog: new beta release in changelog

2003-09-03  Jun Ebihara  <jun@soum.co.jp>

	* util/gfront/build.xml: Configration file for Ant.

2003-09-02  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* doc/html/ja/ref/man3/gfs_glob_add.3.html, doc/html/ja/ref/man3/gfs_glob_free.3.html, doc/html/ja/ref/man3/gfs_glob_init.3.html, man/ja/man3/gfs_glob_add.3, man/ja/man3/gfs_glob_free.3, man/ja/man3/gfs_glob_init.3:
	Initial revision generated from docbook file

	* doc/docbook/ja/ref/man3/gfs_glob_add.3.docbook, doc/docbook/ja/ref/man3/gfs_glob_free.3.docbook, doc/docbook/ja/ref/man3/gfs_glob_init.3.docbook:
	New file.

	* doc/docbook/ja/ref/man3/Makefile.inc:
	add gfs_glob_init(3), gfs_glob_add(3), gfs_glob_free(3)

	* man/ja/man3/gfs_glob.3: regen

	* doc/docbook/ja/ref/man3/gfs_glob.3.docbook: fix date

	* doc/html/ja/ref/man3/gfs_glob.3.html, man/ja/man3/gfs_glob.3: regen

	* doc/docbook/ja/ref/man3/gfs_glob.3.docbook: wording

2003-08-28  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja:
	$HOME is no longer default of --prefix, it's /usr/local now.

2003-08-28  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* doc/html/ja/ref/man3/gfs_glob.3.html, man/ja/man3/gfs_glob.3:
	Initial revision generated from docbook

	* doc/docbook/ja/ref/man3/gfs_glob.3.docbook: New file.

	* doc/docbook/ja/ref/man3/Makefile.inc: add gfs_glob(3)

	* doc/html/ja/ref/man3/gfs_utimes.3.html, man/ja/man3/gfs_utimes.3:
	Initial revision generated from docbook file

	* doc/docbook/ja/ref/man3/Makefile.inc: add gfs_utiems(3)

	* doc/docbook/ja/ref/man3/gfs_utimes.3.docbook: New file.

2003-08-27  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfmpirun/gfmpirun.c:
	Fixed a problem such that gfmpirun_p4 cannot be suspended or executed in background.

2003-08-27  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.ja: remove redundant sentence.
	change "multiple file" -> "multiple host" for the description of gfimport_*.

2003-08-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/url.c (gfarm_canonical_path_for_creation):
	Fixed a bug reported by Bug 1 in Gfarm bugzilla-ja.  http://datafarm.apgrid.org/bugzilla-ja/show_bug.cgi?id=1
	When creating a directory or a file at the top level, it is not correctly registered in the Gfarm filesystem metadata, since its transformation to the Gfarm internal canonical name is not appropriate.

2003-08-22  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man5/gfarm.conf.5, man/man1/gfhost.1, man/man1/gfront.1, man/man1/gfsched.1, man/man5/gfarm.conf.5, doc/html/en/ref/man1/gfhost.1.html, doc/html/en/ref/man1/gfront.1.html, doc/html/en/ref/man5/gfarm.conf.5.html, doc/html/ja/ref/man1/gfhost.1.html, doc/html/ja/ref/man5/gfarm.conf.5.html, man/ja/man1/gfhost.1, man/ja/man1/gfsched.1:
	regen.

	* doc/html/en/ref/index.html: Fixed typo.

	* doc/docbook/en/ref/man1/gfront.1.docbook: Fixed typo.
	Improved the wording.  Added a notice about client commands and configuration file.

	* configure, configure.in:
	Fixed a bug introduced in the previous commit.
	This fixes the problem such that GLOBUS_LOCATION is improperly set up, and globus-makefile-header fails at the configuration time when the directory is not specified by the --with-globus option.

2003-08-22  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/changelog, debian/gfarm-gfront.install:
	miss building of gfarm-gfront package

2003-08-21  Takuya Ishibashi  <takuya@soum.co.jp>

	* man/man1/gfront.1: regen
	- fix charactor code setting

2003-08-20  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfutil/gfevent.c:
	fix a bug related to a sequence point, found by SUWspro compiler.

	* package/solaris/gfarm-doc.files, package/solaris/gfarm-gfront.files:
	add gfarm-gfront binary package

	* package/solaris/gfarm-client.files:
	add gfmkdir, gfrmdir, gfpwd and gfsetdir

	* package/redhat/gfarm.spec: fix a problem on %{have_ns} case.

2003-08-20  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: add file entries
	change macro definition for MPI

2003-08-20  Noriyuki Soda  <soda@sra.co.jp>

	* configure: regen

	* configure.in: fix a bug which is introduced in the previous version:
	it didn't work with --with-globus, if $GLOBUS_LOCATION isn't set.

2003-08-20  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/README.Debian, debian/control, debian/gfarm-gfront.install, debian/rules:
	including gfarm-gfront

2003-08-20  Noriyuki Soda  <soda@sra.co.jp>

	* configure: regen

	* configure.in: link globus library statically by default.
	add "--with-globus-shared" option to configure command to link it dynamically.

	this makes the following difference about the binary size on redhat-8.0:

					    globus
					dynamic	static
		bin (stripped)		  4064	 38824
		sbin (stripped)		   328	  3496
		bin (with -g)		 26363	118840
		sbin (with -g)		  2297	 11849

2003-08-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Added the description about fault tolerant feature.
	Changed text style.

	* ChangeLog: Catched up with the current ChangeLog.

	* lib/libgfarm/gfarm/gfs_pio_section.c, lib/gfs_hook/hooks_common.c:
	[Fault tolelance] When gfs_pio_set_view_section() fails because a file replica to be opened is missing for some reason, delete the section copy info and try to open another replica.
	nCVS: Enter Log.  Lines beginning with `CVS:' are removed automatically

2003-08-20  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: for release 1.0b3
	add spec for gfarm-gfront

2003-08-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c (register_stdout_stderr):
	Fixed a bug such that gfsplck is eventually executed even if stdout and stderr files are successfully created.

2003-08-20  Takuya Ishibashi  <takuya@soum.co.jp>

	* man/man1/gfront.1: Initial import of gfront manual.

2003-08-20  Noriyuki Soda  <soda@sra.co.jp>

	* doc/docbook/ja/ref/man5/gfarm.conf.5.docbook, lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_client.c, lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/auth_config.c, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/io_gfsl.c, doc/GUIDE.ja, doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja, doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/en/ref/man5/gfarm.conf.5.docbook, doc/docbook/ja/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook:
	implement "gsi_auth" method, which performs GSI authentication,
	but does not use any data signing or data encryption for later communication,
	for faster (but not really secure) communication with GSI credential.

	* gftool/gfsetdir/gfsetdir.c, gftool/gfmkdir/gfmkdir.c, gftool/gfrmdir/gfrmdir.c:
	portability fix: basename(3) needs <libgen.h>

	* doc/GUIDE.ja, INSTALL.en, INSTALL.ja:
	the output format of "gfhost -l" was changed.

2003-08-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man1/gfmpirun_p4.1.html, doc/html/en/ref/man1/gfrcmd.1.html, doc/html/en/ref/man1/gfreg.1.html, doc/html/en/ref/man1/gfrep.1.html, doc/html/en/ref/man1/gfrun.1.html, doc/html/ja/ref/man1/gfmpirun_p4.1.html, doc/html/ja/ref/man1/gfrcmd.1.html, doc/html/ja/ref/man1/gfreg.1.html, doc/html/ja/ref/man1/gfrep.1.html, doc/html/ja/ref/man1/gfrun.1.html, man/ja/man1/gfmpirun_p4.1, man/ja/man1/gfrcmd.1, man/ja/man1/gfreg.1, man/ja/man1/gfrep.1, man/ja/man1/gfrun.1, man/man1/gfmpirun_p4.1, man/man1/gfrcmd.1, man/man1/gfreg.1, man/man1/gfrep.1, man/man1/gfrun.1:
	regen

	* doc/docbook/en/ref/man1/gfreg.1.docbook:
	Fixed a syntactical error of DocBook.

	* doc/docbook/en/ref/man1/gfmpirun_p4.1.docbook, doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/ja/ref/man1/gfmpirun_p4.1.docbook, doc/docbook/ja/ref/man1/gfrun.1.docbook:
	Updated the description.

2003-08-20  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/gfs_hook/hooks.c:
	__utime(): use system call symbolic constant 'SYS_utime' for linux, 'SYS_utimes' for others.

2003-08-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/docbook/en/ref/man1/gfrcmd.1.docbook, doc/docbook/en/ref/man1/gfreg.1.docbook, doc/docbook/en/ref/man1/gfrep.1.docbook, doc/docbook/ja/ref/man1/gfrcmd.1.docbook, doc/docbook/ja/ref/man1/gfreg.1.docbook, doc/docbook/ja/ref/man1/gfrep.1.docbook:
	Updated the description of manual pages.

2003-08-20  Noriyuki Soda  <soda@sra.co.jp>

	* util/gfront/Makefile:
	fix a problem that gfront cannot be installed, if --srcdir is specified
	as an argument of configure. reported by naotaka-san.

	* configure: regen (for the change by naotaka-san)

2003-08-20  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* configure.in: creating util directory

	* debian/changelog: release beta 3

2003-08-20  Takuya Ishibashi  <takuya@soum.co.jp>

	* man/ja/man1/gfront.1: Add description about gfront.

2003-08-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man1/gfrun.1.html, doc/html/ja/ref/man1/gfrun.1.html, man/ja/man1/gfrun.1, man/man1/gfrun.1:
	regen

	* doc/docbook/ja/ref/man1/gfrun.1.docbook, doc/docbook/en/ref/man1/gfrun.1.docbook:
	Added the description for newly added command-line options; -r, -I, -v, -p options.

2003-08-19  Noriyuki Soda  <soda@sra.co.jp>

	* doc/html/ja/ref/man1/gfsched.1.html, man/ja/man1/gfsched.1, man/man1/gfsched.1, doc/html/en/ref/man1/gfsched.1.html:
	regen

	* doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook:
	describe -U option which is added today

2003-08-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog, RELNOTES: Release note for the version 1.0b3.

2003-08-19  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfsched/gfsched.c:
	add -U option to retain old behavior (i.e. do not check authentcation)

	* lib/libgfarm/gfarm/schedule.c, include/gfarm/gfarm_misc.h:
	check authentication success/failure on scheduling

2003-08-19  Takuya Ishibashi  <takuya@soum.co.jp>

	* doc/html/ja/ref/man1/gfront.1.html: Add description about gfront.

	* doc/html/en/ref/index.html: Add gfront.

	* doc/html/en/ref/man1/gfront.1.html: Add gfront manual.

	* doc/docbook/ja/ref/man1/gfront.1.docbook: Add description.

	* doc/docbook/en/ref/man1/Makefile.inc: Add gfront manual.

	* doc/docbook/en/ref/man1/gfront.1.docbook, man/ja/man1/gfront.1:
	Initial import of gfront manual.

	* doc/docbook/ja/ref/man1/gfront.1.docbook: nit.

	* doc/html/ja/ref/index.html: Add gfront manual link.

	* doc/html/ja/ref/man1/gfront.1.html: Initial Import of gfront manual.

	* doc/docbook/ja/ref/man1/Makefile.inc: Add gfront manual.

	* doc/docbook/ja/ref/man1/gfront.1.docbook:
	Initial Import of gfront manual.

2003-08-19  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/control: add flex and bison in Build-Depends section.

2003-08-19  Noriyuki Soda  <soda@sra.co.jp>

	* util/gfront/Makefile: remove "gfront" on "make distclean"

	* lib/gfs_hook/hooks.c: backout previous (not intended) commit

	* util/gfront/Makefile, lib/gfs_hook/hooks.c, Makefile.in:
	install gfront and gfront.jar

	* configure: regen

	* configure.in: rewrite @prefix@ for util/gfront/gfront

	* util/gfront/gfront.in:
	- make this template configurable by the configure script
	- avoid bash-ism (">&" isn't portable on bourne shells)

2003-08-19  Takuya Ishibashi  <takuya@soum.co.jp>

	* util/gfront/GFront/gfront/ChangeLookAndFeel.java, util/gfront/GFront/gfront/CommandOutput.java, util/gfront/GFront/gfront/DirectoryTreeNode.java, util/gfront/GFront/gfront/FileTableModel.java, util/gfront/GFront/gfront/FragmentEditor.java, util/gfront/GFront/gfront/GFAction.java, util/gfront/GFront/gfront/GFAppConst.java, util/gfront/GFront/gfront/GFLSParser.java, util/gfront/GFront/gfront/GFWHEREParser.java, util/gfront/GFront/gfront/GFWHEREParser2.java, util/gfront/GFront/gfront/GFront.java, util/gfront/GFront/gfront/GFrontApp.java, util/gfront/GFront/gfront/GFrontCommon.java, util/gfront/GFront/gfront/GFrontConst.java, util/gfront/GFront/gfront/GfhostList.java, util/gfront/GFront/gfront/ReadOnlyTableModel.java, util/gfront/GFront/gfront/RightClickDirTree.java, util/gfront/GFront/gfront/RightClickTable.java:
	Initial import of gfront

	* util/gfront/gfront.in, util/gfront/gfront.jar:
	initial import of gfront

2003-08-18  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_client.c: remove unused variable

2003-08-18  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* include/gfarm/gfarm_metadb.h, lib/gfs_hook/hooks.c, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_misc.c, lib/libgfarm/gfarm/metadb_ldap.c:
	Added a hook entry fo utimes().

2003-08-18  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth.h: add comment

	* lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth.h:
	allocate new authenticaion method identifier for new GSI authentiction protocol,
	to avoid confusion which may be caused by communication between old gfarm GSI
	and new gfarm GSI.

	* lib/libgfarm/gfarm/auth_client_gsi.c: better(?) error message

	* lib/libgfarm/gfarm/auth_client.c:
	a bug about state transition for parallel authenticaion.
	expired GSI proxy credential makes this bug appear.

2003-08-13  Noriyuki Soda  <soda@sra.co.jp>

	* doc/html/en/ref/man1/gfhost.1.html, man/man1/gfhost.1: regen

	* doc/docbook/en/ref/man1/gfhost.1.docbook:
	forgot to translate to english in previous commit

	* gftool/gfhost/gfhost.c: fix a bug in previous commit

	* doc/html/en/ref/man1/gfhost.1.html, doc/html/ja/ref/man1/gfhost.1.html, man/ja/man1/gfhost.1, man/man1/gfhost.1:
	regen

	* doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/gfhost.1.docbook, gftool/gfhost/gfhost.c:
	- do not display error message with default function and -H function,
	  as suggested by tatebe-san long ago.
	- display authentication method with -H function as well as -l function

	* lib/libgfarm/gfutil/gfevent.c:
	return 0 instead of EDEADLK, if there is no pending event.

2003-08-12  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_client_gsi.c: forgot to set `just' flag

	* man/man1/gfhost.1, doc/html/en/ref/man1/gfhost.1.html, doc/html/ja/ref/man1/gfhost.1.html, man/ja/man1/gfhost.1:
	regen

	* doc/docbook/en/ref/man1/gfhost.1.docbook: missing <para>

	* lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfsl/Makefile.inc:
	reflect reality

	* lib/libgfarm/gfarm/schedule.c: stupid mistake

	* lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/schedule.c, lib/libgfarm/gfsl/gfarm_gsi.h, lib/libgfarm/gfsl/gfarm_secure_session.h, lib/libgfarm/gfsl/gfsl_config.h, lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfsl/session.c, lib/libgfarm/gfutil/Makefile.inc, lib/libgfarm/gfutil/gfevent.c, lib/libgfarm/gfutil/gfevent.h, lib/libgfarm/gfutil/gfutil.h, lib/libgfarm/gfutil/timeval.c, doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/gfhost.1.docbook, gftool/gfhost/Makefile, gftool/gfhost/gfhost.c:
	implement parallel authentication

	* lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_client.c, lib/libgfarm/gfarm/gfs_client.c, lib/libgfarm/gfarm/gfs_client.h:
	- make gfarm_authorize() and gfarm_auth_request() return
	  the authentication method
	- implement parallel authentication

	* lib/libgfarm/gfarm/io_gfsl.h: cosmetic change

	* server/gfmd/gfmd.c, lib/libgfarm/gfarm/auth_config.c, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/gfm_client.c, server/gfsd/gfsd.c:
	make gfarm_authorize() and gfarm_auth_request() return
	the authentication method

	* lib/libgfarm/gfarm/auth_server_gsi.c: minor cosmetic change

	* lib/libgfarm/gfarm/auth_common.c: fix off-by-one error

2003-08-08  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Fixed a problem of buffer overrun when too long (invalid) section name is specified by the -I option.

2003-08-07  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/schedule.c:
	use loadavg instead of (loadavg / h->host_info->ncpu) to count
	number of semi_idle_hosts, to workaround a scheduling problem
	with Hirano Tsuneo-san's program which 1GB memory.

	* server/gfsd/gfsd.c:
	changes corresponding to lib/libgfarm/gfarm/gfs_client.c revision 1.5.

	it was possible that gfsd consumes 100% of cpu, if read(2) or write(2)
	returns an error on gfs_server_client_command().
	followings are done to solve this potential problem:
	- check error status every time after calling gfarm_iobuffer_{read,write}()
	  and make an appropriate action to deal with the error.
	- don't call gfarm_iobuffer_{read,write}() without select(2),
	  because it may cause EAGAIN.
	  this behaviour is actually observed at the handler of
	  GFS_COMMAND_CLIENT_STATE_OUTPUT.
	  XXX there are still some such places.

	This also includes the following change:
	- if a socket with gfrcmd client is disconnected unexpectedly
	  (e.g. by gfrcmd is killed by SIGKILL), send SIGTERM signal to
	  a command which was invoked by the gfrcmd.

	* lib/libgfarm/gfarm/gfs_client.c:
	fix a bug that Hirano Tsuneo-san recently encounterd.

	In this case, gfrcmd consumes 100% of cpu, although a remote command
	which is invoked by the gfrcmd already finished.
	The gfrcmd is trying to write an error message from the remote command
	to stderr, but because the user has already logged out from the tty,
	write(2) to stderr is returning -1 with errno == EIO.

	followings are done to solve this bug:
	- check error status every time after calling gfarm_iobuffer_{read,write}(),
	  and make an appropriate action to deal with the error.
	- don't call gfarm_iobuffer_{read,write}() without select(2),
	  because it may cause EAGAIN.
	  XXX there are still some such places.

	This also includes the following change:
	- fix missing error check for select(2)

	* lib/libgfarm/gfarm/iobuffer.h:
	add a comment about gfarm_iobuffer_get_error()

	* include/gfarm/gfarm_error.h, lib/libgfarm/gfarm/error.c:
	add GFARM_ERR_INTERRUPTED_SYSTEM_CALL
	and GFARM_ERR_RESOURCE_TEMPORARILY_UNAVAILABLE
	which are corresponding to EINTR and EAGAIN

2003-08-07  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Fixed a bug such that number of fragment is not specified correctly when the -I option is specified.

2003-07-23  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfmpirun/gfmpirun.c:
	Added -G <Gfarm file> and -N <# nodes> options.

2003-07-18  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Added -I <section> option to specify an index name explicitly.  This option is effective only with the file-affinity scheduling.

	* gftool/gfrun/gfrun.c: Added -r option for on-demand replication.

	* lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_section.c:
	config.c (gfarm_parse_argv): Added --gfarm_replicate option for on-demand replication.  In this case, every remote file will be replicated at access time.

2003-07-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/schedule.h:
	Moved the function declaration of gfarm_schedule_search_idle_by_domainname() to public place.

	* gftool/gfreg/gfreg.c:
	Added -D <domainname> option to limit filesystem nodes within the specified domainname.

2003-07-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrep/gfrep.c:
	Supported a special case for replicating a Gfarm file with only one file fragment as requested by [gfarm-discuss-ja:00002].  In this case, the file can be replicated by specifying the -d option.

2003-07-11  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* doc/README.hook.en: fixed a typo at MPI section

2003-07-09  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfsl/gfsl_config.h, lib/libgfarm/gfsl/session.c:
	Moved GSS minor status initial value defintion.

	* lib/libgfarm/gfsl/session.c:
	negotiateConfigParam() Change GSS minor stats initial value.

	* lib/libgfarm/gfsl/session.c:
	negotiateConfigParam(): In previous revision, majStatPtr and minStatPtr are
	unset in case of error before gfarmGssConfigureMessageSize() is called.
	Corrected this problem.

2003-07-09  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfmkdir/gfmkdir.c: - repair a mistake made at previous commit.
	  gfs_client_mkdir() should be done, even if the directory already exists
	  in metadb, because previous gfmkdir operation might fail on some nodes.
	- don't report "already exists" error on every node, if metadata of the
	  directory already exists.

2003-07-09  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfsl/session.c:
	negotiateConfigParam(): Send and receive 3 negotiation parameters with
	force flags one time to reduce slow select(2) system call.

2003-07-08  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfrmdir/gfrmdir.c:
	remove path_info, even if the directory is already removed in a spool.

	* lib/libgfarm/gfarm/gfs_client.c: - provide gfs_client_hostname()
	- slightly better error message

	* lib/libgfarm/gfarm/gfs_client.h: provide gfs_client_hostname()

	* gftool/gfrmdir/gfrmdir.c:
	use gfarm_url_make_path() instead of gfarm_url_make_path_for_creation()

	* gftool/gfreg/gfreg.c:
	remove a variable which became unused in previous commit

	* gftool/gfmkdir/gfmkdir.c, gftool/gfrmdir/gfrmdir.c, gftool/gfsetdir/gfsetdir.c:
	make these commands accept "gfarm:" prefix

	* lib/libgfarm/gfarm/url.c: - use GFARM_ERR_GFARM_URL_PREFIX_IS_MISSING
	- remove some unnecessary assignments
	- use gfarm_is_url() in some place

	* include/gfarm/gfarm_error.h, lib/libgfarm/gfarm/error.c:
	define GFARM_ERR_GFARM_URL_PREFIX_IS_MISSING

	* gftool/addpath/addpath.c, gftool/gfmkdir/gfmkdir.c: add sanity check

	* gftool/gfreg/gfreg.c:
	make a codition work even if the last argument is NULL string.

	* lib/libgfarm/gfarm/glob.c:
	fix an off-by-one error which made gfls coredump

2003-07-02  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfsl/REFERENCE:
	change description of GSSAPI status in some functions because they can
	get, log minor status.

2003-07-02  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja, doc/GUIDE.ja: mention "gfsched -N"

	* INSTALL.en: translate gfcd/gfpwd section to English

	* INSTALL.ja: use same wording with an existent section

	* INSTALL.ja: change punctuation, section order, indentation

	* man/ja/man1/gfcd.1, man/ja/man1/gfmkdir.1, man/ja/man1/gfpwd.1, man/ja/man1/gfrmdir.1, man/ja/man1/gfsetdir.1, man/man1/gfcd.1, man/man1/gfmkdir.1, man/man1/gfpwd.1, man/man1/gfrmdir.1, man/man1/gfsetdir.1, doc/html/ja/ref/man1/gfcd.1.html, doc/html/ja/ref/man1/gfmkdir.1.html, doc/html/ja/ref/man1/gfrmdir.1.html, doc/html/ja/ref/man1/gfsetdir.1.html, doc/html/en/ref/man1/gfcd.1.html, doc/html/en/ref/man1/gfmkdir.1.html, doc/html/en/ref/man1/gfpwd.1.html, doc/html/en/ref/man1/gfrmdir.1.html, doc/html/en/ref/man1/gfsetdir.1.html:
	regen

	* doc/docbook/en/ref/man1/Makefile.inc, doc/docbook/en/ref/man1/gfcd.1.docbook, doc/docbook/en/ref/man1/gfmkdir.1.docbook, doc/docbook/en/ref/man1/gfpwd.1.docbook, doc/docbook/en/ref/man1/gfrmdir.1.docbook, doc/docbook/en/ref/man1/gfsetdir.1.docbook:
	english version of new documents

	* doc/docbook/ja/ref/man1/gfmkdir.1.docbook, doc/docbook/ja/ref/man1/gfpwd.1.docbook, doc/docbook/ja/ref/man1/gfrmdir.1.docbook:
	update modified date

	* doc/docbook/ja/ref/man1/gfcd.1.docbook, doc/docbook/ja/ref/man1/gfsetdir.1.docbook:
	- use <variablelist>
	- update modified date

2003-07-02  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* INSTALL.ja:
	Added description of setting for chagning Gfarm working directory.

	* doc/html/ja/ref/man1/gfcd.1.html, doc/html/ja/ref/man1/gfpwd.1.html, doc/html/ja/ref/man1/gfsetdir.1.html, man/ja/man1/gfcd.1, man/ja/man1/gfpwd.1, man/ja/man1/gfsetdir.1:
	Initial revision genereted from docbook file.

	* doc/html/ja/ref/man1/gfrmdir.1.html, man/ja/man1/gfrmdir.1:
	Added again because gfrmdir(1) is implemented.

	* doc/html/ja/ref/man1/gfmkdir.1.html, man/ja/man1/gfmkdir.1: regen

	* doc/docbook/ja/ref/man1/gfmkdir.1.docbook: Corrected synopsis.

	* doc/docbook/ja/ref/man1/Makefile.inc:
	Added gfcd(1), gfmkdir(1), gfpwd(1), gfrmdir(1), gfsetdir(1) man pages.

	* doc/docbook/ja/ref/man1/gfcd.1.docbook, doc/docbook/ja/ref/man1/gfpwd.1.docbook, doc/docbook/ja/ref/man1/gfsetdir.1.docbook:
	New file.

2003-06-27  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/gfmkdir/gfmkdir.c, gftool/gfrmdir/gfrmdir.c, lib/libgfarm/gfarm/gfs_client.c, lib/libgfarm/gfarm/gfs_client.h, lib/libgfarm/gfarm/gfs_unlink.c:
	Added operation meta db in making and removing gfarm directory.
	gfmkdir sets the directory information to meta db if making directory succeeds
	on some host. gfrmdir removes from meta db unless a serious error occurs.
	It checks specifiled path name is a directory, dosen't remove files.
	And added checking the argument path isn't a directory in gfs_unlink(),

2003-06-19  Noriyuki Soda  <soda@sra.co.jp>

	* man/man5/gfarm.conf.5, doc/html/en/ref/man5/gfarm.conf.5.html, doc/html/ja/ref/man5/gfarm.conf.5.html, man/ja/man5/gfarm.conf.5:
	regen

	* doc/conf/gfarm.conf, INSTALL.en, INSTALL.ja, doc/docbook/ja/ref/man5/gfarm.conf.5.docbook, doc/docbook/en/ref/man5/gfarm.conf.5.docbook, lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/hostspec.c:
	"*" in hostspec now means all hosts (as well as "ALL").
	"ALL" will be deprecated in the future.

	* gftool/gfrun/gfrun.c: better error reporting

2003-06-18  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/Makefile, gftool/gfmkdir/Makefile, gftool/gfmkdir/gfmkdir.c, gftool/gfrmdir/Makefile, gftool/gfrmdir/gfrmdir.c, include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/gfs_client.c, lib/libgfarm/gfarm/gfs_client.h:
	Implemented gfmkdir and gfrmdir.

	* lib/libgfarm/gfarm/url.c: Added error check.

2003-06-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_local.c, lib/libgfarm/gfarm/gfs_pio_section.c, lib/libgfarm/gfarm/gfs_unlink.c:
	Added profiling feature for gfs_stat() and gfs_unlink().

	* gfptool/gfsplck/gfsplck.c:
	Catched up with the change of behavior of gfarm_url_make_path().
	Now, it returns "no such object" when the specified URL is not registered.

	* lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/gfs_pio.c:
	Output profiling information to stderr not to stdout.

	* gftool/gfrun/gfrun.c, lib/libgfarm/gfutil/timer.c, lib/libgfarm/gfutil/timer.h, lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_local.c:
	Added the -p option to gfrun command for GFS PIO API profiling.

2003-06-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/gfarm/gfs.h, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio_local.c:
	Added profling feature for gfs_pio_set_view_local().

	* include/gfarm/gfs.h, lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfutil/Makefile.inc, lib/libgfarm/gfutil/timer.c, lib/libgfarm/gfutil/timer.h:
	Added experimental profiling support for GFS PIO funcitons.
	To enable profiling, compile libgfarm.a with -DGFS_PROFILE.
	Not tested yet.

2003-06-12  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/url.c:
	- Removed warning about const type modifier.
	- Fixed bug in gfarm_canonical_path_for_creation()  in case of url is
	  "gfarm:/dir/file".

	* lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/url.c, include/gfarm/gfarm_misc.h:
	Fixed bug that gfs_pio_create() fails.
	It was reported by naotaka-san in [gfarm-cvs:01848], [gfarm-cvs:01849].

2003-06-11  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/host.c:
	make it possible to specify host alias as a hostname.
	problem reported by naotaka-san in [gfarm-cvs:01824].

2003-06-11  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfarm/gfs_dir.c: Corrected an error.

	* gftool/Makefile, gftool/gfpwd/Makefile, gftool/gfpwd/gfpwd.c, gftool/gfsetdir/Makefile, gftool/gfsetdir/gfsetdir.c, include/gfarm/gfs.h, lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/url.c:
	-Implemented gfsetdir (for temporaly use instead of gfcd) and gfpwd.

2003-06-11  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/metadb_ldap.c: add extra newline

	* lib/libgfarm/gfarm/metadb_ldap.c: fix memory leak at LDAP access.
	RFC1823 (The LDAP Application Program Interface) is not enough,
	function calls which aren't described in the RFC are needed.

2003-06-10  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_client_gsi.c: an error condition was missed.

2003-06-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/README.hook.en: Fixed a typo.

2003-06-09  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/lseek64.c:
	return value of gfs_hook_syscall_lseek64() was incorrect on linux.
	problem pointed out by tatebe-san.

2003-06-05  Noriyuki Soda  <soda@sra.co.jp>

	* doc/html/en/ref/man1/gfimport_fixed.1.html, doc/html/en/ref/man1/gfimport_text.1.html, doc/html/en/ref/man1/gfsched.1.html, doc/html/ja/ref/man1/gfimport_fixed.1.html, doc/html/ja/ref/man1/gfimport_text.1.html, doc/html/ja/ref/man1/gfsched.1.html, man/ja/man1/gfhost.1, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfsched.1, man/man1/gfimport_fixed.1, man/man1/gfimport_text.1, man/man1/gfsched.1:
	*** empty log message ***

	* doc/docbook/en/ref/man1/gfimport_fixed.1.docbook, doc/docbook/en/ref/man1/gfimport_text.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/ja/ref/man1/gfimport_fixed.1.docbook, doc/docbook/ja/ref/man1/gfimport_text.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook, gftool/gfsched/gfsched.c, include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/schedule.h:
	add "-N" option to "gfsched" command

	* lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfarm/auth_client_gsi.c:
	include "gfutil.h" to suppress warning about missing prototype

	* gftool/gfhost/gfhost.c:
	use gfarm_host_info_address_get() instead of gfarm_host_address_get()
	to reduce inquery to metadata server.

2003-06-04  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/schedule.c:
	- honor struct gfarm_host_info::ncpu for scheduling
	- if there are replicas, previous version of gfarm_url_hosts_schedule()
	  and gfarm_url_hosts_schedule_by_program() schedule same host for
	  multile fragments. this version avoids such stupid scheduling if possible.

	* lib/libgfarm/gfarm/host.c, lib/libgfarm/gfarm/host.h:
	provide gfarm_host_info_address_get() to avoid overhead to query
	gfarm_host_info multiple times.

2003-06-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/README.hook.en: Added a section for C++ programs.

2003-05-30  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/config.c, lib/libgfarm/gfsl/client.c, lib/libgfarm/gfsl/client2.c, lib/libgfarm/gfsl/gfarm_gsi.h, lib/libgfarm/gfsl/gfarm_secure_session.h, lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfsl/scsub.c, lib/libgfarm/gfsl/server.c, lib/libgfarm/gfsl/server2.c, lib/libgfarm/gfsl/session.c:
	get and display GSSAPI authentication error minor status.

	* gftool/gfrun/gfrun.c, server/gfmd/gfmd.c, server/gfsd/gfsd.c, gftool/gfrcmd/gfrcmd.c:
	added -v option displays GSSAPI major and minor error status.

2003-05-27  Noriyuki Soda  <soda@sra.co.jp>

	* server/gfsd/gfsd.c: choose ad hoc way to make bash execute .bashrc

2003-05-23  Noriyuki Soda  <soda@sra.co.jp>

	* include/gfarm/gfarm_misc.h:
	add functions to schedule hosts which can run specified program

	* man/ja/man1/gfexport.1, man/ja/man1/gfhost.1, man/ja/man1/gfrm.1, man/ja/man1/gfrun.1, man/ja/man1/gfsched.1, man/ja/man1/gfwhere.1, man/man1/gfexport.1, man/man1/gfhost.1, man/man1/gfrm.1, man/man1/gfrun.1, man/man1/gfsched.1, man/man1/gfwhere.1, doc/html/en/ref/man1/gfexport.1.html, doc/html/en/ref/man1/gfrm.1.html, doc/html/en/ref/man1/gfrun.1.html, doc/html/en/ref/man1/gfsched.1.html, doc/html/en/ref/man1/gfwhere.1.html, doc/html/ja/ref/man1/gfexport.1.html, doc/html/ja/ref/man1/gfrm.1.html, doc/html/ja/ref/man1/gfrun.1.html, doc/html/ja/ref/man1/gfsched.1.html, doc/html/ja/ref/man1/gfwhere.1.html:
	regen

	* doc/docbook/en/ref/man1/gfexport.1.docbook, doc/docbook/en/ref/man1/gfrm.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/en/ref/man1/gfwhere.1.docbook, doc/docbook/ja/ref/man1/gfexport.1.docbook, doc/docbook/ja/ref/man1/gfrm.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook, doc/docbook/ja/ref/man1/gfwhere.1.docbook:
	replace "sparc-sun-solaris" by "sparc-sun-solaris8"

	* doc/docbook/ja/ref/man1/gfsched.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook:
	- add description about -p option
	- correct description about passing an executable file to -I option

	* doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/ja/ref/man1/gfrun.1.docbook:
	add descriptions about -g and -u option

	* gftool/gfrun/gfrun.c:
	- deal with running a program on a cluster with mixed architectures.
	  we have to restrict hosts by the architectures that the program
	  is registered.
	- add "-u" and "-g" option to manually decide to pass gfarm specific options.
	- clean up by splitting main()

	* gftool/gfsched/gfsched.c:
	add "-p" option to restrict hosts by a program.

	* lib/libgfarm/gfarm/gfs_pio_misc.c, lib/libgfarm/gfarm/schedule.c, lib/libgfarm/gfarm/schedule.h, lib/libgfarm/gfarm/stringlist.c:
	add functions to schedule hosts which can run specified program

	* lib/libgfarm/gfarm/config.c: better behavior on debugger invocation

	* gftool/gfhost/gfhost.c: use gfarm_host_is_in_domain()

	* lib/libgfarm/gfarm/hostspec.c: define gfarm_host_is_in_domain()

2003-05-22  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja:
	add a link to http://www.globus.org/security/ about GSI

	* man/ja/man1/gfhost.1, man/ja/man1/gfmpirun_p4.1, man/man1/gfhost.1, man/man1/gfmpirun_p4.1, doc/html/en/ref/man1/gfhost.1.html, doc/html/en/ref/man1/gfmpirun_p4.1.html, doc/html/ja/ref/man1/gfhost.1.html, doc/html/ja/ref/man1/gfmpirun_p4.1.html:
	regen

	* doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/gfhost.1.docbook:
	gfhost man page

2003-05-22  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfarm/gfs_pio_section.c:
	delete ineffective memory allocation code found by soda-san

2003-05-20  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.ja: alpha-dec -> alpha-hp

	* INSTALL.en, INSTALL.ja, doc/GUIDE.ja:
	be more specific about OS version for architecture name

	* gftool/gfhost/gfhost.c: add a comment to DEFAULT_CONCURRENCY

2003-05-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* INSTALL.en, INSTALL.ja:
	The -D option of gfhost should be the -M option.

2003-05-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Updated the description about flags for a replication hint.

	* doc/html/en/ref/man5/gfarm.conf.5.html, man/man5/gfarm.conf.5: regen

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook:
	Fixed a grammatical error introduced by the previous commit.

	* RELNOTES: Release note for the version 1.0b2.

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja:
	Deleted the item 2.1 because this problem is fixed.

	* INSTALL.en, INSTALL.ja:
	Updated the description related to the gfreg command.

	* ChangeLog: Catched up with the current ChangeLog.

2003-05-19  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/gfj_client.h: typo in comment

	* lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_common.c, lib/libgfarm/gfarm/schedule.c:
	Better (or, at least more usable than current one) scheduling.
	Currently, shuffling is disabled, although it's somewhat tested.
	"-DUSE_SHUFFLED" enables the host shuffling.

	* gftool/gfrun/gfrun.c:
	make it possible to make gfrun suspend/background

	* server/gfmd/gfmd.c: fix minor(?) race condition

	* server/gfmd/gfmd.c: fix resource leak in previous commit

	* server/gfmd/gfmd.c:
	Fix longstanding bug which made gfmd core dump at authentication failure.
	Connection was registered to file_table[] at too early stage, even if
	authentication failed.

	* lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c, server/gfmd/gfmd.c, server/gfsd/gfsd.c:
	Change function signature of gfarm_authorize(), it now returns client
	hostname, too.
	This change also includes some resource leaks. One of them has been
	existed since nearly one year ago. (And again, the bug was introduced
	on 2002/06/24, too...)

	* lib/libgfarm/gfarm/auth_client_gsi.c:
	fix apparent typo (this bug was introduced on 2002/06/24, too...)

2003-05-19  Naotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/changelog: new version

2003-05-19  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_client.c:
	add missing error check (this bug was introduced on 2002/06/24)

	* lib/libgfarm/gfarm/gfs_dir.c:
	Correct a problem that error message about half-written metadata was
	reported as "not a directory".  Now, it is reported as "no fragment
	information".

	problem reported in the following mail:
	From: Naotaka YAMAMOTO <naotaka@ni.aist.go.jp>
	Subject: [gfarm-arch:00312] Re: [datafarm:00449] gfarm software release TODO
	Date: Mon, 14 Apr 2003 11:14:02 +0900 (JST)

	This change includes some fixes about memory leak, too.

2003-05-16  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec: change version number from 1.0b1 to 1.0b2

2003-05-16  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* server/gfmd/gfmd.c:
	do not malloc becuase not return in the middle of function

	* server/gfmd/gfmd.c: enabled to log disconnection

	* lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c:
	moved declarations of variables from the middle of the function to the head
	for old compilers

	* lib/libgfarm/gfutil/gfutil.h, lib/libgfarm/gfutil/logutil.c, server/gfsd/gfsd.c, lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_client.c, lib/libgfarm/gfarm/auth_common.c, lib/libgfarm/gfarm/auth_config.c, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/io_gfsl.h:
	- gfsd: enabled to log authentication and disconnection
	- changed 'authetication method name 'simple' to 'sharedsecret'
	  in function names, messages and so on

2003-05-15  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/docs, debian/gfarm-doc.docs, debian/gfarm-doc.examples, debian/gfmd.examples:
	include gfarm.schema in example directory

2003-05-14  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfmd.conffiles, debian/gfsd.conffiles: re-entry conffiles

	* debian/changelog: debian version -4

	* debian/rules: with japanexe man pages

	* debian/rules: using dh_installinit
	installed english manpages instet of japanese pages.

	* debian/gfmd.postinst: using auto generated gfmd.postinst.debhelper

	* debian/gfmd.init, debian/gfsd.init: rewriten

2003-05-13  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/README.hook.en:
	Added an example of static compilation with the Globus library.

	* INSTALL.ja, doc/GUIDE.ja, doc/Gfarm-FAQ.ja: Converted to EUC.

2003-05-12  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_common.c (FUNC___OPEN):
	Limited the number of retries when gfs_pio_set_view_local() fails.  That is because unlimited number of retries result in the infinite loop at least when a spool directory is not correctly set up.

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook:
	Corrected the description about the netparam rate_limit parameter.

2003-05-12  Hideki Kondou  <hkondo@soum.co.jp>

	* doc/GUIDE.ja:
	Add a sample command line of usage of 'gfreg' new style.

2003-05-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/index.html, doc/html/ja/ref/index.html:
	Added a new category, scheduling, in the section 3.

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja:
	The second revision of the item 2.2.

2003-05-10  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfsl/gfsl_config.h, lib/libgfarm/gfsl/session.c:
	revision 1.2 of gfs_config.h made encryption disabled accidentally,
	by mistakenly using opposite condition.
	this fixes the problem.

2003-05-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfreg/gfreg.c:
	(main) Added the missing initialization for the local variable 'auto_hosts'.

2003-05-09  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfsl/gfarm_gsi.h, lib/libgfarm/gfsl/gfsl_config.h, lib/libgfarm/gfsl/gsi.c, server/gfsd/gfsd.c, lib/libgfarm/gfarm/io_fd.c, lib/libgfarm/gfarm/io_gfsl.c, lib/libgfarm/gfarm/xxx_proto.c, lib/libgfarm/gfarm/xxx_proto.h:
	export delegated credential to a command which is invoked by gfrcmd

	* lib/libgfarm/gfsl/gfsl_config.h:
	- define USE_GLOBUS again, to enable "globus" configuration parameter.
	  (see session.c)
	- define GFARM_GSS_ENCRYPTION_ENABLED=1, even if defined(USE_GLOBUS) case.
	- rename _GFARM_CONFIG_H_ to _GFARM_GFSL_CONFIG_H_

2003-05-09  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfarm/gfs_pio_section.c:
	implemented GFARM_FILE_REPLICATE, GFARM_FILE_NOT_REPLICATE

2003-05-08  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfsd.init: fixed a bug: cannot restart

	* debian/control: Fixed typo.

	* debian/gfarm-doc.install, debian/rules:
	using /usr/share/doc/gfarm-doc in gfarm-doc package

2003-05-08  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja:
	Added an item 2.2 in the trouble shooting section to check and delete unnecessary files in a spool directory.

	* lib/libgfarm/gfarm/gfs_pio_misc.c (gfarm_url_fragments_replicate):
	Fixed a serious bug of buffer overrun.

	* ChangeLog: Catched up with the current ChangeLog.

	* gfptool/gfcp/gfcp.c:
	Display an error message when file transfer error happens.

	* gftool/gfreg/gfreg.c:
	Fixed a bug such that the following cases do not work well;
	% gfreg file gfarm:dir
	% gfreg excutable ... gfarm:dir

2003-05-07  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/auth_server_gsi.c:
	revert to the previous version 1.3 due to the unwilling commit.

	* lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/schedule.c (gfarm_schedule_search_idle_hosts):
	plugged a memory leak.
	Improved the wording of the error messages.

	* gftool/gfreg/gfreg.c:
	Added a new feature to register multiple local files.
	For example,

	% gfreg -I 0 -N 1 file1 file2 file3 gfarm:
	% gfls
	file1 file2 file3
	% gfreg file1 file2 file3 gfarm:file
	% gfwhere file
	0: gfm01.apgrid.org
	1: gfm02.apgrid.org
	2: gfm03.apgrid.org
	% gfreg gf* gfarm:/bin
	% gfls /bin
	gfcombine      gfcp           gfgrep         gfsplck
	gfcombine_hook gfcp_hook      gfreg

	In the second case, each file fragment will be stored on different filesystem nodes if available.

	* include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/gfs_pio_misc.c, lib/libgfarm/gfarm/schedule.c, lib/libgfarm/gfarm/schedule.h (gfarm_schedule_search_idle_hosts):
	Even if enough number of hosts are not available, select requested number of hosts by re-using available hosts in the cyclic manner.
	schedule.c: Even if available number of hosts is the same as the requested number of hosts, check the availability of hosts.
	gfarm_host_domain_hosts_schedule() is replaced by gfarm_schedule_search_idle_by_domainname() that calls gfarm_schedule_search_idle_hosts() internally to select only available hosts.

2003-05-07  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec: use macro, more

2003-05-07  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: fsnode: does not replace /etc/gfarm.conf
	server: remove empty /etc/gfarm-ldap directory

2003-05-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfarm/gfarm/gfs_exec.c: cvs-log test again.

	* doc/html/ja/ref/man5/gfarm.conf.5.html: regen

	* man/ja/man5/gfarm.conf.5: regen
	cvs-log test again.  This mail should be sent from o.tatebe@aist.go.jp not tatebe@cvs.apgrid.org.

	* doc/docbook/ja/ref/man5/gfarm.conf.5.docbook:
	cvs-log test.  This mail should be sent from o.tatebe@aist.go.jp not tatebe@cvs.apgrid.org.

	* man/man8/Makefile, man/ja/man1/Makefile, man/ja/man3/Makefile, man/ja/man5/Makefile, man/ja/man8/Makefile, man/man1/Makefile, man/man3/Makefile, man/man5/Makefile:
	Added EXTRA_CLEAN_TARGETS to clean up manpage.links and manpage.refs.

2003-05-01  Hideki Kondou  <hkondo@soum.co.jp>

	* util/gfsuites/src/gfsuites/common/GFWHEREParser.java, util/gfsuites/src/sample.html:
	fix 'somewhere.com' -> 'example.com'

2003-05-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man1/gfrcmd.1.html, doc/html/ja/ref/man1/gfrcmd.1.html, man/ja/man1/gfrcmd.1, man/man1/gfrcmd.1:
	regen

	* doc/docbook/en/ref/man1/gfrcmd.1.docbook, doc/docbook/ja/ref/man1/gfrcmd.1.docbook, gftool/gfrcmd/gfrcmd.c:
	Updated the description about command-line options.

	* lib/libgfarm/gfarm/config.c:
	(gfarm_strtoken) Fixed a trivial cast error.

2003-04-30  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/config.c:
	- fix signed vs unsigned char * warning with gcc on solaris
	- fix printf format string warning with gcc on solaris

	* lib/libgfarm/gfarm/hostspec.c:
	fix signed vs unsigned char * warning with gcc on solaris

2003-04-28  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

2003-04-28  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfarm/config.c:
	add function map-user and let gfarm-local-to-global-usernam and
	gfarm-global-to-local-username call it. Soda-san made the patch-file
	for this modification.

2003-04-28  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/rules: auto generating/removing debian/*gsi.install files

	* debian/control: change dependencies

	* debian/changelog: version 1.0b1-3

	* debian/postinst: don't call /etc/init.d/gfarm-server

	* util/ptool/Makefile: have not execute flag x

	* debian/rules: change clean:

	* debian/changelog, debian/control, debian/gfarm-client.files, debian/gfarm-client.install, debian/gfarm-doc.files, debian/gfarm-doc.install, debian/gfarm-gfptool.files, debian/gfarm-gfptool.install, debian/gfarmd.files, debian/gfmd.files, debian/gfmd.install, debian/gfsd.conffiles, debian/gfsd.files, debian/gfsd.install, debian/libgfarm-dev.files, debian/libgfarm-dev.install, debian/rules:
	building -gsi packages.
	using dh_install instet of dh_movefiles (using package.install files)
	gfsd.conffiles is not needed

	* debian/gfarm-gfptool.files: rename from gfarm.files

	* debian/gfarm.files: rename to gfarm-gfptool.files

	* debian/control, debian/rules: change package name

2003-04-26  Noriyuki Soda  <soda@sra.co.jp>

	* configure: regen

	* configure.in:
	do not set $globus_location=${GLOBUS_LOCATION}, if globus is disabled

	* package/solaris/gfmd.in, package/solaris/gfsd.in:
	workaround a problem that -R doesn't work with indirectly dependent SOs
	like the follows:
		libglobus_gsi_proxy_core_gcc32.so.0
		libglobus_gsi_credential_gcc32.so.0
		libglobus_gsi_callback_gcc32.so.0
		libglobus_oldgaa_gcc32.so.0
		libglobus_gsi_sysconfig_gcc32.so.0
		libglobus_gsi_cert_utils_gcc32.so.0
		libglobus_openssl_error_gcc32.so.0
		libglobus_openssl_gcc32.so.0
		libglobus_proxy_ssl_gcc32.so.0
		libglobus_common_gcc32.so.0

	* package/solaris/gfarm-fsnode.files: remove blank line

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/solaris/gfarm-fsnode.files:
	etc/gfarm.conf -> etc/gfarm.conf.sample, to prevent to overwrite gfarm.conf

	* package/solaris/gfarm-doc.files:
	usr/grid/share/doc/gfarm -> usr/grid/share

	* package/solaris/gfarm-client.files, package/solaris/gfarm-devel.files, package/solaris/gfarm-doc.files, package/solaris/gfarm-fsnode.files, package/solaris/gfarm-gfptool.files, package/solaris/gfarm-server.files:
	files for solaris package

	* makes/config.mk.in:
	make "make prefix=XXXX install" effective for $(docdir)

	* configure: regen

	* Makefile.in, configure.in, package/redhat/gfarm.spec, package/redhat/gfmd, package/redhat/gfmd.in, package/redhat/gfsd, package/redhat/gfsd.in, package/solaris/gfmd, package/solaris/gfmd.in, package/solaris/gfsd, package/solaris/gfsd.in:
	automatically rewrite ${prefix} in the rc.d scripts.
	bump RPM rel number from 1 to 2 (i.e. gfarm-*-1.0b1-2.i386.rpm).

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man1/gfhost.1.html, doc/html/ja/ref/man1/gfhost.1.html, man/ja/man1/gfhost.1, man/man1/gfhost.1:
	regen

	* doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/gfhost.1.docbook:
	The -L option should be the -M option.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec, util/ptool/Makefile: do not install pdiff

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man5/gfarm.conf.5.html, man/man5/gfarm.conf.5: regen

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook: Improved the wording.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/changelog: set version for release

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfsl/auth.c: missing semicolon

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfarm-client.files: remove pdiff in this package

	* debian/libgfarm-dev.files: typo

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfsl/auth.c, lib/libgfarm/gfsl/misc.c, lib/libgfarm/gfsl/session.c, lib/libgfarm/gfsl/tcputil.c:
	- make it possible to use syslog
	- use snprintf, if available

	* lib/libgfarm/gfsl/Makefile.inc: add dependency

	* configure, configure.in: cosmetic fix

	* INSTALL.en, INSTALL.ja:
	don't describe the contents of the gfarm.schema, but just refer the filename

	* package/redhat/gfarm.spec:
	install gfarm.conf to /etc/, and gfarm.schema to /etc/gfarm-ldap/

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/control: remove gfarmd package

	* debian/gfarm-client.files: same gfarm.spec

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja:
	Added an entry for "not a directory".
	Improved the wording.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfmd.postinst: never start init script

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* man/man5/gfarm.conf.5, man/ja/man5/gfarm.conf.5, doc/html/ja/ref/man5/gfarm.conf.5.html, doc/html/en/ref/man5/gfarm.conf.5.html:
	regen

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook: forgot to update BNF

	* doc/docbook/ja/ref/man5/gfarm.conf.5.docbook: wording

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfmd.files, debian/gfsd.conffiles, debian/gfsd.files, debian/rules:
	not start daemon after installation

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* doc/html/ja/ref/man5/gfarm.conf.5.html, doc/html/en/ref/man5/gfarm.conf.5.html:
	regen

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook:
	correct syntax error in the previous commit

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook:
	broken english translation of "local_user_map" feature.
	(it's better than nothing.)

	* doc/docbook/ja/ref/man5/gfarm.conf.5.docbook:
	fix typo (local_usr_map -> local_user_map), etc...

	* doc/Gfarm-FAQ.en:
	very preliminary FAQ with broken English translation.

	* doc/Gfarm-FAQ.ja: very preliminary FAQ

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/gfsd.conffiles: init script and conf file

	* debian/gfsd.files: add gfarm.conf

	* debian/rules: change mode ./etc/gfarm.conf

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* util/00README: Improved the wording.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/libgfarm-dev.files, debian/rules: add *mpi.o

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* doc/html/en/ref/index.html, doc/html/ja/ref/index.html: better index

	* package/redhat/gfarm.spec:
	add pcat, pcp, pdel, pdiff, pdist and prun to gfarm-client RPM

	* configure: regen

	* configure.in: change default ${prefix} from $HOME to /usr/local

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Added the section of Gfarm filesystem.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/rules: define package names *_PKG

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* man/man3/gfs_chmod.3, man/man3/gfs_chown.3, man/man3/gfs_mkdir.3, man/man3/gfs_rename.3, man/man3/gfs_rmdir.3, man/ja/man3/gfs_chmod.3, man/ja/man3/gfs_chown.3, man/ja/man3/gfs_mkdir.3, man/ja/man3/gfs_rename.3, man/ja/man3/gfs_rmdir.3, man/ja/man1/gfmkdir.1, man/ja/man1/gfrmdir.1, doc/html/ja/ref/man3/gfs_chmod.3.html, doc/html/ja/ref/man3/gfs_chown.3.html, doc/html/ja/ref/man3/gfs_mkdir.3.html, doc/html/ja/ref/man3/gfs_rename.3.html, doc/html/ja/ref/man3/gfs_rmdir.3.html, doc/html/ja/ref/man1/gfmkdir.1.html, doc/html/ja/ref/man1/gfrmdir.1.html, doc/html/en/ref/man3/gfs_chmod.3.html, doc/html/en/ref/man3/gfs_chown.3.html, doc/html/en/ref/man3/gfs_mkdir.3.html, doc/html/en/ref/man3/gfs_rename.3.html, doc/html/en/ref/man3/gfs_rmdir.3.html:
	remove following manuals for now, because those are not implemented yet:
		gfmkdir(1), gfrmdir(1), gfs_chmod(3), gfs_chown(3),
		gfs_mkdir(3), gfs_rmdir(3), gfs_rename(3)

	* Makefile.in, util/ptool/Makefile:
	install pcat, pcp, pdel, pdiff, pdist and prun into ${prefix}/bin

	* man/man1/digest.1, man/ja/man1/digest.1, doc/html/ja/ref/man1/digest.1.html, doc/html/en/ref/man1/digest.1.html:
	regen

	* doc/docbook/en/ref/man1/digest.1.docbook, doc/docbook/ja/ref/man1/digest.1.docbook, gftool/digest/digest.c:
	make digest command compatible with somewhat popular free program which has
	same name.

2003-04-25  Yasuhito Takamiya  <takamiya@matsulab.is.titech.ac.jp>

	* debian/gfarm-doc.files: added.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/rules: use gcc

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec:
	install RELNOTES into /usr/doc/gfarm-1.0b1/

	* doc/Makefile: install RELNOTES into ${prefix}/share/doc/gfarm/

2003-04-25  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* doc/docbook/ja/ref/man5/gfarm.conf.5.docbook, doc/html/ja/ref/man5/gfarm.conf.5.html, man/ja/man5/gfarm.conf.5:
	add description of user map.

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Added the section of sample parallel commands.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec:
	- add --with-mpi automatically, if /usr/bin/mpicc exists.
	- define %{have_ns} macro, and use it for the decision to include "ns" tools.

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* RELNOTES: Release Notes

	* util/ptool/pcat, util/ptool/pcp, util/ptool/pdel, util/ptool/pdiff, util/ptool/pdist, util/ptool/prun:
	Parallel tools for cluster management.

2003-04-25  Hideki Kondou  <hkondo@soum.co.jp>

	* INSTALL.en, INSTALL.ja:  * fix a path prefix in sample command line.
	   /usr/local/gfarm -> /usr/grid

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* debian/rules, doc/Makefile, makes/config.mk.in, package/redhat/gfarm.spec:
	- change the installation directory of html files
	  from ${prefix}/html to ${prefix}/share/doc/gfarm/html
	  (as debian package did).
	- install the following files into ${prefix}/share/doc/.
	  LICENSE, INSTALL.en, INSTALL.ja,
	  GUIDE.ja, Gfarm-FAQ.en, Gfarm-FAQ.ja, README.hook.en

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/man1/gfrun.1.html, doc/html/ja/ref/man1/gfrun.1.html, man/ja/man1/gfrun.1, man/man1/gfrun.1:
	regen

	* doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/ja/ref/man1/gfrun.1.docbook:
	Updated the description.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec:
	build gfarm-*.rpm and gfarm-gsi-*.rpm (w/ globus) by only one spec file.

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Display warning message when the -N option is ignored.

	* doc/docbook/ja/ref/man1/gfrun.1.docbook: Updated the description.

2003-04-25  Yasuhito Takamiya  <takamiya@matsulab.is.titech.ac.jp>

	* debian/rules: fixed prefix and DESTDIR. now debuild is okay.

	* debian/rules: make {install,distclean} in build/ dir.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec:
	remove --with-globus, use macros to make it easy to change install prefix.

	* doc/Gfarm-FAQ.en, doc/Gfarm-FAQ.ja:
	Added Gfarm FAQs for packaging. (These are empty for now.)
	XXX - should be written as an article of DocBook SGML/XML format.

2003-04-25  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec:
	add gfarm.conf.5 man and html pages in English.

2003-04-25  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/files: this file is created by debuild.

2003-04-25  Yasuhito Takamiya  <takamiya@matsulab.is.titech.ac.jp>

	* debian/rules: mkdir ${top_srcdir}/build/ dir and do make in it.

2003-04-25  Hideki Kondou  <hkondo@soum.co.jp>

	* doc/GUIDE.ja: Fix a sample path, /usr/local -> /usr/grid

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* debian/rules, package/redhat/gfarm.spec: add gfhost(1) manual page

2003-04-25  Hideki Kondou  <hkondo@soum.co.jp>

	* doc/GUIDE.ja, util/gfsuites/bin/gfront, util/gfsuites/bin/gmonitor, util/gfsuites/bin/grapher, util/gfsuites/etc/gmonitor-sample.conf, util/gfsuites/src/gfsuites/common/FilesetDataSource.java, util/gfsuites/src/gfsuites/common/GFAppConst.java, util/gfsuites/src/gfsuites/gmonitor/GMonitor.java, util/glogger/README.ja, util/glogger/sample.conf:
	Some fixing and unification of sample domainname.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* man/man5/gfarm.conf.5, man/man1/gfhost.1, man/ja/man1/gfhost.1, doc/html/ja/ref/man1/gfhost.1.html, doc/html/en/ref/man5/gfarm.conf.5.html, doc/html/en/ref/man1/gfhost.1.html:
	regen

	* doc/docbook/en/ref/man1/Makefile.inc, doc/docbook/en/ref/man1/gfhost.1.docbook, doc/docbook/ja/ref/man1/Makefile.inc, doc/docbook/ja/ref/man1/gfhost.1.docbook:
	Added gfhost(1) man pages for packaging. (These are empty for now.)

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/docbook/en/ref/man5/gfarm.conf.5.docbook: Checked spelling.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* debian/rules, doc/docbook/en/ref/man3/Makefile.inc, doc/docbook/ja/ref/man1/Makefile.inc, doc/docbook/ja/ref/man3/Makefile.inc, package/redhat/gfarm.spec:
	do not install following manuals, because those are not implemented yet:
		gfmkdir(1), gfrmdir(1),	gfs_chmod(3), gfs_chown(3),
		gfs_mkdir(3), gfs_rmdir(3), gfs_rename(3)

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/html/en/ref/Makefile, doc/html/en/ref/index.html, doc/html/en/ref/man5/Makefile, doc/html/en/ref/man5/gfarm.conf.5.html, man/Makefile, man/man5/Makefile, man/man5/gfarm.conf.5:
	Added section 5 in English.
	Generated man and html pages from docbook files.

2003-04-25  Noriyuki Soda  <soda@sra.co.jp>

	* man/man3/gfs_pio_create.3, man/man3/gfs_pio_open.3, man/man3/gfs_pio_set_view_index.3, man/man1/gfreg.1, man/man1/gfrun.1, man/man1/gfwc.1, man/ja/man5/gfarm.conf.5, man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_set_view_index.3, man/ja/man1/gfreg.1, man/ja/man1/gfwc.1, doc/html/ja/ref/man5/gfarm.conf.5.html, doc/html/ja/ref/man3/gfs_pio_create.3.html, doc/html/ja/ref/man3/gfs_pio_open.3.html, doc/html/ja/ref/man3/gfs_pio_set_view_index.3.html, doc/html/ja/ref/man1/gfreg.1.html, doc/html/ja/ref/man1/gfwc.1.html, doc/html/en/ref/man3/gfs_pio_create.3.html, doc/html/en/ref/man3/gfs_pio_open.3.html, doc/html/en/ref/man3/gfs_pio_set_view_index.3.html, doc/html/en/ref/man1/gfreg.1.html, doc/html/en/ref/man1/gfrun.1.html, doc/html/en/ref/man1/gfwc.1.html:
	regen ("gfmpirun" command is renamed to "gfmpirun_p4")

	* doc/docbook/ja/ref/man3/gfs_pio_create.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_open.3.docbook, doc/html/en/ref/man1/gfmpirun.1.html, doc/html/en/ref/man1/gfmpirun_p4.1.html, doc/html/ja/ref/man1/gfmpirun.1.html, doc/html/ja/ref/man1/gfmpirun_p4.1.html, gftool/gfmpirun/Makefile, gftool/gfmpirun/gfmpirun.c, man/ja/man1/gfmpirun.1, man/ja/man1/gfmpirun_p4.1, man/man1/gfmpirun.1, man/man1/gfmpirun_p4.1, package/redhat/gfarm.spec, INSTALL.en, INSTALL.ja, debian/gfarm-client.files, debian/rules, doc/docbook/en/ref/man1/Makefile.inc, doc/docbook/en/ref/man1/gfmpirun.1.docbook, doc/docbook/en/ref/man1/gfmpirun_p4.1.docbook, doc/docbook/en/ref/man1/gfreg.1.docbook, doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/en/ref/man1/gfwc.1.docbook, doc/docbook/en/ref/man3/gfs_pio_create.3.docbook, doc/docbook/en/ref/man3/gfs_pio_open.3.docbook, doc/docbook/ja/ref/man1/Makefile.inc, doc/docbook/ja/ref/man1/gfmpirun.1.docbook, doc/docbook/ja/ref/man1/gfmpirun_p4.1.docbook, doc/docbook/ja/ref/man1/gfreg.1.docbook, doc/docbook/ja/ref/man1/gfwc.1.docbook:
	"gfmpirun" command is renamed to "gfmpirun_p4"

2003-04-25  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* doc/docbook/en/ref/man5/Makefile.inc, doc/docbook/en/ref/man5/gfarm.conf.5.docbook, doc/docbook/ja/ref/man5/gfarm.conf.5.docbook:
	Added the english version of gfarm.conf(5).

2003-04-25  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/libgfarm/gfarm/config.c: fixed bugs in reading user map file.

2003-04-24  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c: Updated description of usage.
	When there is no scheduling information and the gfrun command is executed on a non-filesystem node, choose a (remote) filesystem node with the lowest load average.

2003-04-24  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja: drop Tru64 and IRIX

	* server/Makefile.inc: (forgot to commit this one)
	install gfmd, gfsd and gfarmd into ${prefix}/sbin (rather than ${prefix}/bin)

	* debian/rules, makes/config.mk.in, ns/gfarmd/Makefile.in, package/redhat/gfarm.spec, server/gfmd/Makefile, server/gfsd/Makefile:
	install gfmd, gfsd and gfarmd into ${prefix}/sbin (rather than ${prefix}/bin)

2003-04-24  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: change version number: 1.0 -> 1.0b1 and
	       configure --prefix: /usr/lcoal/gfarm -> /usr/grid
	for 1st public release.

	* package/redhat/gfarm.spec: change for public release 1.0

2003-04-23  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfutil/Makefile.inc, lib/libgfarm/gfutil/daemon.c, lib/libgfarm/gfutil/gfutil.h, lib/libgfarm/gfutil/limit.c, lib/libgfarm/gfutil/logutil.c, ns/gfarmd/gfarmd.c, ns/gfarmd/gfd_auth.c, ns/gfarmd/gfd_file.c, ns/gfarmd/gfd_parse.c, server/gfmd/gfmd.c, server/gfsd/gfsd.c:
	to prevent name space pollution, rename some functions as follows:
	daemon()		->	gfarm_daemon()
	unlimit_nofiles()	->	gfarm_unlimit_nofiles()
	fatal*()		->	gflog_fatal*()
	syslog_name_to_facility() ->	gflog_syslog_name_to_facility()
	log_open_syslog()	->	gflog_syslog_open()
	log_*()			->	gflog_*()

	* lib/Makefile, lib/libgfarm/gfsl/Makefile:
	make test programs in lib/libgfarm/gfsl/

	* lib/libgfarm/gfsl/Makefile.inc, lib/libgfarm/gfsl/auth.c, lib/libgfarm/gfsl/client.c, lib/libgfarm/gfsl/client2.c, lib/libgfarm/gfsl/gfarm_hash.c, lib/libgfarm/gfsl/gfarm_hash.h, lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfsl/misc.c, lib/libgfarm/gfsl/misc.h, lib/libgfarm/gfsl/server.c, lib/libgfarm/gfsl/server2.c, lib/libgfarm/gfsl/session.c, lib/libgfarm/gfsl/tcputil.c, lib/libgfarm/gfsl/tcputil.h:
	- remove a hash module which was derived from Tcl.
	  use home-grown hash module instead.
	- add "gfarm" prefix to functions in tcputil.c and misc.c
	  to prevent name space pollution.

	* lib/libgfarm/Makefile: forgot to add -DGLOBUS_BUG

	* lib/libgfarm/gfarm/auth_server_gsi.c:
	adapt changes about gfarm_local_to_global_username() function prototype

2003-04-23  Hideki Kondou  <hkondo@soum.co.jp>

	* util/glogger/libglogger.c, util/glogger/sample.conf: New file.

	* util/glogger/libglogger.c, util/glogger/sample.conf:
	importing GMonitor, GFront, GLogger.

	* util/glogger/glogd, util/glogger/glogger.c, util/glogger/glogger.h:
	New file.

	* util/glogger/glogd, util/glogger/glogger.c, util/glogger/glogger.h:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/NodeMonitor.java, util/gfsuites/src/gfsuites/gmonitor/RangePanel.java, util/glogger/INSTALL, util/glogger/Makefile, util/glogger/README.ja, util/glogger/avg.pl:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/NodeMonitor.java, util/gfsuites/src/gfsuites/gmonitor/RangePanel.java, util/glogger/INSTALL, util/glogger/Makefile, util/glogger/README.ja, util/glogger/avg.pl:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/GraphFrame.java, util/gfsuites/src/gfsuites/gmonitor/GraphFrameApp.java, util/gfsuites/src/gfsuites/gmonitor/GrapherApplet.java, util/gfsuites/src/gfsuites/gmonitor/HttpGraphPanel.java:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/GraphFrame.java, util/gfsuites/src/gfsuites/gmonitor/GraphFrameApp.java, util/gfsuites/src/gfsuites/gmonitor/GrapherApplet.java, util/gfsuites/src/gfsuites/gmonitor/HttpGraphPanel.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/GPlot.java: New file.

	* util/gfsuites/src/gfsuites/gmonitor/GPlot.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/GMonitor.java, util/gfsuites/src/gfsuites/gmonitor/GMonitorApp.java, util/gfsuites/src/gfsuites/gmonitor/GMonitorConst.java:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/GMonitor.java, util/gfsuites/src/gfsuites/gmonitor/GMonitorApp.java, util/gfsuites/src/gfsuites/gmonitor/GMonitorConst.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/GFNode.java, util/gfsuites/src/gfsuites/gmonitor/GFNodeEditor.java, util/gfsuites/src/gfsuites/gmonitor/GMActions.java:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/GFNode.java, util/gfsuites/src/gfsuites/gmonitor/GFNodeEditor.java, util/gfsuites/src/gfsuites/gmonitor/GMActions.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/FileDataVisualizer.java:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/FileDataVisualizer.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/gmonitor/ClusterGraphFrame.java, util/gfsuites/src/gfsuites/gmonitor/ConfReader.java, util/gfsuites/src/gfsuites/gmonitor/DataVisualizeFrame.java:
	New file.

	* util/gfsuites/src/gfsuites/gmonitor/ClusterGraphFrame.java, util/gfsuites/src/gfsuites/gmonitor/ConfReader.java, util/gfsuites/src/gfsuites/gmonitor/DataVisualizeFrame.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/common/TreeChooser.java, util/gfsuites/src/gfsuites/common/ValueCellRenderer.java, util/gfsuites/src/gfsuites/gfront/DirectoryTreeNode.java, util/gfsuites/src/gfsuites/gfront/FileTableModel.java, util/gfsuites/src/gfsuites/gfront/GFAction.java, util/gfsuites/src/gfsuites/gfront/GFront.java, util/gfsuites/src/gfsuites/gfront/GFrontApp.java, util/gfsuites/src/gfsuites/gfront/GFrontConst.java:
	New file.

	* util/gfsuites/src/gfsuites/common/TreeChooser.java, util/gfsuites/src/gfsuites/common/ValueCellRenderer.java, util/gfsuites/src/gfsuites/gfront/DirectoryTreeNode.java, util/gfsuites/src/gfsuites/gfront/FileTableModel.java, util/gfsuites/src/gfsuites/gfront/GFAction.java, util/gfsuites/src/gfsuites/gfront/GFront.java, util/gfsuites/src/gfsuites/gfront/GFrontApp.java, util/gfsuites/src/gfsuites/gfront/GFrontConst.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/common/HttpDataSourceContext.java, util/gfsuites/src/gfsuites/common/MetaServerAccess.java, util/gfsuites/src/gfsuites/common/MetaServerSpecifyer.java, util/gfsuites/src/gfsuites/common/NodeDisplayTableModel.java, util/gfsuites/src/gfsuites/common/NodeListChooser.java, util/gfsuites/src/gfsuites/common/ReadOnlyTableModel.java:
	New file.

	* util/gfsuites/src/gfsuites/common/HttpDataSourceContext.java, util/gfsuites/src/gfsuites/common/MetaServerAccess.java, util/gfsuites/src/gfsuites/common/MetaServerSpecifyer.java, util/gfsuites/src/gfsuites/common/NodeDisplayTableModel.java, util/gfsuites/src/gfsuites/common/NodeListChooser.java, util/gfsuites/src/gfsuites/common/ReadOnlyTableModel.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/common/GFLSParser.java, util/gfsuites/src/gfsuites/common/GFWHEREParser.java, util/gfsuites/src/gfsuites/common/GLoggerUtils.java, util/gfsuites/src/gfsuites/common/HostSymFileFilter.java, util/gfsuites/src/gfsuites/common/HttpDataSource.java:
	New file.

	* util/gfsuites/src/gfsuites/common/GFLSParser.java, util/gfsuites/src/gfsuites/common/GFWHEREParser.java, util/gfsuites/src/gfsuites/common/GLoggerUtils.java, util/gfsuites/src/gfsuites/common/HostSymFileFilter.java, util/gfsuites/src/gfsuites/common/HttpDataSource.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/src/gfsuites/common/FragmentEditor.java, util/gfsuites/src/gfsuites/common/GFAppConst.java, util/gfsuites/src/gfsuites/common/GFAppUtilities.java:
	New file.

	* util/gfsuites/src/gfsuites/common/FragmentEditor.java, util/gfsuites/src/gfsuites/common/GFAppConst.java, util/gfsuites/src/gfsuites/common/GFAppUtilities.java:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/lib/plotapplet.jar, util/gfsuites/src/gfsuites/common/AbstractDataSource.java, util/gfsuites/src/gfsuites/common/AbstractDataSourceContext.java, util/gfsuites/src/gfsuites/common/CommandOutput.java, util/gfsuites/src/gfsuites/common/ConfigurationGFARM.java, util/gfsuites/src/gfsuites/common/DoubleCellRenderer.java, util/gfsuites/src/gfsuites/common/FilesetDataSource.java, util/gfsuites/src/gfsuites/common/FilesetDataSourceContext.java, util/gfsuites/src/index.html, util/gfsuites/src/sample.html:
	New file.

	* util/gfsuites/lib/plotapplet.jar, util/gfsuites/src/gfsuites/common/AbstractDataSource.java, util/gfsuites/src/gfsuites/common/AbstractDataSourceContext.java, util/gfsuites/src/gfsuites/common/CommandOutput.java, util/gfsuites/src/gfsuites/common/ConfigurationGFARM.java, util/gfsuites/src/gfsuites/common/DoubleCellRenderer.java, util/gfsuites/src/gfsuites/common/FilesetDataSource.java, util/gfsuites/src/gfsuites/common/FilesetDataSourceContext.java, util/gfsuites/src/index.html, util/gfsuites/src/sample.html:
	importing GMonitor, GFront, GLogger.

	* util/gfsuites/bin/gmonitor, util/gfsuites/bin/graphapp, util/gfsuites/bin/grapher, util/gfsuites/etc/gmonitor-sample.conf:
	New file.

	* util/gfsuites/bin/gmonitor, util/gfsuites/bin/graphapp, util/gfsuites/bin/grapher, util/gfsuites/etc/gmonitor-sample.conf:
	importing GMonitor, GFront, GLogger.

	* util/00README, util/gfsuites/bin/gfront, util/gfsuites/build.xml:
	New file.

	* util/00README, util/gfsuites/bin/gfront, util/gfsuites/build.xml:
	importing GMonitor, GFront, GLogger.

2003-04-23  Takuya Ishibashi  <takuya@soum.co.jp>

	* doc/GUIDE.ja:
	- Added notes about mixing sharedsecret and gsi authentication.
	- Added notes about setting PATH before executing Gfarm commands.
	- Converted EUC to Shift JIS.

2003-04-23  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* README.hook.en, doc/README.hook.en:
	Moved from the top directory to the doc/ directory.

	* doc/docbook/en/ref/man3/gfs_pio_set_view_index.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_view_index.3.docbook:
	Fixed typo.

2003-04-23  Hideki Kondou  <hkondo@soum.co.jp>

	* doc/GUIDE.ja: Charset conversion, JIS to EUC.

	* doc/GUIDE.ja: Gfarm User's Guide.

2003-04-23  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/gfkey/gfkey.c: change function name in config.c

	* gftool/gfrcmd/gfrcmd.c, include/gfarm/gfarm_misc.h, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/config.c:
	implement local <--> global user name mapping

2003-04-18  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* LICENSE: Copyright notice

2003-04-17  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfarm/Makefile, makes/include.mk, makes/subdir.mk, makes/var.mk, ns/gfarm/Makefile:
	make "configure --srcdir=..." work again

	* configure: regen

	* configure.in: mistake in previous commit.
	this caused "make" fail unless openldap belongs to /usr.

	* ns/nslib/Makefile.in:
	use same expression with subdir.mk to see whether --srcdir was used
	at "configure" time.

	* Makefile.in, ns/Makefile, ns/nslib/Makefile.in, ns/nstool/Makefile:
	fix build problems under ns/ hierarchy

	* ns/nslib/Makefile: remove a file which was committed accidentally

	* include/gfarm/config.h.in:
	remove a garbage file which was committed accidentally.

2003-04-16  Noriyuki Soda  <soda@sra.co.jp>

	* server/Makefile, ns/Makefile, makes/config.mk.in, makes/include.mk, makes/subdir.mk, makes/var.mk, lib/libgfarm/Makefile, lib/gfs_hook/Makefile.in, lib/Makefile, gftool/gfrun/Makefile, gftool/gfreg/Makefile, gftool/gfrcmd/Makefile, gftool/gfps/Makefile, gftool/gfmpirun/Makefile, gftool/gfls/Makefile, gftool/gfkey/Makefile, gftool/gfhost/Makefile, gftool/addpath/Makefile, gfptool/gfsplck/Makefile, Makefile.in, configure, configure.in, gfarm_config.h.in:
	directories are restructured

	* server/gfsd/Makefile, server/gfsd/gfsd.c, server/gfsd/loadavg.c:
	moved from gfsd

	* server/gfmd/Makefile, server/gfmd/gfmd.c: moved from gfmd

	* ns/nstool/Makefile: moved from nstool

	* ns/nstool/file/Makefile.in, ns/nstool/file/get.c, ns/nstool/file/ns_get.c, ns/nstool/file/ns_lstat.c, ns/nstool/file/ns_mkdir.c, ns/nstool/file/ns_put.c, ns/nstool/file/ns_readdir.c, ns/nstool/file/ns_readlink.c, ns/nstool/file/ns_rename.c, ns/nstool/file/ns_stat.c, ns/nstool/file/ns_symlink.c, ns/nstool/file/ns_unlink.c, ns/nstool/file/ns_unlink_dir.c, ns/nstool/file/put.c, ns/nstool/file/stat.c:
	moved from nstool/file

	* ns/nslib/Makefile, ns/nslib/Makefile.in, ns/nslib/bswap.c, ns/nslib/bswap.h, ns/nslib/comm.c, ns/nslib/file.c, ns/nslib/gflib.c, ns/nslib/nsclnt.c, ns/nslib/nsexec.c, ns/nslib/soc-lxdr.c, ns/nslib/soc.c:
	moved from nslib

	* lib/libgfarm/gfsl/Makefile, lib/libgfarm/gfsl/Makefile.gt1, lib/libgfarm/gfsl/Makefile.inc, lib/libgfarm/gfsl/README, lib/libgfarm/gfsl/REFERENCE, lib/libgfarm/gfsl/Why, lib/libgfarm/gfsl/auth.c, lib/libgfarm/gfsl/client.c, lib/libgfarm/gfsl/client2.c, lib/libgfarm/gfsl/gfarm-initiator.conf, lib/libgfarm/gfsl/gfarm-usermap, lib/libgfarm/gfsl/gfarm_auth.h, lib/libgfarm/gfsl/gfarm_gsi.h, lib/libgfarm/gfsl/gfarm_hash.c, lib/libgfarm/gfsl/gfarm_hash.h, lib/libgfarm/gfsl/gfarm_secure_session.h, lib/libgfarm/gfsl/gfsl_config.h, lib/libgfarm/gfsl/gsi.c, lib/libgfarm/gfsl/misc.c, lib/libgfarm/gfsl/scsub.c, lib/libgfarm/gfsl/server.c, lib/libgfarm/gfsl/server2.c, lib/libgfarm/gfsl/session.c, lib/libgfarm/gfsl/tcputil.c, lib/libgfarm/gfsl/tcputil.h:
	moved from lib/libgfsl

	* lib/libgfarm/gfutil/Makefile.inc, lib/libgfarm/gfutil/daemon.c, lib/libgfarm/gfutil/gfutil.h, lib/libgfarm/gfutil/hash.c, lib/libgfarm/gfutil/hash.h, lib/libgfarm/gfutil/limit.c, lib/libgfarm/gfutil/logutil.c, lib/libgfarm/gfarm/Makefile.inc, lib/libgfarm/gfarm/auth.h, lib/libgfarm/gfarm/auth_client.c, lib/libgfarm/gfarm/auth_client_gsi.c, lib/libgfarm/gfarm/auth_common.c, lib/libgfarm/gfarm/auth_config.c, lib/libgfarm/gfarm/auth_server.c, lib/libgfarm/gfarm/auth_server_gsi.c, lib/libgfarm/gfarm/config.c, lib/libgfarm/gfarm/error.c, lib/libgfarm/gfarm/gfj_client.h, lib/libgfarm/gfarm/gfm_client.c, lib/libgfarm/gfarm/gfm_proto.h, lib/libgfarm/gfarm/gfs_client.c, lib/libgfarm/gfarm/gfs_client.h, lib/libgfarm/gfarm/gfs_client_udp.c, lib/libgfarm/gfarm/gfs_dir.c, lib/libgfarm/gfarm/gfs_exec.c, lib/libgfarm/gfarm/gfs_pio.c, lib/libgfarm/gfarm/gfs_pio.h, lib/libgfarm/gfarm/gfs_pio_default.c, lib/libgfarm/gfarm/gfs_pio_global.c, lib/libgfarm/gfarm/gfs_pio_local.c, lib/libgfarm/gfarm/gfs_pio_misc.c, lib/libgfarm/gfarm/gfs_pio_remote.c, lib/libgfarm/gfarm/gfs_pio_section.c, lib/libgfarm/gfarm/gfs_proto.c, lib/libgfarm/gfarm/gfs_proto.h, lib/libgfarm/gfarm/gfs_unlink.c, lib/libgfarm/gfarm/glob.c, lib/libgfarm/gfarm/host.c, lib/libgfarm/gfarm/host.h, lib/libgfarm/gfarm/hostspec.c, lib/libgfarm/gfarm/hostspec.h, lib/libgfarm/gfarm/import_help.c, lib/libgfarm/gfarm/io_fd.c, lib/libgfarm/gfarm/io_fd.h, lib/libgfarm/gfarm/io_gfsl.c, lib/libgfarm/gfarm/io_gfsl.h, lib/libgfarm/gfarm/iobuffer.c, lib/libgfarm/gfarm/iobuffer.h, lib/libgfarm/gfarm/metadb_ldap.c, lib/libgfarm/gfarm/metadb_misc.c, lib/libgfarm/gfarm/param.c, lib/libgfarm/gfarm/param.h, lib/libgfarm/gfarm/schedule.c, lib/libgfarm/gfarm/schedule.h, lib/libgfarm/gfarm/sockopt.c, lib/libgfarm/gfarm/sockopt.h, lib/libgfarm/gfarm/stringlist.c, lib/libgfarm/gfarm/url.c, lib/libgfarm/gfarm/xxx_proto.c, lib/libgfarm/gfarm/xxx_proto.h:
	moved from gfarmlib

	* ns/include/gfarm/Makefile, ns/include/gfarm/comm.h, ns/include/gfarm/debug.h, ns/include/gfarm/gflib.h, ns/include/gfarm/ns.h, ns/include/gfarm/nsclnt.h, ns/include/gfarm/nscom.h, ns/include/gfarm/nsexec.h, ns/include/gfarm/soc-lxdr.h, ns/include/gfarm/soc.h, ns/include/gfarm/type.h:
	moved from include

	* include/Makefile.in, include/comm.h, include/debug.h, include/gfarm.h, include/gfarm_error.h, include/gfarm_metadb.h, include/gfarm_misc.h, include/gfarm_stringlist.h, include/gflib.h, include/gfs.h, include/gfs_glob.h, include/gfs_hook.h, include/ns.h, include/nsclnt.h, include/nscom.h, include/nsexec.h, include/soc-lxdr.h, include/soc.h, include/type.h:
	moved to include/gfarm and ns/include/gfarm

	* include/gfarm/Makefile, include/gfarm/config.h.in, include/gfarm/gfarm.h, include/gfarm/gfarm_config.h.in, include/gfarm/gfarm_error.h, include/gfarm/gfarm_metadb.h, include/gfarm/gfarm_misc.h, include/gfarm/gfarm_stringlist.h, include/gfarm/gfs.h, include/gfarm/gfs_glob.h, include/gfarm/gfs_hook.h:
	moved from include

	* ns/gfarmd/Makefile.in, ns/gfarmd/gfarmd.c, ns/gfarmd/gfarmd.h, ns/gfarmd/gfd_auth.c, ns/gfarmd/gfd_cmd.h, ns/gfarmd/gfd_cmd.l, ns/gfarmd/gfd_cmd.y, ns/gfarmd/gfd_file.c, ns/gfarmd/gfd_parse.c, ns/gfarmd/symtab.c, ns/gfarmd/symtab.h, ns/gfarmd/yyerror.c:
	moved from gfarmd

	* ns/gfarm/Makefile, ns/gfarm/cmd.h, ns/gfarm/cmd.l, ns/gfarm/cmd.y, ns/gfarm/gfarm.c:
	moved from gfarm

	* lib/gfs_hook/sysdep/linux/kernel_stat.h, lib/gfs_hook/sysdep/linux/xstatconv.c:
	fix problem with headers in recent linux kernel.

	* acconfig.h:
	forgot to update this file, when gfarm_config.h.in was updated.

2003-04-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* INSTALL.en, INSTALL.ja: Updated the overview section.
	Added the description about gfs_hook_mpi.o, a syscall-hook library for MPI applications.

	* ChangeLog: Catched up with the current ChangeLog.

2003-04-11  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfsl/server.c: make unreachable statements "#if 0"

	* lib/libgfsl/Makefile: define GLOBUS_BUG unconditionally for now

	* lib/libgfsl/gsi.c: use "#if GLOBUS_BUG" to make the workaround clear.

2003-04-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfsl/gsi.c (gfarmGssAcceptSecurityContext):
	Removed the GSS_C_DELEG_FLAG check since it is not set using the Globus GSSAPI library, although this violates the RFC 2744.

2003-04-11  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfsl/auth.c, lib/libgfsl/session.c, gfarmlib/Makefile.in, gfarmlib/auth_client_gsi.c, gfarmlib/auth_server_gsi.c, gfarmlib/io_gfsl.c, gfarmlib/io_gfsl.h:
	fix gcc warnings

	* gfarmlib/schedule.c: - change indentation
	- plug some memory leaks on error case
	- make gfarm_url_hosts_schedule() use gfarm_file_section_host_schedule()
	  internally

	* gfarmlib/auth_server_gsi.c:
	fix a bug that `global_username' was erroneously freed.
	this is same fix with auth_server.c revision 1.12 by tatebe-san.

2003-04-11  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_pio_section.c:
	gfs_pio_set_view-section(): changed calling sequence of gfarm_schedule_search_
	idle_by_all()

	* gfarmlib/schedule.c, gfarmlib/schedule.h, gftool/gfrun/gfrun.c:
	added -N <proc_num> option to gfrun.
	programs run on top <proc_num> lightest hosts in load average.

2003-04-10  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_server.c:
	try to simplify gfarm_authorize_simple() implementation.
	the behavior of log_set_auxiliary_info() is changed in this commit,
	it is now revoked always if error happens.
	(before this change, it wasn't revoked at error, if switch_to was true.)

	* gfarmlib/Makefile.in, lib/gfs_hook/Makefile.in, lib/libgfsl/Makefile:
	always make ${prefix}/lib directory automatically

	* configure: regen

	* configure.in: forgot to specify -p for mkdir

2003-04-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/auth_server.c (gfarm_authorize_simple):
	Take care the non switch_to and successful authorization case.

2003-04-09  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfsl/gfarm_config.h:
	undef USE_GLOBUS.  This enables the confidentiality feature such that each message will be encrypted.  The perforance impact needs to be investigated

	* gfarmlib/auth_server.c (gfarm_authorize_simple):
	Do not switch the user ID before simple authorization method, since it is necessary to switch back to the original user ID when it fails.
	This fixed a problem such that the gsi authentication always fails after the sharedsecret authentication.

2003-04-09  Noriyuki Soda  <soda@sra.co.jp>

	* Makefile.in: forgot to remove $(top_objdir)/gfarm/gfarm_config.h

	* Makefile.in, configure, configure.in, gfarm/Makefile, gfarmd/Makefile.in, gfptool/gfcombine_hook/Makefile, gfptool/gfcp_hook/Makefile, include/Makefile.in, lib/gfs_hook/Makefile.in, lib/gfs_hook/sysdep/linux/Makefile.in, makes/html.mk, makes/man.mk, makes/subdir.mk, makes/var.mk, nslib/Makefile.in, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_lstat.c, nstool/file/ns_mkdir.c, nstool/file/ns_put.c, nstool/file/ns_readdir.c, nstool/file/ns_readlink.c, nstool/file/ns_rename.c, nstool/file/ns_stat.c, nstool/file/ns_symlink.c, nstool/file/ns_unlink.c, nstool/file/ns_unlink_dir.c, nstool/file/put.c, nstool/file/stat.c:
	make "./configure --srcdir=XXX" work again.
	the way to handle <gfarm/gfarm_config.h> and <gfarm/con.h> is messy, though.
	(these are now put in $(top_objdir)/gfarm, rather than $(top_srcdir)/include.
	 probably best way is to change include directory name from include to gfarm.)

	* nslib/nsexec.c: change #include "*.h" to #include <gfarm/*.h>

	* gfarmlib/glob.c: 1 byte memory was wasted in previous change

	* gfarmlib/gfs_dir.c, gfarmlib/glob.c, gfarmlib/url.c, gftool/gfls/gfls.c, include/gfarm_misc.h:
	revise previous change.
	in this version:
	- gfarm_url_prefix_skip() is now pure function.
	  it returns the result as the function-return-value.
	- gfarm_url_basename() is now renamed to gfarm_path_dir_skip(),
	  and now it doesn't take gfarm_url as its argument.
	  i.e. gfarm_path_dir_skip() is portable version of traditional basename(3),
	  rather than XPG basename(3).

	* gftool/gfls/gfls.c:
	fix bug that "gfls -l gfarm:" doesn't work, problem pointed out by naotaka-san

	* include/gfarm_misc.h:
	- rename GFARM_PREFIX{,_LENGTH} to GFARM_URL_PREFIX{,_LENGTH},
	  and make GFARM_URL_PREFIX_LENGTH == strlen(GFARM_URL_PREFIX).
	  this is more natural, and eliminates a lot of artificial "+1".
	- rename gfarm_prefix_skip() to gfarm_url_prefix_skip()
	- export gfarm_url_basename()

	* gfarmlib/gfs_dir.c, gfarmlib/glob.c, gfarmlib/url.c:
	- rename GFARM_PREFIX{,_LENGTH} to GFARM_URL_PREFIX{,_LENGTH},
	  and make GFARM_URL_PREFIX_LENGTH == strlen(GFARM_URL_PREFIX).
	  this is more natural, and eliminates a lot of artificial "+1".
	- rename gfarm_prefix_skip() to gfarm_url_prefix_skip()
	- split gfarm_basename() into gfarm_url_basename() and
	  gfarm_url_remove_suffix(),
	  and make gfarm_url_basename() not use XPG basename(3)

	* lib/gfs_hook/Makefile.in:
	use current directory for object file rather than /tmp

2003-04-09  Yasuhito Takamiya  <takamiya@smg.is.titech.ac.jp>

	* debian/changelog: new cvs upstream version (20030409).

	* debian/copyright: updated uri of cvs server.

	* debian/control: new cvs upstream version (20030409).

	new packages: gfarmd, gfmd
	renamed packages: gfarm-fsnode -> gfsd

	* debian/gfarm-doc.docs: removed #DOCS# line.

	* debian/gfarm-pool.conffiles, debian/gfarm-pool.init, debian/gfarm-pool.postinst, debian/gfarm-doc.files, debian/gfarm-fsnode.conffiles, debian/gfarm-fsnode.install, debian/gfarm-client.dirs, debian/gfarm-doc.dirs, debian/gfarm-fsnode.dirs, debian/gfarm-server.dirs, debian/libgfarm-dev.dirs:
	removed.

	* debian/files, debian/gfarm-client.files, debian/gfarm-client.install, debian/gfarm-fsnode.install, debian/gfarm.files, debian/gfarmd.files, debian/gfarmd.init, debian/gfarmd.postinst, debian/gfmd.files, debian/gfmd.init, debian/gfmd.postinst, debian/gfsd.files, debian/gfsd.init, debian/libgfarm-dev.files:
	added.

	* debian/rules:
	moved to DH_COMPAT=2 and rearranged obsolete make targets
	(gfarm-fsnode and so on.)

2003-04-09  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/hooks.c: correct return type of gfs_hook_syscall_lseek()

2003-04-08  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/Makefile.in, lib/gfs_hook/hooks_64.c, lib/gfs_hook/hooks_subr.h, lib/gfs_hook/lseek64.c:
	fix a problem to hook llseek/lseek64 on Solaris

	* man/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_open.3, doc/html/ja/ref/man3/gfs_pio_open.3.html, doc/html/en/ref/man3/gfs_pio_open.3.html:
	regen

	* doc/docbook/en/ref/man3/gfs_pio_open.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_open.3.docbook:
	correct typo ("lags" -> "flags") reported by YAMAMOTO Naotaka-san

2003-04-08  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* doc/conf/gfarm.conf: sample gfarm.conf

2003-04-07  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/hostspec.c, gftool/gfhost/gfhost.c:
	fix "char *" vs "unsigned char *" mismatch that SUNWspro5.0 warns.

	* lib/gfs_hook/Makefile.in:
	fix a bug that debugging object (*.do) cannot be built with non-gcc compilers,
	because non-gcc only supports "*.o" as the extension of an object file.

	* configure: regen

	* configure.in: do not add "-I/usr/include" to cc options.
	to suppress the following gcc-3.2 warning on redhat-8.0:
	cc1: warning: changing search order for system directory "/usr/include"
	cc1: warning:   as it has already been specified as a non-system directory

	* gftool/gfhost/gfhost.c, gfarmlib/config.c: suppress gcc-3.2 warning

	* gfarmlib/gfs_client.h: suppress gcc warnings on NetBSD-1.6

	* gfarm/cmd.l, gfarmd/gfd_cmd.l, gfarmlib/auth_server.c, gfarmlib/gfs_pio.c, gfarmlib/logutil.h, gfsd/main.c, gftool/gfls/gfls.c, gftool/gfreg/gfreg.c:
	suppress gcc warnings on vine-2.5

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_init.c, lib/gfs_hook/hooks_init_mpi.c, lib/gfs_hook/hooks_subr.h, lib/gfs_hook/sysdep/linux/Makefile.in, lib/gfs_hook/sysdep/linux/fxstat.c, lib/gfs_hook/sysdep/linux/fxstat64.c, lib/gfs_hook/sysdep/linux/lxstat.c, lib/gfs_hook/sysdep/linux/lxstat64.c, lib/gfs_hook/sysdep/linux/xstat.c, lib/gfs_hook/sysdep/linux/xstat64.c:
	fix gcc warnings

2003-04-04  Noriyuki Soda  <soda@sra.co.jp>

	* gfarm_config.h.in, gfarmlib/xxx_proto.c:
	revise floating point part of the fix to negative file_offset_t problem.
	with this fix,
	- the significant figure has one more bit (53bit total) with ieee double.
	- more portable, because this version doesn't depend on any constant of
	  floating point representation.
	- approximately correct result up to 63bit.

2003-04-04  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* debian/README.Debian, debian/changelog, debian/control, debian/gfarm-client.dirs, debian/gfarm-doc.dirs, debian/gfarm-fsnode.conffiles, debian/gfarm-fsnode.dirs, debian/gfarm-server.dirs, debian/libgfarm-dev.dirs, debian/rules:
	We can build debian packages,
	but these are not complete.

2003-04-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfreg/gfreg.c: Plugged a memory leak.

	* gftool/gfreg/gfreg.c:
	Fixed a segfault problem when registering a new file.

2003-04-04  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* doc/conf/gfarm.schema: for ldap schema file

2003-04-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfreg/gfreg.c:
	Added the -f option to register a file even if it is already registered and will be overwritten.
	Without the -f option, check the existence at first.

	* gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_section.c, gfarmlib/gfs_unlink.c (gfs_pio_set_view_section):
	When creating a file or opening with a trancation flag, delete all file fragments in the section at first.

	* gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	Added a const modifier for some functions.

2003-04-03  Noriyuki Soda  <soda@sra.co.jp>

	* gfarm_config.h.in, gfarmlib/xxx_proto.c:
	use (nearly full) 53bit range for floating-point file_offset_t,
	rather than 43bit.

	* gfarm_config.h.in, gfarmlib/xxx_proto.c:
	slightly modified fix for the following problem:
	> Fixed a critical bug such that a negative value cannot be sent as a
	> offset datatype.
	> When this fix is applied, every library and daemon should be
	> re-built and re-started.

	differences are:
	- retain old on-wire data representation.
	- make this work with floating-point file_offset_t.

2003-04-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/xxx_proto.c:
	Fixed a critical bug such that a negative value cannot be sent as a offset datatype.
	When this fix is applied, every library and daemon should be re-built and re-started.

2003-04-03  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/main.c: - create its own process group for invoked command,
	  and send passed signal to the process group rather than the process,
	  to make signal delivery actually work on GFS_PROTO_COMMAND implementation.
	- plug a security problem.
	  if the user's shell isn't a standard shell (i.e. not listed in /etc/shells),
	  GFS_PROTO_COMMAND without GFS_CLIENT_COMMAND_FLAG_SHELL_COMMAND shouldn't
	  be allowed.

	* gftool/gfrcmd/gfrcmd.c:
	- pass SIGINT, SIGQUIT and SIGTERM to the remote command.
	- implement -r option to invoke specified command directly,
	  (i.e. not via login-shell)

	* gfarmlib/gfs_client.h: export gfs_client_command_io()

	* gfarmlib/gfs_client.c: typo in the gfrcmd signal sending code

2003-03-31  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/gfwhere/gfwhere.c:
	enable to interpret metacharacters in arguments.

2003-03-20  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client.c:
	- switch shell command used by gfrcmd from /bin/sh to user's login shell
	- GFS_CLIENT_COMMAND_FLAG_SHELL_COMMAND for gfs_client_command() to
	  implement above.

	* gfsd/main.c: fix bugs in previous commit
	fix long standing memory leak

	* gfsd/main.c: fatal typo

	* gfarmlib/gfs_client.h, gfsd/main.c, gftool/gfrcmd/gfrcmd.c:
	- switch shell command used by gfrcmd from /bin/sh to user's login shell
	- GFS_CLIENT_COMMAND_FLAG_SHELL_COMMAND for gfs_client_command() to
	  implement above.

2003-03-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio.c (gfs_pio_open):
	Set GFARM_FILE_CREATE to flags for RDWR mode.
	(gfs_pio_create, gfs_pio_open): Fixed a bug when checking a file mode.

2003-03-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_common.c:
	Display more debug message for set_view_local.

	* gfsd/main.c:
	Just added a comment for $Id: ChangeLog,v 1.20 2003/09/29 14:52:45 tatebe Exp $. (check-in test on cvs.apgrid.org)

	* gfarmlib/gfs_pio_misc.c:
	gfarm_url_fragments_replicate): just cleaned up a code.

	* gfarmlib/gfs_unlink.c: Added a comment for parallel unlink.

	* gfarmlib/gfs_dir.c, gfarmlib/gfs_pio_section.c:
	Plugged a memory leak.

2003-03-18  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_init_mpi.c, lib/gfs_hook/hooks_init.c:
	Display a debug message when gfarm_initialize is automatically (implicitly) called.

2003-03-18  Noriyuki Soda  <soda@sra.co.jp>

	* makes/html.mk, doc/html/en/ref/man8/Makefile, doc/html/ja/ref/Makefile, doc/html/ja/ref/index.html, doc/html/ja/ref/man1/Makefile, doc/html/ja/ref/man3/Makefile, doc/html/ja/ref/man5/Makefile, doc/html/ja/ref/man8/Makefile, doc/Makefile, doc/html/Makefile, doc/html/en/ref/Makefile, doc/html/en/ref/index.html, doc/html/en/ref/man1/Makefile, doc/html/en/ref/man3/Makefile, doc/html/index.html:
	add very primitive HTML index page

	* man/man3/gfs_unlink.3, man/man8/gfmd.8, man/man8/gfsd.8, man/man3/gfs_pio_putline.3, man/man3/gfs_pio_puts.3, man/man3/gfs_pio_read.3, man/man3/gfs_pio_seek.3, man/man3/gfs_pio_set_local.3, man/man3/gfs_pio_set_view_index.3, man/man3/gfs_pio_set_view_local.3, man/man3/gfs_pio_ungetc.3, man/man3/gfs_pio_write.3, man/man3/gfs_readdir.3, man/man3/gfs_rename.3, man/man3/gfs_rmdir.3, man/man3/gfs_stat.3, man/man3/gfs_stat_free.3, man/man3/gfs_chmod.3, man/man3/gfs_chown.3, man/man3/gfs_closedir.3, man/man3/gfs_mkdir.3, man/man3/gfs_opendir.3, man/man3/gfs_pio_close.3, man/man3/gfs_pio_create.3, man/man3/gfs_pio_eof.3, man/man3/gfs_pio_error.3, man/man3/gfs_pio_flush.3, man/man3/gfs_pio_getc.3, man/man3/gfs_pio_getline.3, man/man3/gfs_pio_open.3, man/man3/gfs_pio_putc.3, man/man1/gfrcmd.1, man/man1/gfreg.1, man/man1/gfrep.1, man/man1/gfrm.1, man/man1/gfrun.1, man/man1/gfsched.1, man/man1/gfwc.1, man/man1/gfwhere.1, man/man3/gfarm_initialize.3, man/man3/gfarm_strings_free_deeply.3, man/man3/gfarm_terminate.3, man/man3/gfarm_url_hosts_schedule.3, man/ja/man5/gfarm.conf.5, man/ja/man8/gfmd.8, man/ja/man8/gfsd.8, man/man1/digest.1, man/man1/gfexport.1, man/man1/gfgrep.1, man/man1/gfimport_fixed.1, man/man1/gfimport_text.1, man/man1/gfkey.1, man/man1/gfls.1, man/man1/gfmpirun.1, man/man1/gfps.1, man/ja/man3/gfs_pio_seek.3, man/ja/man3/gfs_pio_set_local.3, man/ja/man3/gfs_pio_set_view_index.3, man/ja/man3/gfs_pio_set_view_local.3, man/ja/man3/gfs_pio_ungetc.3, man/ja/man3/gfs_pio_write.3, man/ja/man3/gfs_readdir.3, man/ja/man3/gfs_rename.3, man/ja/man3/gfs_rmdir.3, man/ja/man3/gfs_stat.3, man/ja/man3/gfs_stat_free.3, man/ja/man3/gfs_unlink.3, man/ja/man3/gfs_mkdir.3, man/ja/man3/gfs_opendir.3, man/ja/man3/gfs_pio_close.3, man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_eof.3, man/ja/man3/gfs_pio_error.3, man/ja/man3/gfs_pio_flush.3, man/ja/man3/gfs_pio_getc.3, man/ja/man3/gfs_pio_getline.3, man/ja/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_putc.3, man/ja/man3/gfs_pio_putline.3, man/ja/man3/gfs_pio_puts.3, man/ja/man3/gfs_pio_read.3, man/ja/man3/gfarm_stringlist_init.3, man/ja/man3/gfarm_stringlist_length.3, man/ja/man3/gfarm_strings_free_deeply.3, man/ja/man3/gfarm_terminate.3, man/ja/man3/gfarm_url_fragments_replicate.3, man/ja/man3/gfarm_url_hosts_schedule.3, man/ja/man3/gfarm_url_program_deliver.3, man/ja/man3/gfarm_url_program_register.3, man/ja/man3/gfarm_url_section_replicate_from_to.3, man/ja/man3/gfarm_url_section_replicate_to.3, man/ja/man3/gfs_chmod.3, man/ja/man3/gfs_chown.3, man/ja/man3/gfs_closedir.3, man/ja/man1/gfsched.1, man/ja/man1/gfwc.1, man/ja/man1/gfwhere.1, man/ja/man3/GFARM_STRINGLIST_ELEM.3, man/ja/man3/GFARM_STRINGLIST_STRARRAY.3, man/ja/man3/gfarm_hostlist_read.3, man/ja/man3/gfarm_import_fragment_config_read.3, man/ja/man3/gfarm_import_fragment_size_alloc.3, man/ja/man3/gfarm_initialize.3, man/ja/man3/gfarm_stringlist_add.3, man/ja/man3/gfarm_stringlist_cat.3, man/ja/man3/gfarm_stringlist_elem.3, man/ja/man3/gfarm_stringlist_free.3, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfkey.1, man/ja/man1/gfls.1, man/ja/man1/gfmkdir.1, man/ja/man1/gfmpirun.1, man/ja/man1/gfps.1, man/ja/man1/gfrcmd.1, man/ja/man1/gfreg.1, man/ja/man1/gfrep.1, man/ja/man1/gfrm.1, man/ja/man1/gfrmdir.1, man/ja/man1/gfrun.1, doc/html/ja/ref/man3/gfs_unlink.3.html, doc/html/ja/ref/man5/gfarm.conf.5.html, doc/html/ja/ref/man8/gfmd.8.html, doc/html/ja/ref/man8/gfsd.8.html, man/ja/man1/digest.1, man/ja/man1/gfexport.1, man/ja/man1/gfgrep.1, doc/html/ja/ref/man3/gfs_pio_write.3.html, doc/html/ja/ref/man3/gfs_readdir.3.html, doc/html/ja/ref/man3/gfs_rename.3.html, doc/html/ja/ref/man3/gfs_rmdir.3.html, doc/html/ja/ref/man3/gfs_stat.3.html, doc/html/ja/ref/man3/gfs_stat_free.3.html, doc/html/ja/ref/man3/gfs_pio_puts.3.html, doc/html/ja/ref/man3/gfs_pio_read.3.html, doc/html/ja/ref/man3/gfs_pio_seek.3.html, doc/html/ja/ref/man3/gfs_pio_set_local.3.html, doc/html/ja/ref/man3/gfs_pio_set_view_index.3.html, doc/html/ja/ref/man3/gfs_pio_set_view_local.3.html, doc/html/ja/ref/man3/gfs_pio_ungetc.3.html, doc/html/ja/ref/man3/gfs_pio_error.3.html, doc/html/ja/ref/man3/gfs_pio_flush.3.html, doc/html/ja/ref/man3/gfs_pio_getc.3.html, doc/html/ja/ref/man3/gfs_pio_getline.3.html, doc/html/ja/ref/man3/gfs_pio_open.3.html, doc/html/ja/ref/man3/gfs_pio_putc.3.html, doc/html/ja/ref/man3/gfs_pio_putline.3.html, doc/html/ja/ref/man3/gfs_chown.3.html, doc/html/ja/ref/man3/gfs_closedir.3.html, doc/html/ja/ref/man3/gfs_mkdir.3.html, doc/html/ja/ref/man3/gfs_opendir.3.html, doc/html/ja/ref/man3/gfs_pio_close.3.html, doc/html/ja/ref/man3/gfs_pio_create.3.html, doc/html/ja/ref/man3/gfs_pio_eof.3.html, doc/html/ja/ref/man3/gfarm_url_hosts_schedule.3.html, doc/html/ja/ref/man3/gfarm_url_program_deliver.3.html, doc/html/ja/ref/man3/gfarm_url_program_register.3.html, doc/html/ja/ref/man3/gfarm_url_section_replicate_from_to.3.html, doc/html/ja/ref/man3/gfarm_url_section_replicate_to.3.html, doc/html/ja/ref/man3/gfs_chmod.3.html, doc/html/ja/ref/man3/gfarm_stringlist_elem.3.html, doc/html/ja/ref/man3/gfarm_stringlist_free.3.html, doc/html/ja/ref/man3/gfarm_stringlist_init.3.html, doc/html/ja/ref/man3/gfarm_stringlist_length.3.html, doc/html/ja/ref/man3/gfarm_strings_free_deeply.3.html, doc/html/ja/ref/man3/gfarm_terminate.3.html, doc/html/ja/ref/man3/gfarm_url_fragments_replicate.3.html, doc/html/ja/ref/man3/GFARM_STRINGLIST_STRARRAY.3.html, doc/html/ja/ref/man3/gfarm_hostlist_read.3.html, doc/html/ja/ref/man3/gfarm_import_fragment_config_read.3.html, doc/html/ja/ref/man3/gfarm_import_fragment_size_alloc.3.html, doc/html/ja/ref/man3/gfarm_initialize.3.html, doc/html/ja/ref/man3/gfarm_stringlist_add.3.html, doc/html/ja/ref/man3/gfarm_stringlist_cat.3.html, doc/html/ja/ref/man1/gfrmdir.1.html, doc/html/ja/ref/man1/gfrun.1.html, doc/html/ja/ref/man1/gfsched.1.html, doc/html/ja/ref/man1/gfwc.1.html, doc/html/ja/ref/man1/gfwhere.1.html, doc/html/ja/ref/man3/GFARM_STRINGLIST_ELEM.3.html, doc/html/ja/ref/man1/gfmkdir.1.html, doc/html/ja/ref/man1/gfmpirun.1.html, doc/html/ja/ref/man1/gfps.1.html, doc/html/ja/ref/man1/gfrcmd.1.html, doc/html/ja/ref/man1/gfreg.1.html, doc/html/ja/ref/man1/gfrep.1.html, doc/html/ja/ref/man1/gfrm.1.html, doc/html/ja/ref/man1/digest.1.html, doc/html/ja/ref/man1/gfexport.1.html, doc/html/ja/ref/man1/gfgrep.1.html, doc/html/ja/ref/man1/gfimport_fixed.1.html, doc/html/ja/ref/man1/gfimport_text.1.html, doc/html/ja/ref/man1/gfkey.1.html, doc/html/ja/ref/man1/gfls.1.html, doc/html/en/ref/man3/gfs_rmdir.3.html, doc/html/en/ref/man3/gfs_stat.3.html, doc/html/en/ref/man3/gfs_stat_free.3.html, doc/html/en/ref/man3/gfs_unlink.3.html, doc/html/en/ref/man8/gfmd.8.html, doc/html/en/ref/man8/gfsd.8.html, doc/html/en/ref/man3/gfs_pio_set_local.3.html, doc/html/en/ref/man3/gfs_pio_set_view_index.3.html, doc/html/en/ref/man3/gfs_pio_set_view_local.3.html, doc/html/en/ref/man3/gfs_pio_ungetc.3.html, doc/html/en/ref/man3/gfs_pio_write.3.html, doc/html/en/ref/man3/gfs_readdir.3.html, doc/html/en/ref/man3/gfs_rename.3.html, doc/html/en/ref/man3/gfs_pio_getline.3.html, doc/html/en/ref/man3/gfs_pio_open.3.html, doc/html/en/ref/man3/gfs_pio_putc.3.html, doc/html/en/ref/man3/gfs_pio_putline.3.html, doc/html/en/ref/man3/gfs_pio_puts.3.html, doc/html/en/ref/man3/gfs_pio_read.3.html, doc/html/en/ref/man3/gfs_pio_seek.3.html, doc/html/en/ref/man3/gfs_opendir.3.html, doc/html/en/ref/man3/gfs_pio_close.3.html, doc/html/en/ref/man3/gfs_pio_create.3.html, doc/html/en/ref/man3/gfs_pio_eof.3.html, doc/html/en/ref/man3/gfs_pio_error.3.html, doc/html/en/ref/man3/gfs_pio_flush.3.html, doc/html/en/ref/man3/gfs_pio_getc.3.html, doc/html/en/ref/man3/gfarm_terminate.3.html, doc/html/en/ref/man3/gfarm_url_hosts_schedule.3.html, doc/html/en/ref/man3/gfs_chmod.3.html, doc/html/en/ref/man3/gfs_chown.3.html, doc/html/en/ref/man3/gfs_closedir.3.html, doc/html/en/ref/man3/gfs_mkdir.3.html, doc/html/en/ref/man1/gfrun.1.html, doc/html/en/ref/man1/gfsched.1.html, doc/html/en/ref/man1/gfwc.1.html, doc/html/en/ref/man1/gfwhere.1.html, doc/html/en/ref/man3/gfarm_initialize.3.html, doc/html/en/ref/man3/gfarm_strings_free_deeply.3.html, doc/html/en/ref/man1/gfls.1.html, doc/html/en/ref/man1/gfmpirun.1.html, doc/html/en/ref/man1/gfps.1.html, doc/html/en/ref/man1/gfrcmd.1.html, doc/html/en/ref/man1/gfreg.1.html, doc/html/en/ref/man1/gfrep.1.html, doc/html/en/ref/man1/gfrm.1.html, doc/html/en/ref/man1/digest.1.html, doc/html/en/ref/man1/gfexport.1.html, doc/html/en/ref/man1/gfgrep.1.html, doc/html/en/ref/man1/gfimport_fixed.1.html, doc/html/en/ref/man1/gfimport_text.1.html, doc/html/en/ref/man1/gfkey.1.html:
	generate from docbook

	* nstool/file/Makefile.in, man/ja/man1/Makefile, man/ja/man3/Makefile, man/ja/man5/Makefile, man/ja/man8/Makefile, man/man1/Makefile, man/man3/Makefile, man/man8/Makefile, nslib/Makefile.in, gfarmlib/Makefile.in, include/Makefile.in, lib/gfs_hook/sysdep/linux/Makefile.in, makes/config.mk.in, makes/html.mk, makes/man.mk, makes/prog.mk, makes/subdir.mk, makes/var.mk, doc/html/ja/ref/man1/Makefile, doc/html/ja/ref/man3/Makefile, doc/html/ja/ref/man5/Makefile, doc/html/ja/ref/man8/Makefile, gfarm/Makefile, gfarmd/Makefile.in, doc/html/en/ref/man1/Makefile, doc/html/en/ref/man3/Makefile, doc/html/en/ref/man8/Makefile, doc/html/ja/ref/Makefile, doc/docbook/ja/ref/man1/Makefile.inc, doc/docbook/ja/ref/man3/Makefile.inc, doc/docbook/ja/ref/man5/Makefile.inc, doc/docbook/ja/ref/man8/Makefile.inc, doc/html/en/ref/Makefile, Makefile.in, doc/Makefile, doc/docbook/en/ref/man1/Makefile.inc, doc/docbook/en/ref/man3/Makefile.inc, doc/docbook/en/ref/man8/Makefile.inc:
	add "man" and "html" target to generate them from docbook

	* doc/docbook/en/ref/man3/gfarm_strings_free_deeply.3.docbook, doc/docbook/en/ref/man3/gfarm_terminate.3.docbook, doc/docbook/en/ref/man3/gfarm_url_hosts_schedule.3.docbook, doc/docbook/en/ref/man3/gfs_chmod.3.docbook, doc/docbook/en/ref/man3/gfs_chown.3.docbook, doc/docbook/en/ref/man3/gfs_closedir.3.docbook, doc/docbook/en/ref/man3/gfs_mkdir.3.docbook, doc/docbook/en/ref/man3/gfs_opendir.3.docbook, doc/docbook/en/ref/man3/gfs_pio_close.3.docbook, doc/docbook/en/ref/man3/gfs_pio_create.3.docbook, doc/docbook/en/ref/man3/gfs_pio_eof.3.docbook, doc/docbook/en/ref/man3/gfs_pio_error.3.docbook, doc/docbook/en/ref/man3/gfs_pio_flush.3.docbook, doc/docbook/en/ref/man3/gfs_pio_getc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_getline.3.docbook, doc/docbook/en/ref/man3/gfs_pio_open.3.docbook, doc/docbook/en/ref/man3/gfs_pio_putc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_putline.3.docbook, doc/docbook/en/ref/man3/gfs_pio_puts.3.docbook, doc/docbook/en/ref/man3/gfs_pio_read.3.docbook, doc/docbook/en/ref/man3/gfs_pio_seek.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_local.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_view_local.3.docbook, doc/docbook/en/ref/man3/gfs_pio_ungetc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_write.3.docbook, doc/docbook/en/ref/man3/gfs_readdir.3.docbook, doc/docbook/en/ref/man3/gfs_rename.3.docbook, doc/docbook/en/ref/man3/gfs_rmdir.3.docbook, doc/docbook/en/ref/man3/gfs_stat.3.docbook, doc/docbook/en/ref/man3/gfs_stat_free.3.docbook, doc/docbook/en/ref/man3/gfs_unlink.3.docbook, doc/docbook/en/ref/man8/gfmd.8.docbook, doc/docbook/en/ref/man8/gfsd.8.docbook:
	New file.

	* doc/docbook/en/ref/man3/gfarm_strings_free_deeply.3.docbook, doc/docbook/en/ref/man3/gfarm_terminate.3.docbook, doc/docbook/en/ref/man3/gfarm_url_hosts_schedule.3.docbook, doc/docbook/en/ref/man3/gfs_chmod.3.docbook, doc/docbook/en/ref/man3/gfs_chown.3.docbook, doc/docbook/en/ref/man3/gfs_closedir.3.docbook, doc/docbook/en/ref/man3/gfs_mkdir.3.docbook, doc/docbook/en/ref/man3/gfs_opendir.3.docbook, doc/docbook/en/ref/man3/gfs_pio_close.3.docbook, doc/docbook/en/ref/man3/gfs_pio_create.3.docbook, doc/docbook/en/ref/man3/gfs_pio_eof.3.docbook, doc/docbook/en/ref/man3/gfs_pio_error.3.docbook, doc/docbook/en/ref/man3/gfs_pio_flush.3.docbook, doc/docbook/en/ref/man3/gfs_pio_getc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_getline.3.docbook, doc/docbook/en/ref/man3/gfs_pio_open.3.docbook, doc/docbook/en/ref/man3/gfs_pio_putc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_putline.3.docbook, doc/docbook/en/ref/man3/gfs_pio_puts.3.docbook, doc/docbook/en/ref/man3/gfs_pio_read.3.docbook, doc/docbook/en/ref/man3/gfs_pio_seek.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_local.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_view_local.3.docbook, doc/docbook/en/ref/man3/gfs_pio_ungetc.3.docbook, doc/docbook/en/ref/man3/gfs_pio_write.3.docbook, doc/docbook/en/ref/man3/gfs_readdir.3.docbook, doc/docbook/en/ref/man3/gfs_rename.3.docbook, doc/docbook/en/ref/man3/gfs_rmdir.3.docbook, doc/docbook/en/ref/man3/gfs_stat.3.docbook, doc/docbook/en/ref/man3/gfs_stat_free.3.docbook, doc/docbook/en/ref/man3/gfs_unlink.3.docbook, doc/docbook/en/ref/man8/gfmd.8.docbook, doc/docbook/en/ref/man8/gfsd.8.docbook:
	man pages are now converted to SGML DocBook format.

	* doc/docbook/en/ref/man1/digest.1.docbook, doc/docbook/en/ref/man1/gfexport.1.docbook, doc/docbook/en/ref/man1/gfgrep.1.docbook, doc/docbook/en/ref/man1/gfimport_fixed.1.docbook, doc/docbook/en/ref/man1/gfimport_text.1.docbook, doc/docbook/en/ref/man1/gfkey.1.docbook, doc/docbook/en/ref/man1/gfls.1.docbook, doc/docbook/en/ref/man1/gfmpirun.1.docbook, doc/docbook/en/ref/man1/gfps.1.docbook, doc/docbook/en/ref/man1/gfrcmd.1.docbook, doc/docbook/en/ref/man1/gfreg.1.docbook, doc/docbook/en/ref/man1/gfrep.1.docbook, doc/docbook/en/ref/man1/gfrm.1.docbook, doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/en/ref/man1/gfwc.1.docbook, doc/docbook/en/ref/man1/gfwhere.1.docbook, doc/docbook/en/ref/man3/gfarm_initialize.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_view_index.3.docbook, doc/docbook/ja/ref/man1/digest.1.docbook, doc/docbook/ja/ref/man1/gfexport.1.docbook, doc/docbook/ja/ref/man1/gfgrep.1.docbook, doc/docbook/ja/ref/man1/gfimport_fixed.1.docbook, doc/docbook/ja/ref/man1/gfimport_text.1.docbook, doc/docbook/ja/ref/man1/gfkey.1.docbook, doc/docbook/ja/ref/man1/gfls.1.docbook, doc/docbook/ja/ref/man1/gfmkdir.1.docbook, doc/docbook/ja/ref/man1/gfmpirun.1.docbook, doc/docbook/ja/ref/man1/gfps.1.docbook, doc/docbook/ja/ref/man1/gfrcmd.1.docbook, doc/docbook/ja/ref/man1/gfreg.1.docbook, doc/docbook/ja/ref/man1/gfrep.1.docbook, doc/docbook/ja/ref/man1/gfrm.1.docbook, doc/docbook/ja/ref/man1/gfrmdir.1.docbook, doc/docbook/ja/ref/man1/gfrun.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook, doc/docbook/ja/ref/man1/gfwc.1.docbook, doc/docbook/ja/ref/man1/gfwhere.1.docbook, doc/docbook/ja/ref/man3/GFARM_STRINGLIST_ELEM.3.docbook, doc/docbook/ja/ref/man3/GFARM_STRINGLIST_STRARRAY.3.docbook, doc/docbook/ja/ref/man3/gfarm_hostlist_read.3.docbook, doc/docbook/ja/ref/man3/gfarm_import_fragment_config_read.3.docbook, doc/docbook/ja/ref/man3/gfarm_import_fragment_size_alloc.3.docbook, doc/docbook/ja/ref/man3/gfarm_initialize.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_add.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_cat.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_elem.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_free.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_init.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_length.3.docbook, doc/docbook/ja/ref/man3/gfarm_strings_free_deeply.3.docbook, doc/docbook/ja/ref/man3/gfarm_terminate.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_fragments_replicate.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_hosts_schedule.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_program_deliver.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_program_register.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_section_replicate_from_to.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_section_replicate_to.3.docbook, doc/docbook/ja/ref/man3/gfs_chmod.3.docbook, doc/docbook/ja/ref/man3/gfs_chown.3.docbook, doc/docbook/ja/ref/man3/gfs_closedir.3.docbook, doc/docbook/ja/ref/man3/gfs_mkdir.3.docbook, doc/docbook/ja/ref/man3/gfs_opendir.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_close.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_create.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_eof.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_error.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_flush.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_getc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_getline.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_open.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_putc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_putline.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_puts.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_read.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_seek.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_local.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_view_index.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_view_local.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_ungetc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_write.3.docbook, doc/docbook/ja/ref/man3/gfs_readdir.3.docbook, doc/docbook/ja/ref/man3/gfs_rename.3.docbook, doc/docbook/ja/ref/man3/gfs_rmdir.3.docbook, doc/docbook/ja/ref/man3/gfs_stat.3.docbook, doc/docbook/ja/ref/man3/gfs_stat_free.3.docbook, doc/docbook/ja/ref/man3/gfs_unlink.3.docbook, doc/docbook/ja/ref/man5/gfarm.conf.5.docbook, doc/docbook/ja/ref/man8/gfmd.8.docbook, doc/docbook/ja/ref/man8/gfsd.8.docbook:
	New file.

	* doc/docbook/en/ref/man1/digest.1.docbook, doc/docbook/en/ref/man1/gfexport.1.docbook, doc/docbook/en/ref/man1/gfgrep.1.docbook, doc/docbook/en/ref/man1/gfimport_fixed.1.docbook, doc/docbook/en/ref/man1/gfimport_text.1.docbook, doc/docbook/en/ref/man1/gfkey.1.docbook, doc/docbook/en/ref/man1/gfls.1.docbook, doc/docbook/en/ref/man1/gfmpirun.1.docbook, doc/docbook/en/ref/man1/gfps.1.docbook, doc/docbook/en/ref/man1/gfrcmd.1.docbook, doc/docbook/en/ref/man1/gfreg.1.docbook, doc/docbook/en/ref/man1/gfrep.1.docbook, doc/docbook/en/ref/man1/gfrm.1.docbook, doc/docbook/en/ref/man1/gfrun.1.docbook, doc/docbook/en/ref/man1/gfsched.1.docbook, doc/docbook/en/ref/man1/gfwc.1.docbook, doc/docbook/en/ref/man1/gfwhere.1.docbook, doc/docbook/en/ref/man3/gfarm_initialize.3.docbook, doc/docbook/en/ref/man3/gfs_pio_set_view_index.3.docbook, doc/docbook/ja/ref/man1/digest.1.docbook, doc/docbook/ja/ref/man1/gfexport.1.docbook, doc/docbook/ja/ref/man1/gfgrep.1.docbook, doc/docbook/ja/ref/man1/gfimport_fixed.1.docbook, doc/docbook/ja/ref/man1/gfimport_text.1.docbook, doc/docbook/ja/ref/man1/gfkey.1.docbook, doc/docbook/ja/ref/man1/gfls.1.docbook, doc/docbook/ja/ref/man1/gfmkdir.1.docbook, doc/docbook/ja/ref/man1/gfmpirun.1.docbook, doc/docbook/ja/ref/man1/gfps.1.docbook, doc/docbook/ja/ref/man1/gfrcmd.1.docbook, doc/docbook/ja/ref/man1/gfreg.1.docbook, doc/docbook/ja/ref/man1/gfrep.1.docbook, doc/docbook/ja/ref/man1/gfrm.1.docbook, doc/docbook/ja/ref/man1/gfrmdir.1.docbook, doc/docbook/ja/ref/man1/gfrun.1.docbook, doc/docbook/ja/ref/man1/gfsched.1.docbook, doc/docbook/ja/ref/man1/gfwc.1.docbook, doc/docbook/ja/ref/man1/gfwhere.1.docbook, doc/docbook/ja/ref/man3/GFARM_STRINGLIST_ELEM.3.docbook, doc/docbook/ja/ref/man3/GFARM_STRINGLIST_STRARRAY.3.docbook, doc/docbook/ja/ref/man3/gfarm_hostlist_read.3.docbook, doc/docbook/ja/ref/man3/gfarm_import_fragment_config_read.3.docbook, doc/docbook/ja/ref/man3/gfarm_import_fragment_size_alloc.3.docbook, doc/docbook/ja/ref/man3/gfarm_initialize.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_add.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_cat.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_elem.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_free.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_init.3.docbook, doc/docbook/ja/ref/man3/gfarm_stringlist_length.3.docbook, doc/docbook/ja/ref/man3/gfarm_strings_free_deeply.3.docbook, doc/docbook/ja/ref/man3/gfarm_terminate.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_fragments_replicate.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_hosts_schedule.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_program_deliver.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_program_register.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_section_replicate_from_to.3.docbook, doc/docbook/ja/ref/man3/gfarm_url_section_replicate_to.3.docbook, doc/docbook/ja/ref/man3/gfs_chmod.3.docbook, doc/docbook/ja/ref/man3/gfs_chown.3.docbook, doc/docbook/ja/ref/man3/gfs_closedir.3.docbook, doc/docbook/ja/ref/man3/gfs_mkdir.3.docbook, doc/docbook/ja/ref/man3/gfs_opendir.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_close.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_create.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_eof.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_error.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_flush.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_getc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_getline.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_open.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_putc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_putline.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_puts.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_read.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_seek.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_local.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_view_index.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_set_view_local.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_ungetc.3.docbook, doc/docbook/ja/ref/man3/gfs_pio_write.3.docbook, doc/docbook/ja/ref/man3/gfs_readdir.3.docbook, doc/docbook/ja/ref/man3/gfs_rename.3.docbook, doc/docbook/ja/ref/man3/gfs_rmdir.3.docbook, doc/docbook/ja/ref/man3/gfs_stat.3.docbook, doc/docbook/ja/ref/man3/gfs_stat_free.3.docbook, doc/docbook/ja/ref/man3/gfs_unlink.3.docbook, doc/docbook/ja/ref/man5/gfarm.conf.5.docbook, doc/docbook/ja/ref/man8/gfmd.8.docbook, doc/docbook/ja/ref/man8/gfsd.8.docbook:
	man pages are now converted to SGML DocBook format.

2003-03-17  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja:
	- run gfmd and gfsd with the root privilage in examples.
	- note that slapd also requires root privilege in this example,
	  because the port number is less than 1024.
	- s/<ARCH>/<OS>/
	- correct directory name of start up script in japanese version.

	* INSTALL.ja: standardize punctuation

	* INSTALL.en, INSTALL.ja:
	remove "in the C shell" from an example which isn't really csh dependent now
	(except its prompt, but "%" may mean zsh, even.).

2003-03-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio_misc.c (gfs_access):
	if the gfarm_url is an executable, does not check the number of fragment.

	* gfarmlib/gfs_pio_misc.c (gfs_access):
	Added a check whether a file can be accessable by other processes or not.

	* gfsd/main.c (gfs_server_digest): Plugged a memory leak.

2003-03-13  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio.c (gfs_pio_seek):
	Fixed a bug such that gfs_pio_seek(SEEK_CUR) does not work when the file offset will be repositioned beyond the current io buffer.

2003-03-07  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/gfrm/gfrm.c: Implemented metacharacter expansion in arguments.

2003-03-06  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfls/gfls.c: add more clarification

	* gftool/gfls/gfls.c:
	fix a comment which tells a lie, pointed out by sotoyama-san.

2003-03-04  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/schedule.c, gfarmlib/schedule.h:
	Added gfarm_schedule_search_idle_by_all().

	* gfarmlib/gfs_pio_section.c:
	Implemented selecting another host if it is impossible to creating a file
	fragment on self host.

2003-02-28  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-fsys/thput-fsys.c, bench/thput-gfpio/thput-gfpio.c, bench/thput-pvfs/thput-pvfs.c:
	Replaced assert() with if statement.
	thput-gfpio.c: Removed an obsolete -S option.
	thput-gfpio.c: read or copy each entire file fragment with no -s <size> option.

2003-02-26  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* INSTALL.en, INSTALL.ja:
	Added a description about a path name of core.schema in slapd.conf.

2003-02-24  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-fsys/thput-fsys.c, bench/thput-gfpio/thput-gfpio.c:
	With the -m option, measure total time of write or read operation.

	* lib/gfs_hook/hooks.c:
	Commented a hook entry out for mmap() because it causes segfault while loading a shared library on i386 platform.

2003-02-21  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfls/gfls.c: remove ugly "XXX<directory-name>" warning,
	because an error message will be displayed anyway.

	* lib/gfs_hook/hooks.c: port to NetBSD again

	* gfarmlib/Makefile.in, makes/var.mk: update dependency information

2003-02-21  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* include/gfs.h: Moved glob function's declaration to gfs_glob.h.

	* include/gfarm_misc.h: Added gfarm url prefix declaration.

	* gfarmlib/glob.c, include/gfs_glob.h:
	Moved macro definitions from gfs_glob.h to glob.c.
	They are refered from functions in glob.c.

	* gftool/gfls/gfls.c, include/gfs_glob.h:
	rename type & function name gfarm_glob_* -> gfs_glob_*

	* gfarmlib/url.c:
	Added gfarm url string definition and a function skips gfarm url.

	* gfarmlib/gfs_dir.c, gfarmlib/glob.c:
	Moved functoins handle gfs_glob_t from gfs_dir.c to glob.c.

2003-02-21  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfm_client.c: - fix a memory leak
	- correct a case when an invalid job id is specified by a caller.

2003-02-21  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* lib/gfs_hook/hooks_64.c: Retrun to revision 1.6.

	* lib/gfs_hook/hooks.c: Retrunt to revision 1.17.

	* gfsd/main.c: Return to revision 1.45.

	* include/gfarm.h, lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_64.c, gfsd/main.c:
	Moved inclusion gfarm_stringlist.h, gfs_glob.h from include/gfs.h.

	* include/gfs_glob.h: Moved from include/gfarm_glob.h.

	* include/gfarm_glob.h: Moved include/gfs_glob.h.

2003-02-21  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfls/gfls.c: remove unnecessary code

2003-02-20  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_dir.c:
	implement free_node() for directory tree cache of client side.

	* gfarmlib/hash.c: implement gfarm_hash_table_free()

	* package/redhat/gfmd, package/redhat/gfsd:
	use installation directory which is described in the gfarm.spec file.
	use more appropriate start/stop priority

	* package/redhat/gfarm-slapd:
	use the LDAP port number described in INSTALL.{en,ja}
	use more appropriate start/stop priority

2003-02-20  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_dir.c: Fixed gfs_getcwd() scope error.

	* gfarmlib/gfs_dir.c, gfarmlib/gfs_pio.c, gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_unlink.c, gfarmlib/glob.c, gfarmlib/stringlist.c, gftool/gfls/gfls.c:
	Moved functions from gfls.c into some files for archiving into library.

	* gfarmlib/Makefile.in:
	Added names splitted files from gftool/gfls/gfls.c

	* include/gfarm_glob.h:
	Moved typedef gfarm_dtypelist and macro defifinitions from gftool/gfls/gfls.c
	and changed it's name.
	Added the declarations of functions handles gfarm_glob_t.

	* include/gfarm_stringlist.h:
	Moved typedef gfarm_stringlist and functions from include/gfarm_misc.h.

	* include/gfarm_misc.h:
	Moved the type definition of gfarm_stringlist and the declaration of
	functions handle it.

	* include/gfs.h:
	Added gfs_glob() and gfs_uncachedir()'s declaration because some functions
	in gftool/gfls.c were moved to gfarmlib/gfs_dir.c.

	* gfarmlib/schedule.c: gfarm_file_section_host_schedule():
	  Fixed a error in testing memory allocation result.

2003-02-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Added -o and -e options for specifying stdout and stderr gfarm files, respectively.
	If stdout or stderr file is not correctly registered, try to do using gfarm:/bin/gfsplck.
	If both -G and -H are not specified and there is no gfarm input file, try to run on appropreate nodes although the local node is always chosen by this revision.
	If a remote program is not a gfarm file, do not add any gfarm specific arguments like --gfarm_index and --gfarm_nfrags.

	usage: gfrun -o gfarm:out -e gfarm:err gfarm:program . . .

	* gfarmlib/gfj_client.h, gfarmlib/gfm_client.c, gfmd/gfmd.c:
	gfm_client.c (gfj_client_info): Fixed a bug.
	Fixed a spelling miss.

2003-02-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio_misc.c, gfptool/gfsplck/gfsplck.c:
	gfs_pio_misc.c (gfs_pio_set_fragment_info_local): Eliminated a symlink code.  Fixed a check sum checking code.
	gfsplck.c: Added -a and -d options.  The -a option checks filesystem metadata even if its section copy info is registered.  Thd -d option deletes files having invalid filesystem metadata.
	Plugged a memory leak.

2003-02-18  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/schedule.c: gfarm_schedule_search_idle_hosts():
	  - Changed name from "gfarm_schedule_search_idle_new"

	gfarm_schdeule_search_idle():
	  - Changed return value from strcut gfarm_file_section_copy_info array's
	    index to error message string.
	  - Added 3'rd output argument that points to host name strings.
	  - Calls gfarm_schedule_search_idle_hosts()

	* gfarmlib/gfs_pio_misc.c, gfarmlib/schedule.h: Changed function name:
	gfarm_schedule_search_idle_new() -> gfarm_schedule_search_idle_hosts()

2003-02-18  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks.c:
	Just added an entry of mmap to check this is called or not by linking with gfs_hook_debug.o

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_fstat.c, lib/gfs_hook/hooks_stat.c (__stat):
	Filled st_uid, st_gid, and st_nlink.
	(__dup2): Added a check whether SYS_dup2 is defined or not.

	* gfarmlib/gfs_pio_misc.c, gfptool/gfsplck/gfsplck.c (gfs_pio_set_fragment_info_local):
	Changed the second argument from gfarm_url to gfarm_file.
	(gfs_pio_set_fragment_info_local): Added a check about filesystem metadata consistency.
	(gfsplck): Gfarm directories or files can be specified by command-line arguments.

2003-02-17  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c: plug a memory leak of gfs_access()

2003-02-17  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c: back to revision 1.20 temporarily.

	* gfarmlib/schedule.h: back to revision 1.2 temporarily.

	* gfarmlib/schedule.c: back to revision 1.11 temporarily.

	* gfarmlib/gfs_pio_misc.c, gfarmlib/schedule.c, gfarmlib/schedule.h:
	Changed name of the function gfarm_schedule_search_idle_new()

2003-02-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

	* README.hook.en: README file for gfs_hook libraries.

	* lib/gfs_hook/hook_test.c, lib/gfs_hook/hooks.c (__access):
	use gfs_access().

	* gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_misc.c, include/gfs.h:
	Added gfs_access().

	* lib/gfs_hook/hook_test.c, lib/gfs_hook/hooks_fstat.c:
	Fixed a type mismatch of a debug message.

	* lib/gfs_hook/hooks.c: Added a hook entry for execve.

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h:
	Added a hook entry for dup2().

2003-02-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio_section.c (gfs_pio_view_section_close):
	Fixed a bug such that file size in filesystem metadata is not correct when file offset is not set to the last of the file.

2003-02-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_fstat.c: Use gfs_fstat().

	* gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_pio_section.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_default.c, gfarmlib/gfs_pio_global.c, include/gfs.h:
	Added gfs_fstat().
	gfs_pio_misc.c (gfs_stat_section): Plugged a memory leak.

2003-02-14  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c: - fixed memory leak.
	- returns error when #replied hosts < #requested hosts

2003-02-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hook_test.c: Just fixed a typo.

2003-02-14  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/schedule.c:
	Fixed bug gfreg faults. In previous revision, freed area not allocated.

2003-02-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_unlink.c:
	Even when deletion of some file fragments fails, delete the section information when there is no section copy information.

	* lib/gfs_hook/hook_test.c:
	Don't display user name and group name since both uid and gid are not obtained by gfs_stat().

	* gfptool/gfcp/gfcp.c: Added a missing header file.

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_64.c, lib/gfs_hook/hooks_stat.c (__stat, __lstat):
	use gfs_stat, gfs_stat_section, or gfs_stat_index depending on the sitution.

	* gfarmlib/gfs_pio_misc.c, include/gfs.h:
	Added new functions: gfs_stat_section() and gfs_stat_index().

	* gfarmlib/gfs_unlink.c:
	Clean up collapsed filesystem metadata that does not have any section copy information.

	* gfarmlib/gfs_unlink.c, gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	When removing all file replicas, remove the section information also.

	* gfarmlib/gfs_unlink.c, gftool/gfrm/gfrm.c, include/gfs.h:
	Added the -f option.  With -f option, delete file fragments even if they are the last fragments.

	* lib/gfs_hook/hooks_64.c:
	Deleted an entry of _IO_file_seek to avoid duplicate definition when compiling statically.
	According to the ChangeLog of glibc, even __open, __close, __write, and __read cannot be hooked whenever they are called within the glibc library after the change at August 2, 2002.  The only way to hook them seems to be a static compilation.

2003-02-13  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfreg/gfreg.c: Initial support for a directory destination.
	XXX - Since gfs_stat() cannot work correctly for a directory at this time, there is an ad hoc code to check it.

	* INSTALL.en, INSTALL.ja:
	Updated the description; make gfregister, sign-on, and import from a group of files.

	* gftool/gfreg/Makefile: include gfptool.mk instead of prog.mk.

	* man/man8/gfmd.8, man/man8/gfsd.8, man/ja/man8/gfmd.8, man/ja/man8/gfsd.8:
	Added the description how to execute as a user process.

	* man/ja/man5/gfarm.conf.5: Fixed a typo.

2003-02-10  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/gfimport_text.c:
	fix longstanding bugs. found by sotoyama-san's test case.

2003-02-10  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c, gfarmlib/schedule.c, gfarmlib/schedule.h:
	Added gfarm_schedule_search_idle_new() to schedule.c that searches near hosts using functions defined in gfs_client_udp.c.

2003-02-07  Noriyuki Soda  <soda@sra.co.jp>

	* makes/gfptool.mk, makes/man.mk, makes/prog.mk, makes/subdir.mk, nslib/Makefile.in, nstool/file/Makefile.in, gfarm/Makefile, gfarmd/Makefile.in, gfarmlib/Makefile.in, include/Makefile.in, lib/gfs_hook/Makefile.in, lib/gfs_hook/sysdep/linux/Makefile.in:
	make "make gfregister" work recursively from the top directory

2003-02-07  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* gftool/gfreg/gfreg.c:
	When going "gfreg foo gfarm:", the previous version create blank file name gfarm file.
	In this case, create gfarm:foo assumed as "foo".

2003-02-06  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.en, INSTALL.ja, debian/rules, makes/var.mk:
	move example binaries from $(prefix)/bin/example/ to $(prefix)/bin/

	* makes/gfptool.mk: do not call "gfreg" at "make install", because:
	- it is impossible to make gfarm binary package (e.g. rpm, deb) with that way.
	- it is inconsistent with our current INSTALL.* document.
	  (Our installation document says that gfmd and gfsd should be run
	   after "make install").
	add "make gfregister" target for "gfreg".

2003-02-06  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_open.3, man/man3/gfs_pio_create.3, man/man3/gfs_pio_open.3:
	GFS_FILE_RDONLY should be GFARM_FILE_RDONLY.

	* gfarmlib/config.c:
	Added redirection feature of stdout and stderr to a gfarm file.
	XXX - This redirection relys on the current implementation of local storage manupulation and check-sum calculation.
	XXX - When gfarm_terminate() is not called, a redirected gfarm file will not be a complete file, although can be fixed by gfrun.
	usage: prog --gfarm_index <index> --gfarm_nfrags <nfrags> --gfarm_stdout gfarm:out --gfarm_stderr gfarm:err

2003-02-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hook_test.c: Added gfarm_terminate().

	* lib/gfs_hook/hooks_fstat.c: Eliminated compiler warnings.

	* lib/gfs_hook/hooks_subr.c: Added a comment.
	Changed debug messages slightly.

	* lib/gfs_hook/hooks_fstat.c: Fixed a compile error.

	* lib/gfs_hook/sysdep/linux/Makefile.in, lib/gfs_hook/sysdep/linux/fxstat.c, lib/gfs_hook/sysdep/linux/fxstat64.c, lib/gfs_hook/sysdep/linux/lxstat.c, lib/gfs_hook/sysdep/linux/lxstat64.c, lib/gfs_hook/sysdep/linux/xstat64.c, lib/gfs_hook/Makefile.in, lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_64.c, lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_fstat.c, lib/gfs_hook/hooks_stat.c:
	Added lstat and fstat hooks.

2003-02-04  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/main.c: add more comments about the race condition.

	* gfsd/main.c:
	Fix a race condition that SIGCHLD is delivered just before select(2)
	in gfs_server_command_io(). If this happens, gfsd waits forever at
	the select(2). Problem reported by naotaka-san.

2003-02-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hook_test.c, lib/gfs_hook/hooks_common.c:
	Changed a behavior for hooking the open syscall.
	If the number of fragments is not the same as the number of parallel processes, do not change to the local file view.

	* lib/gfs_hook/hooks_init.c, lib/gfs_hook/hooks_init_mpi.c:
	Fixed a compile error.

2003-02-02  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/hooks_init.c, lib/gfs_hook/hooks_init_mpi.c, lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h:
	declare gfs_hook_initialize() in hooks_subr.h

	* lib/gfs_hook/hooks_64.c: - hook _IO_file_seek() on linux,
	  otherwise __llseek() called by _IO_file_seek() cannot be hooked,
	  probably because of symbol versioning reason.
	  XXX - it is better to find cleaner way...
	- hook llseek()
	- hook __libc_lseek64() on linux

	* lib/gfs_hook/Makefile.in: add some missing dependency.
	fix a problem that -DDEBUG wasn't passed for hooks_64.do.

	* lib/gfs_hook/hook_test.c:
	unbuffer stdout to make the output sync with truss/strace even if redirected

	* include/gfs_hook.h, lib/gfs_hook/hooks_subr.c: do not hook fseek()

2003-02-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfhost/gfhost.c:
	Fixed a segfault when the -D option is not specified.

	* gfarmlib/auth_server.c:
	Fixed a bug of a log message when the authentication fails.

	* include/Makefile.in:
	Even if removing symlinks fail, continue to 'make'.

	* gftool/gfreg/gfreg.c:
	Modified an error message for the resistration failure.

	* gftool/gfhost/gfhost.c, gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	Added the -a <architecture> option and -D <domainname> option for listing hosts.
	The -D option to dump the filesystem node information is replaced with the -M option.

	* include/gfs_hook.h:
	fstat() can be hooked by lstat() on at least a solaris platform.

	* lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_init.c, lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h, lib/gfs_hook/Makefile.in, lib/gfs_hook/hook_test.c, lib/gfs_hook/hook_test_mpi.c, lib/gfs_hook/hooks.c:
	Added test programs for syscall hooking, which are generated by 'make test' or 'make mpitest'.
	More quiet debug messages when linking gfs_hook_debug.o or gfs_hook_mpi_debug.o.
	Added hook functions for unlink and _unlink.

2003-01-31  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/gfs_hook.h, lib/gfs_hook/hooks_subr.c:
	Added gfs_fseek_hook().

	* Makefile.in: Added gfptool.

2003-01-30  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* makes/gfptool.mk, gftool/example/Makefile, gfptool/gfsplck/gfsplck.c, gfptool/gfwc/Makefile, gfptool/gfwc/gfwc.c, gfptool/gfcp_hook/Makefile, gfptool/gfcp_hook/gfcp_hook.c, gfptool/gfgrep/Makefile, gfptool/gfgrep/gfgrep.c, gfptool/gfsplck/Makefile, gfptool/gfcombine/gfcombine.c, gfptool/gfcombine_hook/Makefile, gfptool/gfcombine_hook/gfcombine_hook.c, gfptool/gfcp/Makefile, gfptool/gfcp/gfcp.c, bench/thput-gfpio/Makefile, gfptool/Makefile, gfptool/gfcombine/Makefile:
	Moved gfarm parallel tools to a new location, gfptool.

	* gfarmlib/config.c:
	Fixed a problem such that gfsd and gfmd result in segfault.

	* gfarmlib/config.c:
	When a client node is also a filesystem node, try to obtain gfarm_spool_root by locally-running gfsd instead of the default path.

2003-01-30  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/error.c:
	try to avoid a compilation error reported by yamamoto-san

2003-01-29  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_common.c:
	Fixed a problem such that a program whose fopen("w") is hooked creates an incomplete Gfarm file.

	* INSTALL.en, INSTALL.ja:
	Catched up with the modification of command-line arguments of gfhost.

2003-01-28  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client_udp.c: - remove obsolete code fragments.
	- add missing "static" for an internal function.
	- do not output anything to stderr in a library function.

	* gfarmlib/error.c:
	use strerror() if linux && glibc>=3.2, to shut up the following warnings
	on RedHat-8.0:
	`sys_errlist' is deprecated; use `strerror' or `strerror_r' instead
	`sys_nerr' is deprecated; use `strerror' or `strerror_r' instead

	XXX - perhaps it's time to switch traditional error number scheme?

	* gftool/gfhost/gfhost.c:
	change meanings of some options as discussed with tatebe-san.
	(default):	list with long format	->	list hosts which are up
	-l:		dump metadb		->	list with long format
	-u:		list hosts which are up	->	<not used>
	-L:		list load average	->	sort by load average
	-r:		register/restore metadb	->	reverse order sort
	-D:		<not used>		->	dump metadb
	-H:		<not used>		->	list load average
	-R:		<not used>		->	register/restore metadb

2003-01-28  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_client_udp.c: fix warning at compile on linux.

2003-01-28  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfhost/gfhost.c:
	just a cosmetic fix: do not access uninitialized variable.

	* gftool/gfhost/gfhost.c: portability fix:
	<sys/socket.h> is needed for AF_INET and struct sockaddr,
	although compilation doesn't fail on linux.

	* gftool/gfhost/gfhost.c: fix warning at compile on linux.

2003-01-28  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man1/gfreg.1, man/man1/gfreg.1: Updated the description.

	* gftool/gfkey/gfkey.c: Added a missing include file.

	* gfarmd/gfd_cmd.y, gfarm/cmd.y: Added a missing semicolon.

	* gfarmlib/hostspec.h, gfarmlib/metadb_ldap.c, gfarmlib/param.c, gfarmlib/param.h, gfarmlib/sockopt.c, gfarmlib/sockopt.h, gfarmlib/url.c, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_default.c, gfarmlib/gfs_pio_global.c, gfarmlib/gfs_pio_local.c, gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_pio_remote.c, gfarmlib/gfs_pio_section.c, gfarmlib/host.c, gfarmlib/hostspec.c, gfarmlib/error.c, include/gfarm_error.h, include/gfarm_metadb.h, include/gfarm_misc.h, include/gfs.h:
	Eliminated warnings related to the const qualifier.

	* gftool/gfreg/gfreg.c: Fixed typo.
	Try to determine index and nfrags using gfs_pio_get_node_{rank,size}.

2003-01-27  Natotaka Yamamoto  <naotaka@ni.aist.go.jp>

	* gftool/gfreg/gfreg.c: vailable -h option to specify hostname.
	change usage()

2003-01-27  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfsched/gfsched.c, man/ja/man1/Makefile, man/ja/man1/gfsched.1, man/man1/Makefile, man/man1/gfsched.1:
	Added a manual page for gfsched.

	* man/ja/man1/gfrm.1, man/man1/gfrm.1:
	Added the description about the -h option.

	* gftool/gfrm/gfrm.c:
	'gfrm -h hostname gfarm_url' removes file replicas of gfarm_url on hostname.

	* gfarmlib/Makefile.in, gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_unlink.c, include/gfs.h:
	gfs_unlink() and gfs_unlink_section_replica() are moved to gfs_unlink.c.
	gfs_unlink_replicas_on_host() is added to remove file replicas of a file on a specific filesystem node.

	* gfsd/main.c:
	Reverted to the version 1.41.  Without a connection to a meta server, it is not possible to replicate a binary executable before execution.

2003-01-24  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/Makefile.in, gfarmlib/gfs_exec.c, include/gfs.h, gfsd/main.c:
	Added a new function, gfs_execve, to execute a Gfarm file.
	XXX - no test yet.

2003-01-23  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/auth_client_gsi.c:
	Changed the default gfarm-usermap file to /etc/grid-security/grid-mapfile.

	* gfarmlib/gfs_pio_misc.c (gfarm_url_fragments_replicate):
	When the number of destination filesystem nodes is not the same as the number of source filesystem nodes, the hostlist of destination nodes will be expanded in a cyclic manner.  Before this revison, it is errorous.

2003-01-22  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gftool/gfhost/gfhost.c:
	moved load average handling functions to gfarmlib/gfs_client_udp.c

	* gfarmlib/gfs_client_udp.c:
	moved load average handliing functions from gftool/gfhost/gfhost.c

	* gfarmlib/gfs_client.h:
	moved load average handling functions from gftool/gfhost/gfhost.c

	* gfarmlib/Makefile.in:
	mov load average handling functions from gftool/gfhost/gfhost.c

2003-01-22  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

	* man/ja/man1/gfwhere.1, man/man1/gfwhere.1:
	Added the description of the -I option.

	* gftool/gfwhere/gfwhere.c:
	Added the -I option for specifying an individual file fragment.
	XXX - need to improve the readability of the code.

2003-01-21  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/example/gfcp/gfcp.c:
	Fixed a bug related to parsing command-line arguments introduced by the revision 1.3.

2003-01-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-gfpio/thput-gfpio.c (thput-gfpio.c):
	Catched up with the change of behavior of gfarm_initialize().

	* gftool/gfwhere/gfwhere.c: Display usage when no file is specified.

	* gfarmlib/config.c, gftool/gfrun/gfrun.c:
	Changed command-line argument names added by gfrun from -I and -N to --gfarm_index and --gfarm_nfrags, respectively.
	These arguments will be parsed and eliminated by gfarm_initialize().

2003-01-19  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm.spec: japanese manual page for gfarm.conf

	* man/ja/Makefile, man/ja/man5/Makefile, man/ja/man5/gfarm.conf.5:
	manual page for gfarm.conf

	* INSTALL.en, INSTALL.ja:
	use "example.com" rather than "hpcc.jp" for examples.
	use port 389 (official port number for LDAP) rather than 9000 for LDAP service.

2003-01-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfreg/gfreg.c:
	Fixed a functionality to register a file fragment.

	* gfarmlib/config.c, gfarmlib/gfs_pio_local.c (gfs_pio_set_local):
	Added a range check for fragment index.

	* gfarmlib/gfs_pio_section.c (gfs_pio_set_view_index):
	Added a range check for fragment_index.

2003-01-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/Makefile.in:
	Fixed an installation error when gfs_hook_mpi.o is missing.

	* lib/gfs_hook/Makefile.in:
	Fixed a target name because of a name conflict.

2003-01-10  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c: fix compilation error

2003-01-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/Makefile.in, lib/gfs_hook/hooks_init.c, lib/gfs_hook/hooks_init_mpi.c, lib/gfs_hook/hooks_subr.c:
	Added gfs_hook_mpi.o for MPI programs.
	Since gfarm_initialize() is automatically called, any change of source code is not necessary to utilize gfarm filesystem.

	* gfarmlib/config.c: *** empty log message ***

	* configure, configure.in:
	When --with-mpi is specified without a withval, MPICC is defined as mpicc.

	* configure, configure.in:
	Modified globus_gssapi_libs for Globus Toolkit 2.2.2.

2002-12-26  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/example/gfcombine_hook/gfcombine_hook.c, gftool/example/gfcp/gfcp.c, gftool/example/gfgrep/gfgrep.c, gfarmlib/config.c, gftool/example/gfcombine/gfcombine.c:
	config.c (gfarm_initialize): This function eliminates -I and -N options added by gfrun from the argument list and calls gfs_pio_set_local().
	Now, gfarm applications are not necessary to call gfs_pio_set_local() explicitly.

	* gftool/addsec/addsec.c:
	Changed the default prefix 'gfarm:/' to 'gfarm:'.
	This assumes this command is executed in the home directory of the gfarm spool not in the top directory.

	* gfarmlib/gfs_pio_local.c, include/gfs.h:
	Added gfs_pio_get_node_rank() and gfs_pio_get_node_size().

2002-12-16  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/example/gfcp/gfcp.c: Fixed a fatal typo, strcmp vs strcpy.

2002-12-09  Yasuhito Takamiya  <takamiya@matsulab.is.titech.ac.jp>

	* debian/changelog, debian/control, debian/gfarm-server.init, debian/rules:
	cvs 20021101 upstream release.

2002-12-06  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: change package category

2002-12-05  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c: change program registratin priority
	use local host first

2002-12-04  Tohru Sotoyama  <sotoyama@sra.co.jp>

	* package/redhat/gfarm.spec: gfarm rpm spec file for:
		gfarm-doc
		gfarm-clinet
		gfarm-server
		gfarm-fsnode
		gfarm-gfmd
		gfarm-devel

2002-12-03  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/hash.c: fatal typo

	* makes/config.mk.in: make default_mandir be able to be overridden, too

	* makes/var.mk, man/ja/Makefile.inc:
	make japanese mandir be able to be overriden

	* gftool/example/Makefile.inc, makes/var.mk:
	make example bindir be able to be overridden

2002-11-27  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_server.c, gfarmlib/auth_server_gsi.c, configure, configure.in, gfarm_config.h.in:
	call setsid(), and if it's available, also setlogin(),
	to make getlogin() return correct login name on 4.4BSD derived systems.

2002-11-20  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/param.h, gfsd/main.c, gfarmlib/param.c:
	very experimental rate limiting code

2002-11-18  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h:
	workaround a problem caused by the way that the ROOT packages treats pathnames.

2002-11-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/example/gfcp/Makefile, gftool/example/gfcp/gfcp.c:
	Added gfcp.  usage: gfrun gfarm:gfcp input output

2002-11-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-fsys/thput-fsys.c:
	Added fsync(2 or 3c) after a write test.

2002-11-11  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfhost/gfhost.c:
	add "-u" (up) option, this option prints hostnames which are alive.

2002-11-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrep/gfrep.c, man/ja/man1/gfrep.1, man/man1/gfrep.1:
	Added the -D domainname option.  Gfarm file will be replicated to filesystem
	nodes in the domainname.

	* gfarmlib/gfs_pio_misc.c, gfarmlib/schedule.c, gfarmlib/schedule.h, gfarmlib/Makefile.in, include/gfs.h (gfs_pio_misc.c):
	Added gfarm_url_fragments_replicate_to_domainname(
					gfarm_url, domainname).
	This function replicates a file to filesystem nodes within the domainname.

	* gftool/addpath/addpath.c:
	Fixed a bug in version 1.2 when adding a Gfarm file.

	* gftool/addpath/addpath.c: Added -d option for metadata removal.

2002-11-09  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfhost/gfhost.c:
	Don't display incorrectly enormous or negative loadavg.

	* configure, configure.in:
	Corrected an installation directory for nsbins when --with-default-ns-exec-root option is explicitly specified.

	* gftool/example/gfcombine_hook/gfcombine_hook.c, gftool/example/gfcombine_hook/Makefile:
	Added a gfcombine_hook program that is a sample program using syscall hooking.

	* lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h, include/gfs_hook.h, lib/gfs_hook/hooks_common.c:
	Added file view management functions for syscall hooking:
		gfs_hook_set_default_view_local()
		gfs_hook_set_default_view_index(index, nfrags)
		gfs_hook_set_default_view_global()
		gfs_hook_set_view_local(fd, flags)
		gfs_hook_set_view_index(fd, nfrags, index, host, flags)
		gfs_hook_set_view_global(fd, flags)

	* man/man3/gfs_pio_set_view_local.3, man/ja/man3/gfs_pio_set_view_local.3:
	Fixed a function name...

2002-11-08  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfls/gfls.c: correct sort order of "gfls -lt" and "gfls -ltr"

	* gftool/gfhost/gfhost.c:
	don't call gfarm_initialize(), if it's not necessary (e.g. gfhost -Li <host>).
	because ldap_open(3), which is called from gfarm_initialize(), takes
	17..22 seconds on the indiana hosts (to LDAP server on gfm04.apgrid.org).

	* include/gfarm_metadb.h, gfarmlib/metadb_ldap.c, gftool/gfhost/gfhost.c:
	we couldn't modify host information without adding hostaliases for entries
	that don't have any hostaliases.
	this fixes the problem.

	* gftool/gfhost/gfhost.c:
	revert meaning of -A. because this seems to be more natural.
	e.g.
	- "gfhost -m -n <ncpu> <hostname>" doesn't change aliases.
	- "gfhost -m -n <ncpu> <hostname>" doesn't fail, if there is no hostalias.
	 ("gfhost -m -A <hostname>" will fail, if there is no hostalias.
	  but this is what we expect.)

	* INSTALL.en, INSTALL.ja:
	make slad.conf match with recently committed package/redhat/gfarm-slapd

2002-11-07  Noriyuki Soda  <soda@sra.co.jp>

	* package/redhat/gfarm-slapd:
	/etc/rc.d/init.d startup script for LDAP server on redhat derived systems.
	(only tested on Vine-2.5)

	* gftool/gfhost/gfhost.c:
	- disable warning message on default output mode.
	- add "-v" option to make the warning appear on default output mode.
	- use "x.xx" rather than "-.--" for hosts which don't return
	  GFARM_ERR_CONNECTION_REFUSED.

	* gftool/gfhost/gfhost.c: - fix incorrect timeout handling
	- do not ingore error event on poll(2)

	* gfarmlib/host.c: return the ``host'' argument as a *if_hostnamep,
	rather than "struct hostent:h_name",
	for non meta database case, too.
	as mentioned in previous commit message of this file.
	XXX - not sure this is the right thing. this makes gfhost output better, though.

	* gftool/gfsched/gfsched.c:
	add "-I" option to schedule a section (not a whole file),
	for gfarmlib debugging purpose

	* gfarmlib/gfs_client.c: fix a bug in previous commit.

	* gftool/gfhost/gfhost.c:
	sort output by default and also on -L option case.
	XXX - implementation is somewhat ad hoc....

	* INSTALL.en, INSTALL.ja, gftool/Makefile, gftool/gfhost/Makefile, gftool/gfhost/gfhost.c:
	add gfhost command, which manipulates/lists host information in meta database.
	this command also displays gfsd status by default.

	* include/gfarm_metadb.h:
	add gfarm_host_info_replace() interface and relevant infrastructure

	* gfarmlib/schedule.c:
	move timeout parameter for UDP service from here to gfs_client.[ch].
	remove unused #define symbol.

	* gfarmlib/stringlist.c: rename strvector_dup() and strvector_free() to
	gfarm_strarray_dup() and gfarm_strarray_free(),
	export these interface,
	and move these functions from metadb_ldap.c to stringlist.c.

	* gfarmlib/metadb_ldap.c:
	- add gfarm_host_info_replace() interface and relevant infrastructure
	- rename strvector_dup() and strvector_free() to
	  gfarm_strarray_dup() and gfarm_strarray_free(),
	  export these interface, and move these functions to stringlist.c.

	* include/gfarm_misc.h:
	- move gfarm_host_address_get() from "host.h" to <gfarm/gfarm_misc.h>.
	  i.e. export this interface to application.
	- export gfarm_host_info_get_by_if_hostname()
	- rename strvector_dup() and strvector_free() to
	  gfarm_strarray_dup() and gfarm_strarray_free(),
	  export these interface, and move these functions to stringlist.c.

	* gfarmlib/host.h:
	move gfarm_host_address_get() from "host.h" to <gfarm/gfarm_misc.h>.
	i.e. export this interface to application.

	* gfarmlib/host.c:
	return hostname or hostalias in meta database as a *if_hostnamep,
	rather than "struct hostent:h_name".

	XXX -	we should return the ``host'' argument as a *if_hostnamep,
		rather than "struct hostent:h_name",
		for non meta database case, too???

	* gfarmlib/gfs_client.h: define and export timeouts for UDP service

	* gfarmlib/gfs_client.c: - define and export timeouts for UDP service
	- support connected socket for UDP service

	* INSTALL.en, INSTALL.ja:
	describe missing, but very important slapd.conf setting
	which unlimits number of search results in LDAP protocol.

2002-11-07  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrm/gfrm.c, man/ja/man1/gfrm.1, man/man1/gfrm.1:
	Added the -h option to specify a filesystem node instead of the the -H option.

	* man/man1/gfrep.1:
	Added a description for -s and -d options.  It needs to be specified with -I option.

	* gftool/example/gfcombine/gfcombine.c:
	Added the -n option to specify the number of fragments to be combined.

2002-11-06  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrep/gfrep.c, man/ja/man1/gfrep.1, man/man1/gfrep.1:
	Added a description for -I, -s, and -d options.
	(gfrep.c): Just holding on 80 columns.

2002-11-06  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfrep/gfrep.c: use stderr instead of stdout for warning

2002-11-06  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrep/gfrep.c:
	Added -I, -s, and -d options to replicate a fragment of a file.
	usage: gfrep -I index [-s src-node] -d dest-node gfarm_url

2002-11-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/addsec/addsec.c: Fixed memory leak.

	* gftool/example/gfcombine/gfcombine.c, gftool/example/gfcombine/Makefile:
	Added a sample program to reduce the number of fragments by half; gfcombine.

		usage: gfcombine [-o outputfile] inputfile
		% gfrun -G gfarm:inputfile gfarm:gfcombine gfarm:inputfile

	Default output filename is 'gfarm:combine.out'.

	* gftool/gfrun/gfrun.c:
	Commented out the fragment number check code of output files.
	This is a temporal action to allow files whose number of fragments is not the same as the number of processes.

2002-11-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/addsec/addsec.c: Accept several filenames.

2002-11-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/addsec/Makefile, gftool/addsec/addsec.c, gftool/gfreg/gfreg.c, gfarmlib/gfs_pio_misc.c, gftool/addpath/Makefile, gftool/addpath/addpath.c, include/gfs.h:
	Added maintenance commands: addpath and addsec.
	usage:
		addpath pathname nfrags
		addsec pathname

	for example,
		% cd $gfarm_spool_root
		% addpath tatebe/foo:0 1
		% addsec tatbe/foo:0
		% addpath tatebe/echo:i386-intel-linux 1
		% addsec tatebe/echo:i386-intel-linux

2002-11-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog, include/gfarm_metadb.h:
	Catched up with the current ChangeLog.

2002-10-31  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfm_client.c: fix error added at revision 1.12.
	gfarm client doesn't have to be a compute host.

2002-10-28  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/man1/Makefile, man/man1/gfls.1:
	Added an manual page of gfls in English.

2002-10-28  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/Makefile, gftool/gfls/Makefile, gftool/gfls/gfls.c, include/gfarm_metadb.h, include/gfs.h, gfarmlib/metadb_ldap.c:
	add stopgap implementation of gfls

	* gfarmlib/gfs_pio.c: fill st_ctime at file creation.
	but st_mtime, st_atime and also st_ctime at other operations are not yet.

	* gfarmlib/hash.c, gfarmlib/hash.h: add iterator functions.

2002-10-14  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in:
	not only `getconf LFS_CFLAGS`, but also -D_GNU_SOURCE is required to
	make pwrite() 64bit-safe.

2002-10-13  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/hooks.c:
	previous version checked other's permission, rather than user's permission

	* lib/gfs_hook/hooks.c:
	add simple (and stupid) access(2) hook, but it seems this hook isn't called
	by goofy???

	* gfarmlib/gfs_pio_misc.c:
	gfs_unlink(3) couldn't remove inconsistent entry until this fix.

	* lib/gfs_hook/hooks_common.c: yet another kluge to deal with ROOT I/O.

	* gfarmlib/gfs_pio.c: fix typo

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_64.c, lib/gfs_hook/hooks_common.c:
	kluge for ROOT I/O.
	XXX - a lot of warnings about const qualifier.

	* gfarmlib/gfs_pio.c: changes for ROOT I/O

	* lib/gfs_hook/Makefile.in: honor $(OPTFLAGS)

	* lib/gfs_hook/hooks.c:
	revive some harmless debug message in __write().
	also note why I shouldn't add debug message bilindly here
	(I should remember this, but....).

	* lib/gfs_hook/hooks_common.c: more debug message

	* lib/gfs_hook/Makefile.in: add dependency

2002-10-13  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks.c (__write):
	Removed debug printing code to avoid infinite loops.

2002-10-13  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio_misc.c:
	move replica existence check to more appropriate place

	* gfarmlib/Makefile.in, gfarmlib/config.c, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_proto.h, gfarmlib/param.c, gfarmlib/param.h, gfarmlib/sockopt.c, gfsd/main.c:
	network striping for replication controlled by the following directives:
		netparam parallel_streams=STREAM_COUNT [NETWORK]
		netparam stripe_unit_size=STRIPE_CHUNK_SIZE [NETWORK]

	* include/gfs.h:
	correct definitions of gfarm_url_section_replicate{_from}_to(3) API.

	* gfmd/gfmd.c: just change #include order

	* gfarmlib/gfs_pio_misc.c, man/ja/man3/gfarm_url_section_replicate_from_to.3, man/ja/man3/gfarm_url_section_replicate_to.3:
	correct definitions of gfarm_url_section_replicate{_from}_to(3) API.

	* bench/thput-fsstripe/thput-fsstripe.c:
	make this looks like gfsd/main.c more

	* configure, configure.in, gfarm_config.h.in: check pwrite(2)

	* gfarmlib/error.c, include/gfarm_error.h:
	add GFARM_ERR_NUMERICAL_RESULT_OUT_OF_RANGE which corresponds to ERANGE.

	* include/Makefile.in: missing dependency

	* lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_common.c:
	more debug message for gfs_hook functions.

2002-10-12  Noriyuki Soda  <soda@sra.co.jp>

	* lib/gfs_hook/Makefile.in: missing change in previous commitment

	* lib/gfs_hook/Makefile.in:
	compile & install gfs_hook_debug.o as well as gfs_hook.o by default.

	* bench/thput-fsstripe/thput-fsstripe.c:
	just tweak function parameter order

2002-10-11  Noriyuki Soda  <soda@sra.co.jp>

	* bench/thput-fsstripe/thput-fsstripe.c:
	oops, descriptor shoudn't be shared.

	* bench/thput-fsstripe/thput-fsstripe.c:
	missing headers and missing argument.

	* bench/Makefile, bench/thput-fsstripe/Makefile, bench/thput-fsstripe/thput-fsstripe.c:
	a program t measure fs throughput with striping

2002-10-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio.c (gfs_pio_create):
	(quick hack) A RW mode checking code is commented out.  This is required for hooking ROOT I/O.

2002-10-10  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/main.c: forgot to initialize

	* gftool/gfmpirun/gfmpirun.c, gftool/gfrcmd/gfrcmd.c, gftool/gfreg/gfreg.c, gftool/gfrun/gfrun.c, include/gfarm_error.h, include/gfarm_metadb.h, gfarmlib/config.c, gfarmlib/error.c, gfarmlib/gfm_client.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_local.c, gfarmlib/gfs_pio_remote.c, gfarmlib/host.c, gfarmlib/host.h, gfarmlib/import_help.c, gfarmlib/metadb_ldap.c, gfarmlib/metadb_misc.c, INSTALL.en, INSTALL.ja, bench/thput-gfpio/thput-gfpio.c, gfarmlib/Makefile.in:
	make it possible to select multiple network interface

	* gfarmlib/gfs_pio_section.c, include/gfarm_misc.h:
	make it possible to select multiple network interface
	add gfarm_file_section_host_schedule{,_with_priority_local}()

	* gfarmlib/gfs_pio_misc.c:
	- make it possible to select multiple network interface
	- move gfarm_strings_free_deeply() from gfs_pio_misc.c to stringlist.c
	- add gfarm_file_section_host_schedule{,_with_priority_local}()

	* gfarmlib/schedule.c:
	- make it possible to select multiple network interface
	- fix several problems of the idle host search
	- add gfarm_file_section_host_schedule{,_with_priority_local}()

	* gfarmlib/gfs_client.c, gfarmlib/gfs_client.h:
	- make it possible to select multiple network interface
	- fix several problems in idle host search

	* gfmd/gfmd.c: split open_accepting_socket() from main()

	* gfsd/main.c: - make it possible to select multiple network interface
	- bind each interface address for udp service
	  to support multiple network interface.
	- split open_accepting_socket() from main()

	* gfsd/loadavg.c:
	bug fix - previous version didn't correctly work except first call.

	* gfarmlib/stringlist.c:
	move gfarm_strings_free_deeply() from gfs_pio_misc.c to stringlist.c

	* gfarmlib/auth_common.c: only call srandom(3) once.

	* acconfig.h, configure, configure.in, gfarm_config.h.in:
	deal with old BSDs which doesn't have strtoll() but does have strtoq()

2002-10-08  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrm/gfrm.c, man/ja/man1/gfrm.1, man/man1/gfexport.1, man/man1/gfrm.1, gftool/gfexport/gfexport.c:
	Improved the wording and fixed typos.

2002-10-04  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in, nstool/file/Makefile.in:
	correct nstool installation directory for the case that --prefix is omitted.

	* man/man1/gfrep.1, man/man1/gfrun.1, man/ja/man1/gfexport.1, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfrep.1, man/ja/man1/gfrun.1, man/man1/gfexport.1, man/man1/gfimport_fixed.1, man/man1/gfimport_text.1:
	describe ``-'' (standard input) for -H and -f option

	* man/ja/man1/gfrm.1, man/man1/gfrm.1:
	document the way to remove replica

	* gftool/gfexport/gfexport.c, gftool/gfrm/gfrm.c, man/ja/man1/gfexport.1, man/man1/gfexport.1:
	change fragment option (from '-s' in gfexport and '-i' in gfrm) to '-I',
	to make these consistent with gfreg.

2002-10-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Chatched up with the current ChangeLog.

2002-10-01  Noriyuki Soda  <soda@sra.co.jp>

	* gfmd/gfmd.c: plug memory leak

2002-09-27  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c: make 2nd argument of "sockopt" optional.
	in that case, the configuration means for ALL + LISTENER.

2002-09-26  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfm_client.c, gfarmlib/gfs_client.c, gfarmlib/auth_server.c, gfarmlib/config.c, gfarmlib/sockopt.h:
	minor clean up for #include

2002-09-20  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c: add comments

	* gfarmlib/io_fd.c, gfarmlib/io_fd.h, gfarmlib/io_gfsl.c, gfarmlib/sockopt.c, gfarmlib/Makefile.in:
	clean up includes

	* gfsd/main.c:
	decrease disk i/o block size for GFS_PROTO_BULKREAD from 64KB to 4KB.
	this increase gfrep bandwidth from 59MB/sec to 62MB/sec on
	Appro 1224X + e1000 + 3w-xxxx with default SO_RCVBUF (87380 bytes).

2002-09-19  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c, gfarmlib/gfm_client.c, gfarmlib/gfs_client.c, gfarmlib/hostspec.c, gfarmlib/sockopt.c, gfarmlib/sockopt.h, gfmd/gfmd.c, gfsd/main.c:
	add a feature to configure socket options by the following syntax:
	connect(2) side:
	        sockopt rcvbuf=1048576 192.168.1.0/24
	listen(2)/accept(2) side:
	        sockopt rcvbuf=1048576 LISTENER

	* gfarmlib/auth_client.c, gfarmlib/auth_server.c:
	backout previous change, this timing is too late.
	socket buffer size is needed at TCP 3way handshake, since this information
	is needed for window scale option.

	this means listen/accept side only can use an option for "ALL",
	rather than per-peer setting.

	* gfarmlib/config.c: missing change in previous commit

	* gfarmlib/sockopt.c, gfarmlib/sockopt.h, gfarmlib/Makefile.in, gfarmlib/auth_client.c, gfarmlib/auth_server.c, gfarmlib/config.c:
	add feature to configure socket options by the following syntax:
		sockopt rcvbuf=1048576 192.168.1.0/24

	* bench/nconnect/nconnect.c:
	forgot to call apply_sockopts() when -b option is not specified.

2002-09-18  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/main.c:
	revert experimental code which was committed in revision 1.34 by accident.

	* gftool/gfrm/gfrm.c: thinko

	* gfarmlib/gfs_pio_misc.c: plug memory leak

	* gfarmlib/gfs_pio_misc.c, gfsd/main.c, gftool/gfrm/gfrm.c, include/gfs.h:
	add a feature to remove replica.
	API:		gfs_unlink_section_replica()
	command:	gfrm -i <fragment> -H <hostfile>

2002-09-12  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man3/Makefile: Added new man pages.

2002-09-09  Noriyuki Soda  <soda@sra.co.jp>

	* man/ja/man3/gfarm_url_fragments_replicate.3, man/ja/man3/gfarm_url_program_deliver.3, man/ja/man3/gfarm_url_program_register.3, man/ja/man3/gfarm_url_section_replicate_from_to.3, man/ja/man3/gfarm_url_section_replicate_to.3:
	add man pages for replication & program registration APIs

2002-09-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

	* man/man1/gfimport_text.1, man/man8/gfmd.8, INSTALL.en, INSTALL.ja:
	Added an installation manual in English.

2002-09-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio.c (gfs_pio_seek):
	Fixed a bug not to update resultp when seeking within a fragment.

2002-09-02  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* package/redhat/gfmd, package/redhat/gfsd, package/solaris/gfmd, package/solaris/gfsd:
	Init files for solaris and redhat distribution.

2002-09-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/Makefile.in, lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_subr.c, lib/gfs_hook/hooks_subr.h:
	Extended a Gfarm URL format for syscall hooking to specify a section
	explicitly.  New Gfarm URL:  gfarm:[:section:]pathname
	For example, gfarm::0:foo is the first fragment of gfarm:foo.

	* gftool/gfreg/gfreg.c:
	Fixed an error message when a local file is missing.

2002-08-29  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/man1/Makefile, man/man3/Makefile, man/man8/Makefile:
	Fixed a path of top_objdir.

	* ChangeLog: Catched up with the current ChangeLog.

	* INSTALL.ja:
	Added a description of --with-globus for incorporating GFSL library.

	* man/man3/gfs_rmdir.3, man/man3/gfs_stat.3, man/man3/gfs_stat_free.3, man/man3/gfs_unlink.3, man/man8/Makefile, man/man8/gfmd.8, man/man8/gfsd.8, man/man3/gfs_pio_puts.3, man/man3/gfs_pio_read.3, man/man3/gfs_pio_seek.3, man/man3/gfs_pio_set_local.3, man/man3/gfs_pio_set_view_index.3, man/man3/gfs_pio_set_view_local.3, man/man3/gfs_pio_ungetc.3, man/man3/gfs_pio_write.3, man/man3/gfs_readdir.3, man/man3/gfs_rename.3, man/man3/gfs_pio_close.3, man/man3/gfs_pio_create.3, man/man3/gfs_pio_eof.3, man/man3/gfs_pio_error.3, man/man3/gfs_pio_flush.3, man/man3/gfs_pio_getc.3, man/man3/gfs_pio_getline.3, man/man3/gfs_pio_open.3, man/man3/gfs_pio_putc.3, man/man3/gfs_pio_putline.3, man/man3/Makefile, man/man3/gfarm_initialize.3, man/man3/gfarm_strings_free_deeply.3, man/man3/gfarm_terminate.3, man/man3/gfarm_url_hosts_schedule.3, man/man3/gfs_chmod.3, man/man3/gfs_chown.3, man/man3/gfs_closedir.3, man/man3/gfs_mkdir.3, man/man3/gfs_opendir.3, man/man1/gfreg.1, man/man1/gfrep.1, man/man1/gfrm.1, man/man1/gfrsh.1, man/man1/gfrun.1, man/man1/gfssh.1, man/man1/gfwc.1, man/man1/gfwhere.1, man/ja/man3/gfs_pio_set_view_local.3, man/man1/Makefile, man/man1/digest.1, man/man1/gfexport.1, man/man1/gfgrep.1, man/man1/gfimport_fixed.1, man/man1/gfimport_text.1, man/man1/gfkey.1, man/man1/gfmpirun.1, man/man1/gfps.1, man/man1/gfrcmd.1, man/Makefile, man/ja/man1/gfexport.1, man/ja/man1/gfgrep.1, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfkey.1, man/ja/man3/gfs_mkdir.3, man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_set_local.3:
	Added english man pages.

2002-08-09  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man1/gfrun.1, gftool/gfrun/gfrun.c:
	Changed the command option from -H gfarm-URL to -G gfarm-URL.

2002-08-06  Noriyuki Soda  <soda@sra.co.jp>

	* makes/var.mk, gftool/gfps/Makefile, gftool/gfrcmd/Makefile, gftool/gfreg/Makefile, lib/Makefile, Makefile.in, gfmd/Makefile, gfsd/Makefile, gftool/gfkey/Makefile:
	gfarmlib -> lib/libgfarm

	* include/gfs.h, makes/config.mk.in, gftool/gfrcmd/gfrcmd.c, gftool/gfreg/gfreg.c, include/gfarm_error.h, include/gfarm_metadb.h, include/gfarm_misc.h, bench/thput-gfpio/thput-gfpio.c:
	missing files when metadb development branch was imported

2002-08-02  Noriyuki Soda  <soda@sra.co.jp>

	* gfmd/ptcompat.h, gfsd/main.c: snapshot of metadb development branch

	* gfmd/metadb_ldap.c, gfmd/ptcompat.c, gfmd/ptcompat.h: New file.

	* gfmd/metadb.h, gfmd/metadb_ldap.c, gfmd/ptcompat.c:
	snapshot of metadb development branch

	* gfmd/inode.h, gfmd/job_table.c, gfmd/job_table.h, gfmd/metadb.h:
	New file.

	* gfmd/inode.h, gfmd/job_table.c, gfmd/job_table.h:
	snapshot of metadb development branch

	* gfmd/id_table.c, gfmd/id_table.h, gfmd/inode.c: New file.

	* gfmd/gfmd.c, gfmd/id_table.c, gfmd/id_table.h, gfmd/inode.c:
	snapshot of metadb development branch

	* gfmd/gflimits.h, gfmd/gfm_server.c, gfmd/gfm_server.h: New file.

	* gfmd/gflimits.h, gfmd/gfm_server.c, gfmd/gfm_server.h:
	snapshot of metadb development branch

	* gfmd/file.h, gfmd/gfj_server.c, gfmd/gfj_server.h: New file.

	* gfmd/file.c, gfmd/file.h, gfmd/gfj_server.c, gfmd/gfj_server.h:
	snapshot of metadb development branch

	* gfmd/client_table.c, gfmd/client_table.h, gfmd/file.c: New file.

	* gfmd/Makefile, gfmd/client_table.c, gfmd/client_table.h, configure, configure.in:
	snapshot of metadb development branch

	* gfarmlib/metadb_misc.c, gfarmlib/schedule.c, gfarmlib/stringlist.c, gfarmlib/url.c, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h, gfarmlib/hash.h, gfarmlib/hostspec.c, gfarmlib/hostspec.h, gfarmlib/import_help.c, gfarmlib/io_fd.c, gfarmlib/io_fd.h, gfarmlib/io_gfsl.c, gfarmlib/io_gfsl.h, gfarmlib/iobuffer.c, gfarmlib/iobuffer.h, gfarmlib/logutil.c, gfarmlib/logutil.h, gfarmlib/metadb_ldap.c, gfarmlib/gfm_proto.h, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_default.c, gfarmlib/gfs_pio_global.c, gfarmlib/gfs_pio_local.c, gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_pio_remote.c, gfarmlib/gfs_pio_section.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/hash.c, gfarmlib/Makefile.in, gfarmlib/auth.h, gfarmlib/auth_client.c, gfarmlib/auth_client_gsi.c, gfarmlib/auth_common.c, gfarmlib/auth_config.c, gfarmlib/auth_server.c, gfarmlib/auth_server_gsi.c, gfarmlib/config.c, gfarmlib/error.c, gfarmlib/gfj_client.h, gfarmlib/gfm_client.c:
	move this directory to ../lib/libgfarm/

2002-07-04  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.ja: add "-x" option to ldapsearch.
	this workarounds "ldap_sasl_interactive_bind_s: No such attribute" error
	which happens on certain configuration ("configure --with-cyrus-sasl"?).
	problem reported by morita-san.

2002-07-03  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.ja: openldap-1.x -> openldap-2.x configuration file changes

	* INSTALL.ja: change domain name of examples: hpcc.gr.jp -> hpcc.jp

	* gfarmlib/metadb_ldap.c: remove "_" from attribute name, because:
	- it's illegal.
	- it doesn't work with slapd of openldap-2.x.

	* lib/gfs_hook/hooks_subr.c: reimplement warning output again.
	- don't have to check gfarm_initialized in gfs_hook_is_open(),
	  because _gfs_file_buf[fd] is always NULL, if !gfarm_initialized.
	  this change prevents infinite recursion as well.
	- print the warning message only once,
	  this also should prevent infinite recursion.

2002-07-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/hooks_subr.c (gfs_hook_not_initialized):
	Fixed typo.  Commented out fprintf("...") to avoid infinite recursive calls.

	* gfarmlib/auth_server.c:
	Added #include <limits.h> that should be needed on Solaris.

2002-07-03  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c, include/gfarm_misc.h, lib/gfs_hook/hooks_subr.c:
	do not segfault, but print warning and ignore gfarm: prefix,
	when gfarm_initialized() isn't called.

2002-07-01  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client.c: forgot to call strdup()

	* gfarmlib/gfs_client.c:
	gfs_canonical_hostname() always should return hostname,
	even if gethostbyname(3) failed.
	this is a workaround for strange configuration(?) of padXXX.is.titech.ac.jp.

	* gfsd/main.c: forgot to remove moved lines in last commit.
	(to make gfsd runnable with non-root user)

2002-06-25  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in: just a comment change

2002-06-24  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_client_gsi.c, gfarmlib/auth_server_gsi.c, gfarmlib/io_gfsl.c:
	fix memory leak

	* gfarmlib/xxx_proto.c: fix fatal typo, this repairs gfrcmd.
	now gfrcmd works over GSI.

	* configure.in, gftool/example/Makefile, gftool/example/gfwc/Makefile, makes/config.mk.in, configure:
	add "--with-mpi=<MPICH-root-directory" option to configure script.
	"gftool/example/gfwc" is compiled, only if this option is specified.

	* gfarmlib/config.c, gfmd/gfmd.c, gfsd/main.c, include/gfarm_misc.h:
	add '-f' option to gfmd and gfsd for configuration pathname

	* INSTALL.ja, gfarmlib/xxx_proto.c, makes/var.mk, gfarmlib/auth_config.c, gfarmlib/auth_server.c, gfarmlib/auth_server_gsi.c, gfarmlib/config.c, gfarmlib/gfm_client.c, gfarmlib/gfs_client.c, gfarmlib/hostspec.c, gfarmlib/hostspec.h, gfarmlib/io_fd.c, gfarmlib/io_fd.h, configure, configure.in, gfarm_config.h.in, gfarmlib/Makefile.in, gfarmlib/auth.h, gfarmlib/auth_client.c, gfarmlib/auth_client_gsi.c, gfarmlib/auth_common.c:
	add "auth enable <auth-method> <host>" and "auth disable <auth-method> <host>"
	config directive to select authentication method.
	(default: NONE)

2002-06-21  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/gfs_hook/sysdep/linux/xstatconv.c, makes/man.mk, makes/subdir.mk, lib/gfs_hook/hooks_subr.h, lib/gfs_hook/sysdep/linux/Makefile.in, lib/gfs_hook/sysdep/linux/kernel_stat.h, lib/gfs_hook/sysdep/linux/xstat.c, lib/gfs_hook/sysdep/linux/xstat64.c, include/gfs.h, lib/Makefile, lib/gfs_hook/Makefile.in, lib/gfs_hook/hooks.c, lib/gfs_hook/hooks_64.c, lib/gfs_hook/hooks_common.c, lib/gfs_hook/hooks_subr.c, gfarmlib/Makefile.in, gfarmlib/gfs_hook.c, gfarmlib/url.c, Makefile.in, configure, configure.in:
	Added gfs_hook.o that is a modified version by soda-san.

	* ChangeLog: Update ChangeLog.

2002-06-21  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_server_gsi.c:
	delegated credential should be used only for `switch_to' case.
	(i.e. only for gfsd case. and shouldn't be used for gfmd case.)

2002-06-21  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/auth_client_gsi.c, gfarmlib/auth_server_gsi.c, ChangeLog:
	Sessions should be initiated with the delegated credential.  gfrep now works fine using GSI!

2002-06-19  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_client.c, gfarmlib/auth_client_gsi.c, gfarmlib/auth_server.c, gfarmlib/auth_server_gsi.c, gfarmlib/gfm_client.c, gfarmlib/gfs_client.c, gfmd/gfmd.c, gfsd/main.c, gfarmlib/auth.h:
	remove symbol GFARM_AUTH_H_CLIENT and GFARM_AUTH_H_SERVER

	* gfarmlib/io_fd.c: missing reference to INFTIM in last commitment

	* configure, configure.in, gfarm_config.h.in, gfarmlib/io_fd.c:
	use -1 instead of INFTIM, because linux doesn't define INFTIM.

2002-06-17  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/auth_server_gsi.c: bug fix
	- xxx_proto_flush() should be called before calling GFSL routines
	- condition about global_username was opposite

	* gfarmlib/auth_client_gsi.c:
	remove unnecessary line (these lines are traces of gfarm_auth_request_simple())

	* lib/libgfsl/Makefile.gt1:
	leave original Makefile for Globus-1.x with different name.

2002-06-14  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/main.c:
	forgot to deal with multiple connection type on server side

	* gfarmlib/auth_client_gsi.c, gfarmlib/auth_server_gsi.c, gfarmlib/io_gfsl.h:
	forgot to switch to secure session

	* lib/libgfsl/gfarm_secure_session.h:
	add struct tag name `gfarmSecSession' to type gfarmSecSession,
	to make opaque reference easy.

	* gfarmlib/io_gfsl.h, lib/libgfsl/Makefile, makes/config.mk.in, makes/var.mk, gfarmlib/Makefile.in, gfarmlib/auth.h, gfarmlib/auth_client.c, gfarmlib/auth_client_gsi.c, gfarmlib/auth_server.c, gfarmlib/auth_server_gsi.c, gfarmlib/io_gfsl.c, Makefile.in, acconfig.h, configure, configure.in, gfarm_config.h.in:
	link Globus GSI and libgfsl.a, when --with-globus is specified with configure.

	* gfarmlib/io_fd.c, configure, configure.in, gfarm_config.h.in:
	SVR4 (including Solaris, IRIX) requires <stropts.h> for INFTIM

	* gfmd/gfmd.c, gfsd/main.c, configure, configure.in, gfarm_config.h.in, gfarmlib/gfm_client.c, gfarmlib/gfs_client.c, gfarmlib/io_fd.c, gfarmlib/iobuffer.c, gfarmlib/iobuffer.h, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h:
	- close underlying stream in xxx_connection_free()
	- explicitly pass fd parameter to iobuffer read/write/close function,
	  to reduce number of function calls
	- use "char *" rather than "int" for iobuffer error status interface
	- use poll in io_fd.c

	* gfarmlib/gfs_pio_global.c: workaround type mismatch in Solaris 7

	* lib/libgfsl/gfarm-usermap: add my entry

	* gfarmlib/gfs_pio_global.c, gfarmlib/gfs_pio_misc.c:
	workaround type mismatch in Solaris 7

	* configure, configure.in:
	change default DEFAULT_NS_EXEC_ROOT from /var/tmp to ${prefix},
	approved by tatebe-san.

	* configure, configure.in: reorder some checks

	* gfarmlib/io_fd.c, gfarmlib/io_fd.h, gfarmlib/iobuffer.c, gfarmlib/iobuffer.h, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h, gfmd/gfmd.c, gfsd/main.c, gfarmlib/Makefile.in, gfarmlib/gfm_client.c, gfarmlib/gfs_client.c:
	modify xxx_connection API again, to prepare GFSL integration.
	suggested by tatebe-san.

2002-06-13  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/iobuffer.c: remove obsolete comment

2002-06-11  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client.c, gfarmlib/iobuffer.c, gfarmlib/iobuffer.h, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h:
	modify gfarm_iobuffer API to prepare GFSL integration.

2002-05-20  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nstool/file/get.c, nstool/file/put.c, nstool/file/stat.c:
	Added an error checking code for remote execution.

2002-05-10  Noriyuki Soda  <soda@sra.co.jp>

	* bench/thput-fsys/thput-fsys.c:
	- remove limitation of maximum buffer size
	- make this program work with linux raw device
	 (i.e. ensure 512byte aligned buffer)

	* bench/Makefile: add bwlat-syscache

	* bench/bwlat-syscache/Makefile, bench/bwlat-syscache/bwlat-syscache.c:
	New file.

	* bench/bwlat-syscache/Makefile, bench/bwlat-syscache/bwlat-syscache.c:
	benchmark program which reads same disk block repeatedly.
	bandwidth and latency between disk controller and cpu can be measured
	by specifying raw disk device with this program.

2002-05-09  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* man/ja/man3/Makefile: Fixed a typo of a filename.

2002-05-07  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/error.c, include/gfarm_error.h:
	add some errors (some of them will be used only internally in libgfarm)

	* gftool/gfmpirun/gfmpirun.c, gftool/gfrun/gfrun.c, include/gfarm_misc.h, gfarmlib/gfs_client.c, gfarmlib/import_help.c, gfarmlib/stringlist.c, gftool/gfexport/gfexport.c:
	adapt to new stringlist API described in man pages

	* Makefile.in, makes/config.mk.in: changes for man pages

	* makes/man.mk, man/ja/man3/GFARM_STRINGLIST_ELEM.3, man/ja/man3/GFARM_STRINGLIST_STRARRAY.3, man/ja/man3/Makefile, man/ja/man3/gfarm_import_fragment_size_alloc.3, man/ja/man3/gfarm_stringlist_cat.3, man/ja/man3/gfarm_stringlist_elem.3, man/ja/man3/gfarm_stringlist_free_deeply.3, man/ja/man3/gfarm_stringlist_length.3, man/ja/man3/gfarm_strings_free_deeply.3, man/ja/man3/gfs_pio_close.3, man/ja/man3/gfs_pio_eof.3, man/ja/man3/gfs_pio_error.3, man/ja/man8/Makefile, man/ja/man8/gfmd.8, man/ja/man8/gfsd.8:
	New file.

	* makes/man.mk, man/ja/man3/GFARM_STRINGLIST_ELEM.3, man/ja/man3/GFARM_STRINGLIST_STRARRAY.3, man/ja/man3/Makefile, man/ja/man3/gfarm_import_fragment_size_alloc.3, man/ja/man3/gfarm_stringlist_cat.3, man/ja/man3/gfarm_stringlist_elem.3, man/ja/man3/gfarm_stringlist_free_deeply.3, man/ja/man3/gfarm_stringlist_length.3, man/ja/man3/gfarm_strings_free_deeply.3, man/ja/man3/gfs_pio_close.3, man/ja/man3/gfs_pio_eof.3, man/ja/man3/gfs_pio_error.3, man/ja/man8/Makefile, man/ja/man8/gfmd.8, man/ja/man8/gfsd.8:
	man pages of libgfarm and gftools

	* man/Makefile, man/ja/Makefile, man/ja/Makefile.inc, man/ja/man1/Makefile, man/ja/man1/digest.1, man/ja/man1/gfexport.1, man/ja/man1/gfgrep.1, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfkey.1, man/ja/man1/gfls.1, man/ja/man1/gfmkdir.1, man/ja/man1/gfmpirun.1, man/ja/man1/gfps.1, man/ja/man1/gfrcmd.1, man/ja/man1/gfreg.1, man/ja/man1/gfrep.1, man/ja/man1/gfrm.1, man/ja/man1/gfrmdir.1, man/ja/man1/gfrsh.1, man/ja/man1/gfrun.1, man/ja/man1/gfssh.1, man/ja/man1/gfwc.1, man/ja/man1/gfwhere.1, man/ja/man3/gfarm_hostlist_read.3, man/ja/man3/gfarm_import_fragment_config_read.3, man/ja/man3/gfarm_initialize.3, man/ja/man3/gfarm_stringlist_add.3, man/ja/man3/gfarm_stringlist_free.3, man/ja/man3/gfarm_stringlist_init.3, man/ja/man3/gfarm_terminate.3, man/ja/man3/gfarm_url_hosts_schedule.3, man/ja/man3/gfs_chmod.3, man/ja/man3/gfs_chown.3, man/ja/man3/gfs_closedir.3, man/ja/man3/gfs_mkdir.3, man/ja/man3/gfs_opendir.3, man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_flush.3, man/ja/man3/gfs_pio_getc.3, man/ja/man3/gfs_pio_getline.3, man/ja/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_putc.3, man/ja/man3/gfs_pio_putline.3, man/ja/man3/gfs_pio_puts.3, man/ja/man3/gfs_pio_read.3, man/ja/man3/gfs_pio_seek.3, man/ja/man3/gfs_pio_set_local.3, man/ja/man3/gfs_pio_set_view_index.3, man/ja/man3/gfs_pio_set_view_local.3, man/ja/man3/gfs_pio_ungetc.3, man/ja/man3/gfs_pio_write.3, man/ja/man3/gfs_readdir.3, man/ja/man3/gfs_rename.3, man/ja/man3/gfs_rmdir.3, man/ja/man3/gfs_stat.3, man/ja/man3/gfs_stat_free.3, man/ja/man3/gfs_unlink.3:
	New file.

	* man/Makefile, man/ja/Makefile, man/ja/Makefile.inc, man/ja/man1/Makefile, man/ja/man1/digest.1, man/ja/man1/gfexport.1, man/ja/man1/gfgrep.1, man/ja/man1/gfimport_fixed.1, man/ja/man1/gfimport_text.1, man/ja/man1/gfkey.1, man/ja/man1/gfls.1, man/ja/man1/gfmkdir.1, man/ja/man1/gfmpirun.1, man/ja/man1/gfps.1, man/ja/man1/gfrcmd.1, man/ja/man1/gfreg.1, man/ja/man1/gfrep.1, man/ja/man1/gfrm.1, man/ja/man1/gfrmdir.1, man/ja/man1/gfrsh.1, man/ja/man1/gfrun.1, man/ja/man1/gfssh.1, man/ja/man1/gfwc.1, man/ja/man1/gfwhere.1, man/ja/man3/gfarm_hostlist_read.3, man/ja/man3/gfarm_import_fragment_config_read.3, man/ja/man3/gfarm_initialize.3, man/ja/man3/gfarm_stringlist_add.3, man/ja/man3/gfarm_stringlist_free.3, man/ja/man3/gfarm_stringlist_init.3, man/ja/man3/gfarm_terminate.3, man/ja/man3/gfarm_url_hosts_schedule.3, man/ja/man3/gfs_chmod.3, man/ja/man3/gfs_chown.3, man/ja/man3/gfs_closedir.3, man/ja/man3/gfs_mkdir.3, man/ja/man3/gfs_opendir.3, man/ja/man3/gfs_pio_create.3, man/ja/man3/gfs_pio_flush.3, man/ja/man3/gfs_pio_getc.3, man/ja/man3/gfs_pio_getline.3, man/ja/man3/gfs_pio_open.3, man/ja/man3/gfs_pio_putc.3, man/ja/man3/gfs_pio_putline.3, man/ja/man3/gfs_pio_puts.3, man/ja/man3/gfs_pio_read.3, man/ja/man3/gfs_pio_seek.3, man/ja/man3/gfs_pio_set_local.3, man/ja/man3/gfs_pio_set_view_index.3, man/ja/man3/gfs_pio_set_view_local.3, man/ja/man3/gfs_pio_ungetc.3, man/ja/man3/gfs_pio_write.3, man/ja/man3/gfs_readdir.3, man/ja/man3/gfs_rename.3, man/ja/man3/gfs_rmdir.3, man/ja/man3/gfs_stat.3, man/ja/man3/gfs_stat_free.3, man/ja/man3/gfs_unlink.3:
	man pages of libgfarm and gftools

2002-04-24  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfsl/Makefile, lib/libgfsl/README:
	Added a compile option for static linking.

2002-04-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nstool/file/stat.c, nstool/file/Makefile.in:
	Added a ns client program stat.

	* ChangeLog, INSTALL.ja:
	Fixed a careless miss of a gfgrep command-line example.

2002-04-19  Noriyuki Soda  <soda@sra.co.jp>

	* INSTALL.ja:
	reflect recent changes, mention program registration by gfreg.

2002-04-19  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-pvfs/Makefile, bench/thput-pvfs/thput-pvfs.c:
	Experimental code for benchmarking of PVFS.

	* ChangeLog, INSTALL.ja: Added an introductory description.
	Catched up with the change of Gfarm terminology.

2002-04-18  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio_remote.c: avoid inefficient GFS_PROTO_WRITE request.
	partial read/write are already cared by upper gfs_pio layer.

	* gfsd/main.c:
	do not cause fatal error when buffer bigger than GFS_PROTO_MAX_IOSIZE
	are passed by GFS_PROTO_READ and GFS_PROTO_WRITE, but perform partial
	i/o operation for that case.
	note that client should avoid such case for GFS_PROTO_WRITE, because
	it is inefficient.

	* gfarmlib/iobuffer.h:
	add a comment about *_just() and *_x() functions.

2002-04-15  Noriyuki Soda  <soda@sra.co.jp>

	* bench/thput-gfpio/thput-gfpio.c:
	use file_offset_t and related macro to make thput-gfpio work on platforms
	which don't support "long long".
	but do not use that way for thput-fsys, to make it independent of gfarm.

2002-04-15  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-gfpio/thput-gfpio.c:
	Double-precision floating division is replaced with multiplication.
	Changed type format from ld to lld when printing file_size.

2002-04-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/comm.h, include/gflib.h, include/ns.h, include/nsclnt.h, include/nsexec.h:
	Catched up with the change of gfarm-related header files' path.

	* bench/thput-fsys/thput-fsys.c (timeval_sub):
	Changed division to multiplication.

2002-04-08  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfexport/gfexport.c: - use gfs_pio_get_nfragment()
	- call gfs_pio_open() only once for fragmented file

	* gftool/gfwhere/gfwhere.c: plug minor memory leak

	* gfarmlib/metadb_misc.c:
	use GFARM_ERR_OPERATION_NOT_PERMITTED for program vs fragmented-file mismatch

	* gfarmlib/gfs_pio.c:
	- rename gfs_pio_error() to gfs_pio_clearerr() just like <stdio.h>
	- define gfs_pio_get_nfragment()
	- honor umask
	- use GFARM_ERR_OPERATION_NOT_PERMITTED for program vs fragmented-file mismatch
	- be more consistent about gf->error

	* gfarmlib/gfs_pio_misc.c:
	use GFARM_S_IS_FRAGMENTED and GFARM_S_IS_PROGRAM

	* gfarmlib/gfs_pio_section.c:
	- use GFARM_ERR_OPERATION_NOT_PERMITTED for program vs fragmented-file mismatch
	- be more consistent about gf->error
	- be more robust when gfarm_path_info_set returns GFARM_ERR_ALREADY_EXISTS

	* gfarmlib/gfs_pio_global.c:
	- use GFARM_ERR_OPERATION_NOT_PERMITTED for program vs fragmented-file mismatch
	- be more consistent about gf->error

	* gfarmlib/gfs_pio_default.c: be more consistent about gf->error

	* gfarmlib/gfs_pio.h:
	- GFARM_IS_PROGRAM() is obsoleted by GFARM_S_IS_PROGRAM()

	* include/gfs.h: - define GFARM_S_IS_FRAGMENTED and GFARM_S_IS_PROGRAM
	- rename gfs_pio_error() to gfs_pio_clearerr() just like <stdio.h>
	- define gfs_pio_get_nfragment()

2002-04-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog: Catched up with the current ChangeLog.

	* bench/thput-gfpio/thput-gfpio.c:
	Use gettimeofday() on every platform except i386.

2002-04-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/auth_common.c, gfarmlib/auth_server.c, gfarmlib/error.c, gfarmlib/gfs_pio_global.c, gfarmlib/stringlist.c:
	Added missing include files.

2002-04-04  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c, include/gfarm_misc.h:
	export gfarm_attach_debugger()

	* gfarmlib/gfs_pio_section.c:
	fix fatal error which happens on writing more than 64KB with gfs_pio_write(),
	problem reported by tatebe-san.

	* bench/thput-gfpio/thput-gfpio.c: make debugger work

	* bench/thput-gfpio/Makefile: define $(DEPLIBS)

	* gfarmlib/gfs_pio_global.c:
	- introduceg internal function fs_pio_set_view_default() for common processing
	- fix resource leak on gfs_pio_view_global_close()
	- better errror recovery on failure of gfs_pio_set_view_index()

	* gfarmlib/gfs_pio.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_default.c, gfarmlib/gfs_pio_section.c:
	introduceg internal function fs_pio_set_view_default() for common processing

	* gfarmlib/gfs_pio_local.c:
	just renaming local variable to avoid misunderstanding

2002-04-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-gfpio/thput-gfpio.c: Catched up with the new Gfarm API.

2002-04-04  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfj_client.h, gfarmlib/gfm_client.c, gftool/gfmpirun/Makefile, gftool/gfmpirun/gfmpirun.c, gftool/gfrun/Makefile, gftool/gfrun/gfrun.c:
	forgot to register job on gfmpirun

2002-04-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/schedule.c (gfarm_url_hosts_schedule):
	Fixed a bug when scheduling by a Gfarm file with multiple replicas.  strdup() is necessary.

	* gfarmlib/Makefile.in:
	Makefile.in: Exclude gfs_hook.o from libgfarm.a.  It is necessary to be linked explicitly.

2002-03-28  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmd/Makefile.in: clean up symbolic link (deamon.c)

	* include/gfs.h, gftool/gfkey/gfkey.c, gftool/gfps/gfps.c, gftool/gfrcmd/gfrcmd.c, gftool/gfrun/gfrun.c, gftool/gfsched/gfsched.c, gftool/gfwhere/gfwhere.c, include/gfarm_error.h, include/gfarm_metadb.h, include/gfarm_misc.h, gfmd/gfmd.c, gfsd/main.c, gftool/example/gfgrep/gfgrep.c, gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/gfimport_text.c, gftool/example/gfwc/gfwc.c, gftool/gfexport/gfexport.c, gfarmlib/gfs_pio_misc.c, gfarmlib/gfs_pio_remote.c, gfarmlib/gfs_pio_section.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/metadb_ldap.c, gfarmlib/metadb_misc.c, gfarmlib/schedule.c, gfarmlib/url.c, gfarmlib/error.c, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_hook.c, gfarmlib/gfs_pio.c, gfarmlib/gfs_pio.h, gfarmlib/gfs_pio_default.c, gfarmlib/gfs_pio_global.c, gfarmlib/gfs_pio_local.c, gfarmlib/Makefile.in, gfarmlib/auth.h, gfarmlib/auth_client.c, gfarmlib/auth_common.c, gfarmlib/auth_server.c, gfarmlib/config.c:
	changes for new gfarm API

	* nslib/nsclnt.c, nslib/soc-lxdr.c, nslib/soc.c, gftool/gfreg/gfreg.c, gftool/gfrep/gfrep.c, gftool/gfrm/gfrm.c, include/gfarm.h, include/soc-lxdr.h, nslib/comm.c, nslib/file.c, nslib/gflib.c, gfarmd/gfarmd.c, gfarmd/gfd_auth.c, gfarmd/gfd_parse.c, gfarmlib/gfm_client.c, gfarmlib/import_help.c, gfarmlib/stringlist.c, gfarmlib/xxx_proto.c, gfsd/daemon.c, gfsd/limit.c, gfsd/loadavg.c, gftool/gfmpirun/gfmpirun.c, bench/thput-gfpio/thput-gfpio.c, gfarm/gfarm.c:
	use <gfarm/XXXX.h> instead of <gfarm.h> for header file name of gfarm API.

	* makes/var.mk: move logutil.[ch] from gfsd/ to gfarmlib/

	* gftool/example/gfgrep/Makefile: typo

	* gfarmlib/logutil.c, gfarmlib/logutil.h, gfsd/logutil.h, gfarmd/Makefile.in, gfmd/Makefile, gfsd/Makefile, gfsd/logutil.c:
	move logutil.[ch] from gfsd/ to gfarmlib/

	* include/Makefile.in:
	use <gfarm/XXXX.h> instead of <gfarm.h> for header file name of gfarm API.

2002-03-26  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gftool/gfrun/gfrun.c:
	Added the -H <Gfarm file> option.  This option specifies the Gfarm file used for scheduling.

2002-03-06  Noriyuki Soda  <soda@sra.co.jp>

	* gfmd/gfmd.c:
	fix yet another uninitialized variable related to unlimit_nofiles()

2002-03-04  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/limit.c:
	RLIM_INFINITY might be incorrectly returned as maximum open files
	before this fix. (on AIX 4.2?)

	* configure, configure.in: correct warning message

	* gfarmlib/error.c:
	add MAX_ERRNO (1024 by default) as stopgap for AIX 4.3
	where sys_nerr isn't usable and strerror(i) never returns NULL.

	* gfarmlib/gfs_pio.c:
	- fix incorrect assertion that size_t is compatible with int.
	- fix misbehavior of gfs_pio_flush() on error case.

	* gfsd/main.c:
	before this change, table_size might be garbage, if !defined(HAVE_SETRLIMIT).

2002-03-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* bench/thput-fsys/thput-fsys.c:
	Use gettimeofday() on every platform except i386.

2002-02-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfsl/README:
	Added a description how to compile and how to test.

2002-02-12  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* lib/libgfsl/Makefile, lib/libgfsl/gfarm-usermap:
	Quich hack for Globus Toolkit 2.0.

2002-02-09  Noriyuki Soda  <soda@sra.co.jp>

	* makes/config.mk.in: correct variable name for shlib path setting

	* configure, configure.in:
	add sanity check about user specified compiler/liker option.
	problem noted by tatebe-san.

2002-02-08  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/config.c:
	use waitpid() instead of wait4(), because the former doesn't have portability.

	* configure, configure.in: check -lgen for basename(3) on IRIX.

	* makes/config.mk.in, configure, configure.in:
	- add "-lresolv", if openldap needs it.
	- specify -rpath (or -R) for extra libraries.
	problem reported by tatebe-san

	* lib/libgfsl/client2.c:
	print error message, if gfarmSecSessionInitiateByAddr() fails.

	* lib/libgfsl/gsi.c:
	remove unused function of getToken() and getGfarmEtcDir() reported by gcc -Wall.
	those functions are moved to misc.c.

	* lib/libgfsl/session.c, lib/libgfsl/auth.c, lib/libgfsl/gsi.c, lib/libgfsl/misc.c, lib/libgfsl/server.c, lib/libgfsl/server2.c:
	remove unused variables and labels reported by gcc -Wall

	* lib/libgfsl/scsub.c, lib/libgfsl/server2.c:
	typo in message: s/accpetor/acceptor/

	* lib/libgfsl/session.c:
	do not dumps core, rather returns error, if gfarmSecSessionAccept() aborts.

2002-02-07  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* ChangeLog, INSTALL.ja: Added ChangeLog and INSTALL.ja.

	* nslib/gflib.c, nslib/soc.c:
	Removed unnecessary cast operations for NULL.

	* gftool/gfrun/gfrun.c, gftool/Makefile, gftool/gfrun/Makefile:
	Renamed gfrsh to gfrun.
	gfrun executes programs using the environment variable GFRUN_CMD.
	You can submit jobs with globus-job-run!

2002-02-02  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfrep/Makefile, gftool/gfrm/Makefile, gftool/gfsched/Makefile, gftool/gfwhere/Makefile, makes/config.mk.in, makes/var.mk, nslib/Makefile.in, nstool/file/Makefile.in, gftool/example/gfimport_text/Makefile, gftool/example/gfwc/Makefile, gftool/gfexport/Makefile, gftool/gfkey/Makefile, gftool/gfmpirun/Makefile, gftool/gfps/Makefile, gftool/gfrcmd/Makefile, gftool/gfreg/Makefile, gfarm/Makefile, gfarmd/Makefile.in, gfarmlib/Makefile.in, gfarmlib/sysdep/ix86-pc-linux-gnu/Makefile.in, gfmd/Makefile, gfsd/Makefile, gftool/digest/Makefile, gftool/example/gfgrep/Makefile, gftool/example/gfimport_fixed/Makefile, bench/Makefile, bench/nconnect/Makefile, bench/thput-fsys/Makefile, bench/thput-gfpio/Makefile, configure, configure.in:
	enable largefile & 64bit off_t.

	* gfarmlib/gfs_hook.c:
	workaround symbol conflicts caused by 64bit off_t of largefile support

	* bench/thput-gfpio/thput-gfpio.c:
	make clock counter routine i386 generic (but still gcc dependent)

	* bench/thput-fsys/thput-fsys.c:
	- make clock counter routine i386 generic (but still gcc dependent)
	- fix problems reported by compiler

	* bench/nconnect/nconnect.c:
	remove strdup() to resolve conflict with libc.
	fix to problems reported by compiler.

2002-01-30  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfrcmd/gfrcmd.c: remove unused variables

	* bench/thput-gfpio/thput-gfpio.c:
	add "-m" option to measure gfs_pio call overhead (i.e. metadb access overhead)
	(made at Nov 1, 2001. forgot to commit...)

	* bench/thput-fsys/thput-fsys.c:
	add "-m" option to measure system call overhead
	(made at Nov 1, 2001. forgot to commit...)

	* gfarmlib/config.c, gfarmlib/gfm_client.c, gfmd/gfmd.c, include/gfarm_misc.h:
	add "metadb_serverport" config directive to support debugging without
	root privilege

	* gfarmlib/gfs_pio.c:
	- fix a race bug which was caused by shared LDAP connection of fork(2)ed
	  children.
	  calling gfarm_metadb_terminate() (i.e. ldap_unbind()) on children
	  after fork(2) doesn't fix this problem, so call it before fork(2),
	  and re-initialize metadb on parent after the fork(2) finished.
	- plug memory leak on gfarm_url_fragments_replicate()

	* gfarmlib/gfs_client.c:
	use "#ifdef XXX_MEASURE_CKSUM_COST" rather than "#if 0"

2002-01-23  Yasuhito Takamiya  <takamiya@matsulab.is.titech.ac.jp>

	* debian/gfarm-server.init, debian/postinst, debian/rules, debian/dirs, debian/docs, debian/gfarm-doc.docs, debian/gfarm-doc.files, debian/gfarm-pool.conffiles, debian/gfarm-pool.init, debian/gfarm-pool.postinst, debian/changelog, debian/control, debian/copyright:
	added debian related files.

2002-01-21  Noriyuki Soda  <soda@sra.co.jp>

	* lib/libgfsl/README, lib/libgfsl/Why: New file.

	* lib/libgfsl/README, lib/libgfsl/Why:
	secure session layer library by m-hirano

	* lib/libgfsl/Makefile, lib/libgfsl/REFERENCE, lib/libgfsl/auth.c, lib/libgfsl/client.c, lib/libgfsl/client2.c, lib/libgfsl/gfarm-initiator.conf, lib/libgfsl/gfarm-usermap, lib/libgfsl/gfarm_auth.h, lib/libgfsl/gfarm_config.h, lib/libgfsl/gfarm_gsi.h, lib/libgfsl/gfarm_hash.c, lib/libgfsl/gfarm_hash.h, lib/libgfsl/gfarm_secure_session.h, lib/libgfsl/gsi.c, lib/libgfsl/misc.c, lib/libgfsl/scsub.c, lib/libgfsl/server.c, lib/libgfsl/server2.c, lib/libgfsl/session.c, lib/libgfsl/tcputil.c, lib/libgfsl/tcputil.h:
	New file.

	* lib/libgfsl/Makefile, lib/libgfsl/REFERENCE, lib/libgfsl/auth.c, lib/libgfsl/client.c, lib/libgfsl/client2.c, lib/libgfsl/gfarm-initiator.conf, lib/libgfsl/gfarm-usermap, lib/libgfsl/gfarm_auth.h, lib/libgfsl/gfarm_config.h, lib/libgfsl/gfarm_gsi.h, lib/libgfsl/gfarm_hash.c, lib/libgfsl/gfarm_hash.h, lib/libgfsl/gfarm_secure_session.h, lib/libgfsl/gsi.c, lib/libgfsl/misc.c, lib/libgfsl/scsub.c, lib/libgfsl/server.c, lib/libgfsl/server2.c, lib/libgfsl/session.c, lib/libgfsl/tcputil.c, lib/libgfsl/tcputil.h:
	secure session layer library by m-hirano

2002-01-17  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfrcmd/gfrcmd.c:
	do not connect to metadb server (because it is unnecessary)
	to make this command run faster.

	still (sometimes 10times) slower than rsh, with a server on localhost.
	this seems to be a scheduling problem (CPU is mostly idle, and gfrcmd
	sometimes runs mostly same speed with rsh).

	* gfarmlib/iobuffer.h: correct false (obsolete) comment

2002-01-16  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in: libssl is needed for openldap-2.x

	* gfarmlib/metadb_ldap.c:
	portability fix: make this works with openldap-2.0.21

	* makes/subdir.mk:
	display "[ making DIRECTORY ]" rather than "*** making DIRECTORY",
	from tatebe-san

	* gfsd/main.c: - encapsulate EOF handling into iobuffer module
	- check return value of select(2), because contents of readable/writable
	  may be invalid, if select(2) returns -1.
	  for example, if SIGCHLD is delivered during select(2), select(2) may
	  be interrupted with errno == EINTR.
	  without this fix, xxx_proto_recv(client, 1, &eof, "i", &cmd) in
	  gfs_server_command_io_fd_set() waits forever, because readable is mistakenly
	  treated as true.
	- fix race condition about server_command_context.pid and
	  server_command_context.running handling
	- make protocol state neutral in gfs_server_client_command_result(),
	  if an invoked command exits during GFS_COMMAND_CLIENT_STATE_OUTPUT,
	  protocol becomes out of sync without this.
	- report EOF state of stdout/stderr to client

	* gfarmlib/gfs_client.c:
	- encapsulate EOF handling into iobuffer module
	- check return value of select(2), because contents of readable/writable
	  may be invalid, if select(2) returns -1 (e.g. due to EINTR).

	* gfarmlib/iobuffer.c, gfarmlib/iobuffer.h:
	- encapsulate eof handling into iobuffer module
	- add an ability to call a callback function at write-close
	 (currently not used).

	* gfarmlib/auth_common.c: do not use fopen(3) but use open(2),
	because fopen(2) wastes entropy and cpu resource by reading BUFSIZ random bytes
	rather than just reading the `length' bytes.

2002-01-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_hook.c (open64): Fixed a bug when calling syscall().

	* gfarmlib/gfs_hook.c (_creat, __creat):
	Fixed a trivial bug about arguments.

2001-12-25  Noriyuki Soda  <soda@sra.co.jp>

	* bench/nconnect/nconnect.c:
	a program which was used to measure network+disk bandwidth.

2001-12-19  Noriyuki Soda  <soda@sra.co.jp>

	* gfmd/gfmd.c: - permit that one client registers multiple jobs
	- forgot to add the code which actually passes hostnames of nodes
	- add (currently unused) flag parameter to gfj_client_register()

	* gfarmlib/gfj_client.h, gfarmlib/gfm_client.c:
	- forgot to add the code which actually passes hostnames of nodes.
	- add (currently unused) flag parameter to gfj_client_register()

	* gfarmlib/gfs_pio.c: missing space in error message

	* gfarmlib/gfs_proto.c: portability fix

2001-12-17  Noriyuki Soda  <soda@sra.co.jp>

	* include/gfarm_misc.h: add meatdb server related variable

	* gfsd/main.c:
	move authentication module to gfarmlib, and other clean up

	* gftool/Makefile: add gfps

	* Makefile.in: add gfmd

	* gftool/gfkey/gfkey.c: s/GFS_AUTH/GFRAM_AUTH/g

	* gftool/gfps/Makefile, gftool/gfps/gfps.c:
	get process status from job manager

	* gfmd/Makefile, gfmd/gfmd.c:
	meta db server skelton. only job manager is included for now.

	* gfarmlib/Makefile.in, gfarmlib/config.c, gfarmlib/gfj_client.h, gfarmlib/gfm_client.c, gfarmlib/gfm_proto.h, gfarmlib/gfs_client.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h:
	job manager client routines

	* gfarmlib/auth.h, gfarmlib/auth_client.c, gfarmlib/auth_common.c, gfarmlib/auth_server.c:
	split authentication module to share with gfmd

2001-12-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmd/gfarmd.c (gfarmd_wait):
	Unregister a process entry when the specified process is not a child process or has already gone.

2001-11-02  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/iobuffer.c, gfarmlib/iobuffer.h, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h, gfarmlib/gfs_client.c:
	kick disk i/o as soon as some data are received from network.
	this makes replication performance 10% better on matsulab padXXX cluster.
	(protocol isn't changed, only client side implementation is changed.)

	* gfsd/main.c: better error handling

2001-10-30  Noriyuki Soda  <soda@sra.co.jp>

	* bench/thput-gfpio/thput-gfpio.c:
	simple i/o throughput benchmark of gfs_pio_read/write

	* bench/thput-fsys/thput-fsys.c:
	simple i/o throughput benchmark of read/write via filesystem.

	* gfsd/main.c, include/gfarm_misc.h, gfarmlib/config.c, gfarmlib/gfs_client.c:
	some debugging feature like follows:
	- make it possible to specify gfsd port number in /etc/gfarm.conf or ~/.gfarmrc
	- make it possible to run gfsd without root privilege
	  (gfsd only accepts connections from same user who invoked gfsd in this case)
	- remove obsolete rsh_invocation code in gfsd

2001-10-26  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio.c: redundant expression

2001-10-22  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/xxx_proto.c:
	better error handling

	* gfsd/main.c: - better error handling
	- correct behaviour in SIGPIPE case (ignore SIGPIPE and reply EPIPE)

	* gfarmlib/gfs_client.c: - better error handling
	- fix bugs in gfs_client_copyin(), gfs_client_command_result()

	* gfarmlib/gfs_hook.c: - set errno
	- plug potential resource leak

	* gfarmlib/error.c:
	- add some other error codes for better error handling
	- fix a bug which was introduced at Solaris port

	* include/gfarm_error.h:
	add some other error codes for better error handling

	* gftool/gfrcmd/gfrcmd.c: remove unused variables

	* gfarmlib/iobuffer.h: missing function prototypes

	* gfarmlib/iobuffer.c: missing return statement

	* gfarmlib/config.c:
	<sys/wait.h> is needed for function prototype of waitpid(2).

2001-10-16  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_hook.c: fix problem of lseek emulation on NetBSD.

2001-10-15  Noriyuki Soda  <soda@sra.co.jp>

	* makes/config.mk.in, makes/prog.mk, makes/subdir.mk, makes/var.mk, nslib/Makefile.in, nstool/Makefile, nstool/file/Makefile.in, gftool/gfrcmd/Makefile, gftool/gfreg/Makefile, gftool/gfreg/gfreg.c, gftool/gfrep/Makefile, gftool/gfrm/Makefile, gftool/gfsched/Makefile, gftool/gfwhere/Makefile, include/Makefile.in, gftool/digest/Makefile, gftool/example/Makefile, gftool/example/Makefile.inc, gftool/example/gfgrep/Makefile, gftool/example/gfimport_fixed/Makefile, gftool/example/gfimport_text/Makefile, gftool/example/gfwc/Makefile, gftool/gfexport/Makefile, gftool/gfkey/Makefile, gftool/gfmpirun/Makefile, config.sub, configure, configure.in, gfarm/Makefile, gfarmd/Makefile.in, gfarmlib/Makefile.in, gfarmlib/gfs_hook.c, gfarmlib/sysdep/ix86-pc-linux-gnu/Makefile.in, gfsd/Makefile, gftool/Makefile, install-sh, Makefile.in:
	support --srcdir option for configure, to make it possible to build/test
	multiple architectures from single source directories.
	this change introduces $(srcdir), $(obj_srcdir) in addition to $(src_topdir).

2001-10-10  Noriyuki Soda  <soda@sra.co.jp>

	* nstool/file/Makefile.in:
	link libns before $(LIBS), because libns refers cuserid(2) which may belong
	to $(LIBS) (actually libcompat in $(LIBS))

	* configure, configure.in, gfarm_config.h.in:
	check existence of libcompat, because cuserid(3) belongs to libcompat on NetBSD

	* acconfig.h:
	forgot to commit this, when HAVE_SYS_NERR was added for Solaris 7.

	* gftool/gfsched/Makefile, gftool/gfsched/Makefile.in, gftool/gfwhere/Makefile, gftool/gfwhere/Makefile.in, makes/prog.mk, gftool/gfmpirun/Makefile, gftool/gfmpirun/Makefile.in, gftool/gfrcmd/Makefile, gftool/gfrcmd/Makefile.in, gftool/gfreg/Makefile, gftool/gfreg/Makefile.in, gftool/gfrep/Makefile, gftool/gfrep/Makefile.in, gftool/gfrm/Makefile, gftool/gfrm/Makefile.in, gftool/example/gfimport_fixed/Makefile, gftool/example/gfimport_fixed/Makefile.in, gftool/example/gfimport_text/Makefile, gftool/example/gfimport_text/Makefile.in, gftool/example/gfwc/Makefile, gftool/example/gfwc/Makefile.in, gftool/gfexport/Makefile, gftool/gfexport/Makefile.in, gftool/gfkey/Makefile, gftool/gfkey/Makefile.in, configure, configure.in, gfarm/Makefile, gfarm/Makefile.in, gfsd/Makefile, gfsd/Makefile.in, gftool/digest/Makefile, gftool/digest/Makefile.in, gftool/example/Makefile.inc, gftool/example/gfgrep/Makefile, gftool/example/gfgrep/Makefile.in:
	- repair missing "install" target.
	 (example programs are installed under bin/example/, currently...)
	- use makes/prog.mk for common rule for program Makefiles.
	- use gftool/example/Makefile.inc for common rule of gftools/example/*
	- stop needless Makefile.in -> Makefile generation for simple Makefiles,
	  use plain Makefile instead.
	 (Makefile.in files which use @xxx@ substitution other than @top_srcdir@
	  remain untouched.)

	* gftool/gfrcmd/gfrcmd.c: duplicate include directive

	* gfarmlib/sysdep/ix86-pc-linux-gnu/Makefile.in:
	remove unneeded autoconf substitutions

2001-10-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmd/gfd_auth.c: Fixed careless miss.

2001-10-10  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/sysdep/ix86-pc-linux-gnu/gfarm_linux_kernel_stat.h:
	I'm using (very) old linux distribution which doesn't define _STAT_VER_KERNEL
	in /usr/include/bits/stat.h...

2001-10-10  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfsd/logutil.c: Added #include <stdlib.h> for exit(2).

	* gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_auth.c, gfarmd/gfd_file.c, gfarmd/gfd_parse.c, gfarmd/symtab.c:
	Changed a home directory in gfarmd to the same home directory in a passwd file.

	* nslib/gflib.c (gfarm_clnt_login):
	getlogin() returns NULL on the terminal like rxvt in Linux 2.4.  In this case, try cuserid() and getenv("LOGNAME").

2001-10-09  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfsched/gfsched.c, nslib/soc.c, configure, configure.in, gfarm_config.h.in, gfarmlib/error.c, gftool/gfmpirun/gfmpirun.c, gftool/gfreg/gfreg.c:
	fix compile error on Solaris 7

	* configure.in, gftool/Makefile, configure: add gftools/gfrcmd/

	* gftool/gfmpirun/gfmpirun.c, gftool/gfreg/gfreg.c, gftool/gfrep/gfrep.c, gftool/gfrm/gfrm.c, gftool/gfsched/gfsched.c, gftool/gfwhere/gfwhere.c, gftool/example/gfgrep/gfgrep.c, gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/gfimport_text.c, gftool/example/gfwc/gfwc.c, gftool/gfexport/gfexport.c:
	add argc/argv parameter to gfarm_initialize().

	* gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfsd/main.c, gftool/gfrcmd/Makefile.in, gftool/gfrcmd/gfrcmd.c:
	- add command invocation feature to gfsd
	- add rsh-like command `gfrcmd' which uses the gfsd command invocation

	* include/gfarm_misc.h:
	- add argc, argv parameter to gfarm_initialize()
	- make gfarm_server_initialize/terminate() function.
	- add fixed bit length types
	- move hash functions to private header (gfarmlib/hash.h)

	* gfarmlib/import_help.c: error in error message

	* gfarmlib/url.c, gfarmlib/gfs_pio.c:
	use gfarm_errno_to_error() rather than strerror()

	* gfarmlib/gfs_hook.c: slight change for NetBSD (not really tested)

	* gfarmlib/Makefile.in: add iobuffer module

	* include/gfs.h: - update some interface (but not latest spec, yet.)

	* gfarmlib/error.c, include/gfarm_error.h:
	- add conversion function from/to errno
	- add the following errors
		GFARM_ERR_OPERATION_NOT_PERMITTED
		GFARM_ERR_AUTHENTICATION
		GFARM_ERR_NO_SPACE

	* gfarmlib/config.c: - add argc/argv parameter to gfarm_initialize()
	- create gfarm_server_initialize/terminate()
	- add runtime debug support ($GFARM_DEBUG_MODE=gdb)

	* gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h:
	- use struct iobuffer rather than FILE for buffering
	- add `just' parameter to all receive functions

	* gfarmlib/iobuffer.c, gfarmlib/iobuffer.h: i/o buffering module

	* gfarmlib/hash.c, gfarmlib/hash.h: - (hopefully) better interface
	- fix a bug about casefold string key

2001-09-01  Noriyuki Soda  <soda@sra.co.jp>

	* configure.in, configure:
	fix problem that sed @...@ susbstitution isn't done, if there isn't
	gfarmlib/${sysdep_dir}/Makefile.

	it seems AC_OUTPUT() can appear only at once in configure.in, at least
	on autoconf-2.13. the sed substition isn't generated at second appearance
	of AC_OUTPUT().

2001-08-31  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_hook.c: Added a hook of stat() on Linux!

2001-08-31  Motonori Hirano  <m-hirano@aist.go.jp>

	* gfarmlib/sysdep/ix86-pc-linux-gnu/linux_stat.c:
		o Omit calling __ptrvalue().

	* gfarmlib/sysdep/ix86-pc-linux-gnu/xstatconv.c, gfarmlib/Makefile.in, gfarmlib/sysdep/ix86-pc-linux-gnu/Makefile.in, gfarmlib/sysdep/ix86-pc-linux-gnu/gfarm_linux_bp-checks.h, gfarmlib/sysdep/ix86-pc-linux-gnu/gfarm_linux_kernel_stat.h, gfarmlib/sysdep/ix86-pc-linux-gnu/linux_stat.c, gfarmlib/sysdep/ix86-pc-linux-gnu/linux_stat.h, Makefile.in, config.guess, configure, configure.in:
		o Adding mechanism to select system dependent syscall (or others)
		  hooking configuration. Right now, only for ix86 based Linux.

2001-08-31  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_hook.c, gfarmlib/url.c:
	url.c (is_url,url_make_path): Objectivity patch.  '/gfarm:' is also considered as a Gfarm URL.
	gfs_hook.c: Added stat() hooking, however it works on only Solaris not Linux.  Linux inlines stat() which calls __xstat() with an additional version argument.  Since gfs_stat() is not implemented yet, this hook only works like stat_local().

2001-08-28  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/gfarm_misc.h, gfarmlib/Makefile.in, gfarmlib/gfs_hook.c, gfarmlib/url.c:
	First version for hooking system calls like open(), close(), read() and write().
	Tested on Linux and Solaris.
	errno is not set appropriately yet when gfs_*() is invoked.

2001-08-23  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nstool/file/ns_readdir.c: Sends a stat also.

2001-08-22  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* include/comm.h, include/nscom.h, include/soc-lxdr.h, include/soc.h, nslib/comm.c, nslib/file.c, nslib/soc-lxdr.c, nslib/soc.c:
	Addd a const type qualifier to a buf argument of ns_data_send().

2001-08-21  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nstool/file/Makefile.in, nstool/file/ns_readlink.c, nstool/file/ns_symlink.c:
	ns_readlink.c, ns_symlink.c: Added.

	* nslib/gflib.c (gfarm_clnt_init):
	When NS_DEBUG is defined, call gfarm_clnt_display_msg() to display reply messages from gfarmd.

	* nslib/nsclnt.c, nslib/nsexec.c, gfarm/gfarm.c, gfarmd/gfarmd.c, include/gflib.h, include/nsexec.h, nslib/gflib.c:
	gflib.c (gfarm_clnt_display_cmd): Added to control whether reply messages from gfarmd are displayed or not.

	* nstool/file/Makefile.in, nstool/file/ns_mkdir.c, nstool/file/ns_readdir.c:
	Added new ns executables for file manipulations.

2001-08-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nslib/file.c, nslib/nsclnt.c, nslib/soc-lxdr.c, nslib/soc.c, nstool/file/ns_lstat.c, nstool/file/ns_stat.c, nstool/file/ns_unlink_dir.c, include/comm.h, include/soc-lxdr.h, include/soc.h, nslib/comm.c:
	Changed datatype of buf argument of ns_send and recv from char * to void *.

	* nstool/file/ns_stat.c, nstool/file/ns_unlink.c, nstool/file/ns_unlink_dir.c, nstool/file/put.c, nstool/file/Makefile.in, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_lstat.c, nstool/file/ns_put.c, nstool/file/ns_rename.c:
	Added several remote file functions.

	* include/nscom.h, nslib/file.c:
	Modified API name from ns_{send,recv}_lstat to ns_{send,recv}_stat.

	* nslib/soc-lxdr.c (ns_lxdr_recv): Return if there is no message.

2001-08-01  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nslib/file.c, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_put.c, nstool/file/put.c, include/nscom.h:
	Modified APIs for file transfer between a Gfarm client and a Gfarm server.

2001-07-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/gfs_pio.c (gfs_pio_write):
	Fixed a bug not to update the number of byte written.

2001-06-29  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in, gftool/Makefile: add gfwhere and gfrm

	* include/gfarm_metadb.h, gfarmlib/gfs_pio.c, gftool/gfrm/Makefile.in, gftool/gfrm/gfrm.c:
	gfrm: tool to remove gfarm file.

	* gftool/gfwhere/Makefile.in, gftool/gfwhere/gfwhere.c:
	a tool to display locations of replica.
		Usage: gfwhere <gfarm_url>

	* gfarmlib/import_help.c: forgot to canonicalize hostname here.

	* configure, configure.in, gftool/Makefile, gftool/gfrep/Makefile.in, gftool/gfrep/gfrep.c:
	rename "gfreplicate" to "gfrep", suggested by tatebe-san

	* gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfsd/main.c, include/gfs.h, configure, configure.in:
	add a simple tool to create replica.

2001-06-11  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarm/gfarm.c (gfarm_nexec):
	Added gfarm_clnt_display_msgs() for flushing messages before closing a data connection.

	* nslib/gflib.c:
	Added an error checking code for all ns_comm_printf()s.

2001-05-17  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, include/gflib.h, nslib/gflib.c:
	Changed a syntax of the kill command, kill pid.

	* gfarmd/gfarmd.c, gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.y:
	Changed a syntax of the KILL protocol, KILL pid.

2001-05-16  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/gfmpirun/gfmpirun.c: SA_RESETHAND is not needed, and harmful.

2001-05-15  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmlib/url.c (gfarm_username): Added.
	(gfarm_canonical_path): gfarm:path/name is now expanded to ${USER}/path/name like scp filenames.

	* gftool/gfreg/gfreg.c:
	Moved a file existence check to the if-condition clause for checking it is executable or not.  That is because gfreg for Gfarm files (not program) specifies a fragment by the Gfarm canonical path.

	* gftool/gfmpirun/gfmpirun.c: Added #include <stdlib.h> for mkstemp().

	* nslib/gflib.c (gfarm_clnt_wait):
	Added a special treatment for pid -1.

	* gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c:
	Added new gfarm shell commands, nexec and wait.

2001-05-14  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio.c:
	yet another error check, pointed out by tatebe-san

2001-05-14  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmd/gfd_cmd.h: Added #include <sys/types.h> for pid_t.

2001-05-14  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio.c:
	slightly better (but not yet complete) error handling.
	-- error condition reported by tatebe-san.

2001-05-11  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/metadb_ldap.c, gfarmlib/xxx_proto.c, gfsd/main.c, include/gfarm_metadb.h, include/gfarm_misc.h, include/gfs.h, gfarmlib/config.c:
	- enable to register program binary to gfarm spool.
	- automatic program delivery via gfarm url.
	enable to specify gfarm url as program name

	* gftool/gfmpirun/gfmpirun.c:
	- do not do ad hoc parsing, but call gfarm_url_fragment_number().
	  (similar change with gfrsh.c revision 1.2 and 1.4)
	- enable to specify gfarm url as program name.

	* gftool/gfreg/gfreg.c:
	add a feature to register program binary to gfarm spool.

2001-05-09  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarm/gfarm.c, gfarmd/gfarmd.c, gfarmd/gfd_auth.c, gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, gfarmd/gfd_parse.c, include/gflib.h, include/nsclnt.h, nslib/gflib.c, nslib/nsclnt.c, nstool/file/get.c, nstool/file/put.c:
	Added a new protocol WAIT pid for gfarmd.  This waits for the process completion specified by pid.
	gfarmd/gfarmd.c (gfarmd_wait): Added.
	gfarmd/gfd_auth.c, gfarmd/gfarmd.c: Replaced syslog() with log_message().
	nslib/gflib.c, nslib/nsclnt.c: Changed APIs for nonblocking execution.
	nstool/file/{put,get}.c: Followed the above changes.

	* include/comm.h, include/soc-lxdr.h, include/soc.h, nslib/comm.c, nslib/soc.c (ns_comm_printf):
	 Changed a return datatype from void to int.  This function returns EOF upon unsuccessful completion.

2001-04-05  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nslib/nsclnt.c (ns_clnt_wait_input): Commented out.

	* gfarmd/gfd_file.c, gfarmd/gfd_parse.c, gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_auth.c:
	Makefile.in: Added gfd_file.c.
	gfarmd.c (gfarmd_init): Added a check for necessary directories.
	gfd_file.c: Added.  This file contains functions for file and directory manipulation.
	gfd_auth.c (gfarmd_mk_home_directory): Renamed to gfarmd_mkdir and moved to gfd_file.c.
	gfd_auth.c (gfarmd_login, gfarmd_user): Changed HOME directory to $root/GFARMD_HOME/$username.  PATH is now $root/GFARMD_HOME/$username:$root/GFARMD_BIN.  Added a return-code check of strdup().

	* gfarmlib/url.c (gfarm_url_make_path):
	Removed a definition of unused variables.

	* gfarm/gfarm.c:
	Just enclose a variable definition of gfarm_out with #ifdef USE_READLINE and #endif.

2001-04-04  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* nstool/file/get.c, nstool/file/put.c:
	If sending arguments fails, go to ns_clnt_rexec_wait() instead of exit(1), because it is nesessary to receive a status message from gfarm server.

	* gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, gfarmd/gfd_parse.c, gfarmd/gfarmd.c:
	Changed the default syslog facility to GFARM_DEFAULT_FACILITY (= LOG_USER0).
	Added ACTV command.

	* gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c:
	Added active command.

	* nslib/nsclnt.c (ns_clnt_rexec_wait):
	Change to the standard mode after waiting the remote execution if NS_PROXY is not defined.

	* include/gflib.h, nslib/gflib.c (gfarm_clnt_active): Added.

2001-04-03  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_parse.c:
	Makefile.in: Added daemon.c.
	gfd_parse.c (ns_register_proc, ns_unregister_proc): Added.  This registers a process entry.
	gfd_parse.c (ns_free_argv): Added.
	gfd_parse.c (gfd_rmdir): Added.  Equivalent to rm -rf, while this function is currently declared as a static function.
	gfarmd.c (gfarmd_exec): Register executed processes.

	* gfarm/gfarm.c (gfarm_wait_input): Deleted.  It is no longer used.
	(prompt): Delete a commented-out code.

2001-04-02  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in, gfarm_config.h.in, makes/config.mk.in:
	- add "--with-readline=XXX" option (default: disable)
	- actually check setrlimit() and daemon()

	* gfarm/Makefile.in:
	use variables generated by "configure --with-readline=XXX".

	* gfsd/Makefile.in, gfsd/daemon.c, gfsd/limit.c, gfsd/main.c:
	- split daemon() to daemon.c
	- split unlimit_nofiles() to limit.c
	to share these functions with gfarmd.

	* gfsd/main.c, gfsd/logutil.c:
	use GFARM_ARRAY_LENGTH() rather than home grown ARRAY_LENGTH().

2001-04-02  Osamu Tatebe  <o.tatebe@aist.go.jp>

	* gfarmd/gfarmd.c (main):
	Become a daemon after listening a socket.  That is because the error message for failure of the bind is not displayed.

	* gfarm/Makefile.in, gfarm/gfarm.c:
	Added USE_READLINE to utilize libreadline.

	* gfarmd/gfarmd.c, gfarmd/gfd_auth.c:
	gfd_auth.c (gfarmd_user, gfarmd_login_ext): Added a call of log_set_auxiliary_info().
	LOG_NOTICE is used instead of LOG_INFO.
	Default syslog facility is now LOG_DAEMON.

	* gfsd/logutil.c, gfsd/main.c:
	Fixed ARRAY_LENGTH macro to calculate correctly the number of array elements.

2001-03-30  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/logutil.c:
	priority was not used on log_message(), pointed out by tatebe-san.

2001-03-30  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/soc.c, gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmd/gfd_auth.c, makes/var.mk:
	gfarmd: use syslog().  However, not tested enough yet.  Just temporally check in.

2001-03-27  Noriyuki Soda  <soda@sra.co.jp>

	* gfsd/logutil.c, gfsd/logutil.h, gfsd/main.c:
	rename syslog related functions and variables.
	e.g. use "log_" as prefix of log related functions.

	* gfsd/Makefile.in, gfsd/logutil.c, gfsd/logutil.h, gfsd/main.c:
	split log related functions to logutil.c/logutil.h

2001-03-23  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_pio.c: gfs_pio_set_fragment_info_local():
	- plug memory leaks about `local_path'
	- some style fixes (remove casts which are not needed on ANSI-C)

	* gfarmlib/url.c: gfarm_basename():
	- do not access `errno', because strdup() doesn't set it.
	- only call malloc() once. (not twice)

2001-03-11  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmlib/gfs_pio.c, gfarmlib/url.c, include/gfarm_misc.h:
	url.c (gfarm_cannonical_path): Added.  This function is called within gfarm_url_make_path().
	gfs_pio.c (gfs_pio_set_fragment_info_local): Gfarm spool directory is added prior to the given local filename.

	* gftool/gfreg/gfreg.c (main):
	Deleted a file existence check because the gfarm spool root directory should be added prior to the path name of the file.

2001-03-10  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfd_auth.c (gfarmd_login): Set the environment variable HOME.

2001-03-09  Osamu Tatebe  <tatebe@etl.go.jp>

	* gftool/gfreg/gfreg.c: Index is now specified using the -I option.

	* gftool/gfsched/gfsched.c:
	Added an error checking of a missing command argument.

	* gftool/example/gfgrep/gfgrep.c, gftool/gfreg/gfreg.c:
	gfreg.c (main): Added a code for command option parsing.
	gfgrep.c (main): Added a missing '\n' of an error message.

2001-03-02  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmlib/gfs_pio.c, gfarmlib/url.c:
	gfs_pio.c (gfs_pio_set_fragment_info_local): Unlink a newly created symlink if registration farls.  Changed indentation.
	url.c (gfarm_basename): Added.

2001-03-01  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/metadb_ldap.c:
	use better error message, add one sanity check to detect configuration errror.

	* gfarmlib/url.c:
	treat "gfarm:~user/path" as same with "gfarm:/user/path".

	* gfarmlib/url.c:
	change error message of gfarm_url_make_path() from "invalid argument"to
	"invalid gfarm URL" as suggested by tatebe-san

	* gfarmlib/url.c:
	fix problem about "~" expansion in "gfarm:~/path/name".
	pointed out by tatebe-san.

	* gfsd/main.c: fix stupid error. gfsd no longer creates zombie.

	* configure, configure.in, gftool/Makefile, gftool/gfkey/Makefile.in, gftool/gfkey/gfkey.c:
	add `gfkey', a utility to create ~/.gfarm_shared_key.

	* gfsd/main.c:
	fix privilege to read ~/.gfarm_shared_key, this was `root' and that didn't
	work with NFS shared home directory, if root access to the home directory
	is not permitted.

	* gfsd/main.c: - fix false error message
	- report authentication error in detail

	* gfarmlib/config.c:
	fix a bug to read ~/.gfarmrc. pointed out by tatebe-san.

2001-03-01  Osamu Tatebe  <tatebe@etl.go.jp>

	* configure, configure.in, gftool/Makefile, gftool/gfsched/Makefile.in, gftool/gfsched/gfsched.c:
	gftool/gfsched: Added.  This program create a hostfile from a given gfarm_url.

	* configure, configure.in, gftool/Makefile, gftool/gfreg/Makefile.in, gftool/gfreg/gfreg.c:
	gftool/gfreg: Added.  This is a tool to register a local file to the Gfarm Meta DB.

	* include/gfarm_misc.h, include/gfs.h, gfarmlib/gfs_pio.c, gfarmlib/url.c:
	gfs_pio.c (gfs_pio_set_fragment_info_local): Added.  This function is used with legacy applications.
	url.c (gfarm_file_absolute): Added.  This function returns the absolute path from a given relative path.

2001-02-28  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarm/gfarm.c, gfarmd/gfarmd.c:
	Reverted the default mode of gfarm and gfarmd to active mode.  That is because there is no method to flush stdout message of every remote program in passive mode.  Passive mode is used in the case of GridRPC.

2001-02-26  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/soc-lxdr.c:
	Added an error checking after ns_soc_send() and ns_soc_recv().

	* nstool/file/put.c, nslib/file.c, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_put.c:
	Added a handshake code to indicate that a file can be opened or created.

	* nslib/nsclnt.c, nslib/soc.c:
	Added a check code after every malloc() system call.
	(ns_soc_recv): Return -1 when read error occurs.

2001-02-23  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/nsclnt.c: Changed default mode to the passive mode.

	* gfarm/gfarm.c, gfarmd/gfarmd.c: Change default mode to passive mode.

2001-02-22  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/hash.c:
	bug fix: there was a case where (*createdp) wasn't set.

	* configure, configure.in:
	add gftool/{gfmpirun,gfrsh,example/{gfgrep,gfwc}}

	* gftool/example/Makefile: make gfwc, too

	* gftool/example/gfwc/Makefile.in, gftool/example/gfwc/gfwc.c:
	sample program for gfmpirun

	* gftool/example/gfgrep/Makefile.in, gftool/example/gfgrep/gfgrep.c:
	sample program for gfrsh

	* gftool/Makefile, gftool/example/Makefile, gftool/gfmpirun/Makefile.in, gftool/gfmpirun/gfmpirun.c:
	very bare bone gfmpirun and gfrsh.
	(history handling is not implemented, yet)

	* gfsd/main.c: fix bug which was introduced in revision 1.6

	* gfarmlib/Makefile.in, gfarmlib/host_config.c, gfarmlib/import_help.c, include/gfarm_misc.h, gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/gfimport_text.c, gftool/gfexport/gfexport.c:
	merge gfarm_hostlist_read() and gfarm_paths_read()

	* gfsd/main.c: only cosmetic change

	* gfarmlib/gfs_pio.c: do not add suffix twice

	* gfarmlib/gfs_pio.c: fix uninitialized variables

	* gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/gfimport_text.c, gfarmlib/import_help.c, gfarmlib/metadb_misc.c, include/gfarm_misc.h:
	better implementation of gfarm_url_fragment_cleanup()

	* gfarmlib/gfs_client.c, gfarmlib/gfs_client.h:
	add index argument to unlink/chmod/chgrp

	* gfarmlib/metadb_ldap.c: missing changes in revision 1.6

	* gfsd/main.c: add index argument to unlink/chmod/chgrp, some cleanup

	* gfarmlib/gfs_pio.c: more function prototype fixes, and typo fix

	* gfarmlib/schedule.c, include/gfarm_misc.h:
	add gfarm_url_hosts_schedule() as a wrapper of gfarm_hosts_schedule()
	for convenience.

	* gfarmlib/xxx_proto.c: more function prototype fix

	* gftool/example/gfimport_fixed/gfimport_fixed.c:
	remove unused variable

	* gftool/digest/digest.c: more fix about function prototype

	* gfsd/loadavg.c, gfsd/main.c, gfarmlib/gfs_pio.c, gfarmlib/gfs_proto.c, gfarmlib/schedule.c, gfarmlib/url.c:
	more fix about prototype

2001-02-21  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/example/gfimport_text/gfimport_text.c: remove unused variables

	* include/gfarm_misc.h, gfsd/main.c, gfarmlib/config.c, gfarmlib/gfs_client.c:
	split gfarm_server_config_read() from gfarm_config_read(),
	and let gfarm_config_read() read ~/.gfarmrc.

	* gfarmlib/hash.c, gfarmlib/import_help.c, gfarmlib/url.c:
	include headers to get function prototype

	* gfsd/loadavg.c:
	porting to Tru64 UNIX (formerly known as OSF/1 or Digital UNIX)

2001-02-20  Noriyuki Soda  <soda@sra.co.jp>

	* gftool/digest/digest.c: fix type mismatch

	* gfarmlib/gfs_pio.c: typo

	* gfarmlib/url.c, gfsd/main.c, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/import_help.c, gfarmlib/metadb_ldap.c, gfarmlib/metadb_misc.c:
	fix some type mismatch and garbage collect unreferenced variables

	* configure, configure.in:
	fix following socklen_t problem on IRIX (pointed out by tatebe-san):
	AC_TRY_LINK() always succeed even if socklen_t is not size_t,
	due to weak type checking of C language.

	* configure, configure.in: remove not yet committed directories for now

	* gfarmlib/host_config.c, gfarmlib/import_help.c:
	fix compile error on solaris

	* gftool/gfexport/gfexport.c, gftool/Makefile, gftool/digest/Makefile.in, gftool/digest/digest.c, gftool/example/Makefile, gftool/example/gfimport_fixed/Makefile.in, gftool/example/gfimport_fixed/gfimport_fixed.c, gftool/example/gfimport_text/Makefile.in, gftool/example/gfimport_text/gfimport_text.c, gftool/gfexport/Makefile.in:
	add basic gfarm tools.

	* gfsd/loadavg.c, gfsd/main.c, include/gfarm_metadb.h, include/gfarm_misc.h, include/gfs.h, gfarmlib/Makefile.in, gfarmlib/config.c, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/host_config.c, gfarmlib/import_help.c, gfarmlib/metadb_ldap.c, gfarmlib/metadb_misc.c, gfarmlib/schedule.c, gfarmlib/url.c, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h, gfsd/Makefile.in:
	bug fixes

	* configure.in, Makefile.in, configure: make "gfsd" and "gftool".

	* acconfig.h, gfarm_config.h.in: add definition of FILE_OFFSET_T_MAX

2001-02-19  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfd_cmd.l, gfarm/cmd.l: Added special characters to string.

	* nstool/file/get.c, nstool/file/put.c:
	Disconnect a connection between client and library after receiving a completion message from a server.

	* nslib/gflib.c (gfarm_clnt_connect_ext):
	Referred NS_SERVER as a default server if server is not specified.

	* nstool/file/get.c, nstool/file/put.c:
	ns_put and ns_get is assumed to be installed <gfarmd_root>/nsbin.

	* gfarmd/gfarmd.c, gfarmd/gfd_parse.c:
	gfarmd.c (gfarmd_perror_reply): Added.

2001-02-18  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_auth.c:
	gfarmd_auth.c: Fixed a bug of chroot() for anonymous login.
	gfarmd_auth.c: Restricted a command path to gfarmd_root/user_directory and gfarmd_root/nsbin.
	For anonymous users, it is necessary to create gfarmd_root/lib directory and copy necessary shared libraries in the directory.

2001-02-16  Osamu Tatebe  <tatebe@etl.go.jp>

	* include/nscom.h, nslib/file.c, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_put.c:
	ns_recv_file(): Added an optional argument to specify a local filename.

	* nstool/file/ns_put.c, nstool/file/put.c, include/nsexec.h, include/nslib.h, nslib/Makefile.in, nslib/file.c, nslib/nsclnt.c, nslib/nslib.c, nstool/file/Makefile.in, nstool/file/file.c, nstool/file/file.h, nstool/file/get.c, nstool/file/ns_get.c, include/ns.h, include/nsclnt.h, include/nscom.h:
	nstool/file/file.c: Moved to the nslib/ directory.
	nstool/file/file.h: Renamed to nscom.h and moved to the include/ directory.
	nslib.h: Renamed to nsclnt.h.  NS client should include ns.h instead of nslib.h.

	* gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmd/gfd_auth.c, gfarmd/gfd_parse.c:
	Makefile.in: Updated a dependency.
	Added a comment and corrected spelling miss of a message.

2001-02-15  Noriyuki Soda  <soda@sra.co.jp>

	* Makefile.in, configure, configure.in, nstool/Makefile:
	add nstool/file/

	* nstool/file/Makefile.in: changes for autoconf

	* nstool/file/Makefile, nstool/file/Makefile.in:
	rename Makefile to Makefine.in

2001-02-15  Osamu Tatebe  <tatebe@etl.go.jp>

	* nstool/file/Makefile, nstool/file/file.c, nstool/file/file.h, nstool/file/get.c, nstool/file/ns_get.c, nstool/file/ns_put.c, nstool/file/put.c:
	NS tools.  This directory contains NS client/server tools.

	* nslib/nsexec.c, nslib/nslib.c, nslib/soc.c, gfarm/Makefile.in, gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, gfarmd/gfarmd.c, gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, gfarmd/gfd_parse.c, include/gflib.h, include/nslib.h, nslib/gflib.c:
	Added a passive mode.  The previous passive mode is now renamed a proxy mode.
	In the passive mode, a gfarm client makes another connection to a gfarm server that will be used to communicate with a remote program.

	* nslib/soc.c: Added a comment and a debug message.

2001-02-14  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/gfs_client.c: remove unused array.

	* gfarmlib/gfs_client.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/import_help.c:
	fix compile error on linux, by removing EFTYPE, EAUTH, ENEEDAUTH,
	because those errno is not really portable. pointed out by tatebe-san.

	* gfarmlib/stringlist.c: clean up and fix bogons

2001-02-14  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/comm.c, nslib/soc.c, include/comm.h, include/soc-lxdr.h, include/soc.h:
	Added a host entry in struct Connect.
	(ns_comm_getservname): Added.

2001-02-14  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/Makefile.in, gfsd/Makefile.in, makes/config.mk.in, configure, configure.in:
	add --with-openssl=... option to specify OpenSSL installation directory

	* include/gfarm_misc.h, include/gfs.h, gfsd/Makefile.in, gfsd/loadavg.c, gfsd/main.c, include/gfarm.h, include/gfarm_error.h, include/gfarm_metadb.h, gfarmlib/metadb_ldap.c, gfarmlib/metadb_misc.c, gfarmlib/schedule.c, gfarmlib/stringlist.c, gfarmlib/url.c, gfarmlib/xxx_proto.c, gfarmlib/xxx_proto.h, gfarmlib/gfs_client.c, gfarmlib/gfs_client.h, gfarmlib/gfs_pio.c, gfarmlib/gfs_proto.c, gfarmlib/gfs_proto.h, gfarmlib/hash.c, gfarmlib/import_help.c, acconfig.h, configure, configure.in, gfarm_config.h.in, gfarmlib/Makefile.in, gfarmlib/config.c, gfarmlib/error.c:
	gfarm pio library and gfsd implementation

2001-02-09  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarm/gfarm.c, gfarmd/gfd_auth.c (gfarmd_user):
	Changed an effective userid to root during execution of getspnam_r().

	* gfarmd/gfarmd.c:
	Added an error checking code for ns_comm_listen() since now ns_comm_listen() does not exit(1) when an error occurs.

	* include/comm.h, include/gflib.h, nslib/comm.c, nslib/gflib.c, nslib/nslib.c, gfarm/gfarm.c, gfarmd/gfarmd.c:
	gflib.c (gfarm_clnt_passive): Added an additional argument, server.  The server name is returned to a client proran.
	comm.h: Added a constant definition NS_MAXHOSTNAMELEN.  I think this should be equal to MAXHOSTNAMELEN if it is defined, though now it is a constant 256.
	gfarmd.c (gfarmd_passive): Now the return message includes the proxy-server hostname.

	* gfarm/cmd.l, gfarmd/gfd_cmd.l:
	If YY_READ_BUF_SIZE is already defined, it should be undefined first before it is re-defined.

	* nslib/gflib.c (gfarm_clnt_wait_reply_msg):
	Eliminated an unused variable.

	* gfarm/gfarm.c:
	Deleted a function body of snprintf(3) and declared only the function prototype even if there is no snprintf(3) since snprintf() is defined in soc.c.

2001-02-06  Noriyuki Soda  <soda@sra.co.jp>

	* nslib/Makefile.in, configure, configure.in, gfarmd/Makefile.in:
	- remove SHARED_DIRECTORY, it is obsolete.
	- add -with-gfarm-rsh option to configure
	- remove double quotation from configure's argument, add it on Makefile

2001-02-05  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfarmd.c (gfarmd_setenv):
	Added.  This function is called before execution of the gfarm pool program to set up the environment variable, now only NS_DEBUG.

	* gfarmd/gfarmd.c, include/comm.h, include/soc-lxdr.h, include/soc.h, nslib/comm.c, nslib/soc.c:
	comm.c (ns_data_irecv): Added.  This function is almost the same of read(2), and returns without waiting to receive all data.
	gfarmd.c (gfarmd_proxy): Now this function uses ns_data_irecv() not ns_data_recv() because this function should not be blocked.

	* gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_auth.c:
	gfd_auth.c (gfarmd_getuidnam): Added.  This function returns uid from username.

2001-02-03  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, include/gflib.h, nslib/gflib.c, nslib/nslib.c, gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, gfarmd/gfarmd.c:
	Added a passive mode.  In active mode, a remote program executed by gfarm server connects a gfarm client.  In passive mode, both a gfarm client and a remote program connect a gfarm proxy forked by gfarm server.
	gfarm.c (gfarm_disconnect): Added a code for a re-initialization of static variables.
	gfarm.c (gfarm_setenv): Added.  Set the environment variable NS_PASSIVE and NS_PASSIVE_PORT if passive mode.
	nslib.c (ns_clnt_rexec): If the environment variable NS_PASSIVE is defined, this function calls ns_clnt_rexec_passive/proxy(), otherwise this function calls ns_clnt_rexec_active().

	* gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_auth.c (gfarmd_user, gfarmd_pass):
	Moved to a new file gfd_auth.c.

2001-02-02  Osamu Tatebe  <tatebe@etl.go.jp>

	* include/soc-lxdr.h, include/soc.h, nslib/comm.c, nslib/gflib.c, nslib/soc.c, include/comm.h (ns_comm_connect_ext):
	Added.  This function is used to connect using rsh/ssh.
	(gfarm_clnt_connect): if the environment variable GFARM_AUTH is defined, ns_comm_connect_ext() is used.  Otherwise, ns_comm_connect() is used.  Remote shell program like rsh and ssh can be specified by GFARM_RSH.  Default is rsh.

	* gfarmd/gfarmd.c: I think it is necessary to divide a file.
	SHARED_DIRECTORY, gfarmd_append_path(), gfarmd_search_prog(): Deleted.
	(gfarmd_init): Added the command option -i to be able to execute gfarmd using rsh/ssh.
	symtab_strsave() is replaced by strdup(3).
	(gfarmd_login): Added.
	(gfarmd_login_ext): Added.  This function is used with rsh/ssh authentication.
	ns_user: The data type of this global variable is changed to struct passwd from struct passwd *.

	* gfarm/gfarm.c (gfarm_connect):
	Added a check code of return value of ns_comm_getpeername().

2001-02-02  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in: replace "_" by "-" on "-with-XXX_XXX" option

2001-02-01  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/soc.c (ns_soc_connect_stdio):
	Added an initialization of streams.
	(ns_soc_get{sock,peer}name): return NULL when getsockname() or getpeername() fails.

	* gfarm/gfarm.c: symtab_strsave() is replaced by strdup(3).

	* nslib/soc.c (ns_soc_strsave):
	Removed.  This function is replaced by strdup(3).

2001-02-01  Noriyuki Soda  <soda@sra.co.jp>

	* acconfig.h, gfarm_config.h.in: just comment fix.
	SUSv2 does define getpwname_r(), but doesn't define getspnam_r().

	* configure.in, configure:
	move AC_CHECK_LIB() before socklen_t check, to fix the following
	problem reported by tatebe-san:
		because "-lsocket -lnsl" option is missing,
		socklen_t is incorrectly treated as not defined on Solaris.

	* configure, configure.in: change default C compiler from gcc to cc.
	to use gcc, please set environment variable CC=gcc before running configure.

2001-01-31  Noriyuki Soda  <soda@sra.co.jp>

	* configure, configure.in: fatal typo

2001-01-30  Noriyuki Soda  <soda@sra.co.jp>

	* nslib/soc-lxdr.c, nslib/soc.c, makes/config.mk.in, makes/var.mk, nslib/Makefile, nslib/Makefile.in, nslib/gflib.c, makes/Make.inc.netbsd, makes/Make.inc.rssp, makes/Make.inc.solaris, makes/Make.inc.sr8k, makes/Make.inc.all, makes/Make.inc.digital, makes/Make.inc.irix, makes/Make.inc.linux, gfarmd/Makefile.in, gfarmd/gfarmd.c, gfarmlib/Makefile.in, include/Makefile.in, include/soc-lxdr.h, gfarm/Makefile, gfarm/Makefile.in, gfarm_config.h.in, gfarmd/Makefile, Makefile, Makefile.in, acconfig.h, configure, configure.in:
	use GNU autoconf

	* gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	fix warnings reported by "gcc -Wall"

2001-01-29  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfarmd.c (reapchild):
	Just changed a code to display pids of reaped children.

	* gfarmd/gfarmd.c (main):
	Fixed a bug such that a necessary memory region is free-ed.

	* nslib/comm.c, nslib/soc-lxdr.c, nslib/soc-xdr.c, gfarmd/Makefile, include/bswap.h, include/comm.h, include/soc-lxdr.h, include/soc-xdr.h, include/soc.h, nslib/Makefile, nslib/bswap.h, gfarm/Makefile:
	bswap.h: Now this file is only included by nslib/soc-lxdr.c.
	include/soc-lxdr.h: Fixed a bug of incorrect use of NS_BYTE_ORDER.  Now NS_BYTE_ORDER is only used by this file.  If neither NS_BYTE_ORDER or HAVE_MACHINE_ENDIAN_H is defined, big endian is assumed.

	* makes/Make.inc.digital, makes/Make.inc.alpha:
	Make.inc.digital: Make.inc.alpha is renamed.

2001-01-29  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmd/gfarmd.c:
	porting to Net/2 derived BSDs. (i.e. BSD/OS, FreeBSD, NetBSD, OpenBSD)

	* gfarmd/gfarmd.c:
	fix problem that effective uid may be incorrectly left as root.

2001-01-27  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/comm.c, nslib/gflib.c, nslib/nsexec.c, nslib/nslib.c, nslib/soc-lxdr.c, nslib/soc.c, gfarm/gfarm.c, gfarmd/gfarmd.c, include/bswap.h, include/comm.h, include/soc-lxdr.h, include/soc.h, nslib/Makefile, nslib/bswap.c:
	Added a socket library with light-weight network-byte-order translation.  Byte-order translation is only applied by ns_data_send() and ns_data_recv(), and other functions are defined by the original socket library, soc.c.  Now this library is default.

2001-01-26  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/nsexec.c, include/nslib.h:
	nslib.h: Added a missing function declaration of ns_clnt_rexec_wait().
	nsexec.c (ns_exec_finalize): Added free().

	* include/nslib.h, nslib/nslib.c:
	nslib.c (ns_clnt_connect): Changed an interface.  Now, this function checks whether login succeeds or not.

2001-01-25  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/nsexec.c, nslib/nslib.c, nslib/soc.c:
	nslib.c, nsexec.c (main): Fix a bug and changed an initialization part slightly. This main function is for testing.
	soc.c (ns_soc_recv): Deleted a printf() statement for debug.

	* gfarm/Makefile, nslib/Makefile, nslib/nsexec.c:
	Makefile: Updated dependency though this should be automatically done every timebefore make.

	* include/gflib.h, include/nsexec.h, makes/Make.inc.sr8k, gfarmd/gfarmd.c:
	Make.inc.sr8k: -DNS_SOCKLEN_T_IS_INT is added to NSLIB_DEFFLAGS.
	gflib.h, nsexec.h: Removed extern int _ns_gDebug;

	* nslib/soc.c, include/comm.h, include/soc.h, makes/Make.inc.irix, makes/Make.inc.linux, makes/Make.inc.solaris, nslib/comm.c, nslib/gflib.c, nslib/nslib.c, gfarm/gfarm.c:
	soc.c: Added ns_soc_poll().
	gfarm.c, nslib.c, gflib.c: ns_comm_poll() is called instead of select(2) system call.
	nslib.c, Make.inc: Added a HAVE_INTTYPES_H macro since Digital Unix does not have it.

	* nslib/nsexec.c, nslib/nslib.c:
	nslib.c: Added a static funciton ns_clnt_wait_input() to select an input from a server or a remote executable.

2001-01-24  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/metadb_ldap.c: portability fix on solaris

	* include/bswap.h:
	portability fix: use <machine/endian.h> on BSD derived systems.

2001-01-24  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/stublib.c, makes/Make.inc.Linux, makes/Make.inc.all, makes/Make.inc.irix, makes/Make.inc.linux, makes/Make.inc.rssp, makes/Make.inc.solaris, makes/Make.inc.sr8k, nslib/Makefile, nslib/clntcom.c, nslib/clntlib.c, nslib/comm.c, nslib/gflib.c, nslib/nsexec.c, nslib/nslib.c, nslib/soc.c, gfarm/gfarm.c, gfarmd/gfarmd.c, include/comm.h, include/gflib.h, include/nsexec.h, include/nslib.h:
	Added gflib.c that is a library for gfarm client protocol in nslib/ directory.
	clntlib.c, stublib.c and nslib.c are renamed to nslib.c, nsexec.c and comm.c, respectively.

2001-01-24  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	define gfarm_file_fragment_copy_info,
	and move hostname from gfarm_file_fragment_info to it,
	to support fragment replica.

	* makes/Make.inc.netbsd: configuration for NetBSD.

	* nslib/soc.c:
	portability fix: <sys/types.h> and <sys/socket.h> is needed before <netinet/*>

	* nslib/nslib.c:
	portablity fix: <sys/types.h> is needed before <netinet/in.h>

2001-01-24  Osamu Tatebe  <tatebe@etl.go.jp>

	* makes/Make.inc.Linux, makes/Make.inc.all, makes/Make.inc.alpha, makes/Make.inc.irix, makes/Make.inc.rssp, makes/Make.inc.solaris, makes/Make.inc.sr8k, nslib/soc.c:
	Added a configuration file for IBM RS6000/SP.
	Added compilation flags; -DNS_SOCKLEN_T_IS_INT and -DNS_SOCKLEN_T_IS_SIZE_T.

2001-01-23  Osamu Tatebe  <tatebe@etl.go.jp>

	* makes/Make.inc.sr8k: Added a comment for getpasswd(3).

	* makes/Make.inc.sr8k: Added a new make.inc file for sr8k.

2001-01-22  Osamu Tatebe  <tatebe@etl.go.jp>

	* include/nslib.h, include/soc.h, nslib/clntcom.c, nslib/clntlib.c, nslib/nslib.c, nslib/soc.c:
	Added ns_comm_setenv() and ns_comm_getenv() to pass the descriptor of a socket.
	clntcom.c (nc_clnt_init): This function now returns the connection if it is passed by environment variables.
	clntlib.c (ns_clnt_rexec): Changed the behavior w.r.t. a connection to a server.  Now, it should be passed by argument and is not closed in this function.

	* gfarmd/gfarmd.c, gfarmd/gfd_parse.c:
	gfarmd.c (gfarmd_pass): Added chroot() for a guest user, however it is not implemented enough.

	* gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, gfarm/Makefile:
	gfarm.c: Added gfarm_lexec() and removed gfarm_datafarm().

2001-01-19  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfarmd.c (gfarmd_pass):
	After logged in, user ID (not user effective ID) of a child process is changed.

	* gfarm/Makefile, gfarm/gfarm.c, makes/Make.inc.all, makes/Make.inc.solaris:
	gfarm.c: Added command-line arguments: gfarm [server [port]].
	gfarm.c: Added -DHAVE_GETPASSPHRASE for Solaris to use getpassphrase() since getpass() returns only 8 characters in Solaris.

	* nslib/clntlib.c (ns_clnt_connect): Added a comment.

	* gfarmd/gfd_parse.c (gfarmd_create_machinefile): Warning elimination.

2001-01-19  Noriyuki Soda  <soda@sra.co.jp>

	* gfarmlib/metadb_ldap.c, include/gfarm_metadb.h:
	GFarm meta database i/f

2001-01-17  Osamu Tatebe  <tatebe@etl.go.jp>

	* nslib/soc.c (ns_soc_close): Execution continues when close(2) fails.

	* gfarmd/gfarmd.c:
	Changed a home directory from /var/tmp to /var/tmp/username.
	If the home directory is missing, it is created.

	* gfarm/cmd.l, gfarm/cmd.y: Changed an usage message slightly.

2001-01-16  Osamu Tatebe  <tatebe@etl.go.jp>

	* gfarmd/gfd_parse.c, include/nslib.h, include/soc.h, nslib/nslib.c, nslib/soc.c, gfarmd/gfarmd.c, gfarmd/gfd_cmd.l:
	Added ns_comm_dup_stderr() to redirect stderr of a remotely executed program.

	* gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c:
	Added an exec command.

	* Makefile, gfarm/Makefile, nslib/Makefile:
	Added a rule to create necessary symlinks.
	Added make veryclean in nslib/Makefile.

2001-01-15  Osamu Tatebe  <tatebe@etl.go.jp>

	* Makefile, gfarm/Makefile, gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, gfarmd/Makefile, gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, gfarmd/gfd_parse.c, gfarmd/symtab.c, gfarmd/symtab.h, gfarmd/yyerror.c, include/bswap.h, include/debug.h, include/nslib.h, include/soc-xdr.h, include/soc.h, include/type.h, makes/Make.inc.Linux, makes/Make.inc.all, makes/Make.inc.alpha, makes/Make.inc.irix, makes/Make.inc.solaris, nslib/Makefile, nslib/bswap.c, nslib/clntcom.c, nslib/clntlib.c, nslib/nslib.c, nslib/soc-xdr.c, nslib/soc.c, nslib/stublib.c:
	Grid Data Farm

	* Makefile, gfarm/Makefile, gfarm/cmd.h, gfarm/cmd.l, gfarm/cmd.y, gfarm/gfarm.c, gfarmd/Makefile, gfarmd/gfarmd.c, gfarmd/gfarmd.h, gfarmd/gfd_cmd.h, gfarmd/gfd_cmd.l, gfarmd/gfd_cmd.y, gfarmd/gfd_parse.c, gfarmd/symtab.c, gfarmd/symtab.h, gfarmd/yyerror.c, include/bswap.h, include/debug.h, include/nslib.h, include/soc-xdr.h, include/soc.h, include/type.h, makes/Make.inc.Linux, makes/Make.inc.all, makes/Make.inc.alpha, makes/Make.inc.irix, makes/Make.inc.solaris, nslib/Makefile, nslib/bswap.c, nslib/clntcom.c, nslib/clntlib.c, nslib/nslib.c, nslib/soc-xdr.c, nslib/soc.c, nslib/stublib.c:
	New file.

