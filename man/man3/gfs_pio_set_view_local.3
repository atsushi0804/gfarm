.Id $Id$
.TH gfs_pio_set_view_local 3 "1 May 2002"

.SH NAME

gfs_pio_set_view_local
\- change file view to the corresponding fragment

.SH SYNOPSIS

.B "#include <gfarm/gfarm.h>"
.LP
.B "char *"
.br
.BI "gfs_pio_set_view_index(GFS_File " gf ,
.BI "int " flags );

.SH DESCRIPTION

\fBgfs_pio_set_view_local()\fP changes the process's view of the data
in the file specified by \fIgf\fP to a file fragment in the local file
view.  The local file view model assumes each process has its own file
fragment which is implicitly specified by the argument \fInode\fP of
\fBgfs_pio_set_local(3)\fP.

The total number of file fragments is implicitly specified by the
argument \fInnode\fP of \fBgfs_pio_set_local(3)\fP.  If it is
different from the total fragment number of the existent file, it is
erroneous.

Before changing to the local file view, it is necessary to call
\fBgfs_pio_set_local(3)\fP in advance.

Values of \fIflag\fP are constructed by a bitwise-inclusive-OR of
.SM GFARM_FILE_SEQUENTIAL,
.SM GFARM_FILE_REPLICATE,
and
.SM GFARM_FILE_NOT_REPLICATE.
For details, refer to gfs_pio_set_view_index(3).

By default, Gfarm files are accessed as a whole file in global file
view where each fragment can be seamlessly accessed.

.SH "RETURN VALUES"

.TP
.SB NULL
.br
The function terminated successfully.
.TP
.SB GFARM_ERR_NO_MEMORY
.br
Insufficient memory was available.
.TP
.SB GFARM_ERR_OPERATION_NOT_PERMITTED
.br
The file is not a fragmented file.
.TP
.SB GFARM_ERR_FRAGMENT_NUMBER_DOES_NOT_MATCH
.br
The total number of file fragments is different from the existence
one.
.TP
Others
.br
An error except the above occurred.  The reason is shown by its
pointed strings.

.SH "SEE ALSO"
.BR gfs_pio_create (3),
.BR gfs_pio_open (3),
.BR gfs_pio_set_local (3),
.BR gfs_pio_set_view_index (3)
