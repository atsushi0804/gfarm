.Id $Id$
.TH gfs_pio_create 3 "1 May 2002"

.SH NAME

gfs_pio_create \- create a Gfarm file

.SH SYNOPSIS

.B "#include <gfarm/gfarm.h>"
.LP
.B "char *"
.br
.BI "gfs_pio_create(char *" gfarm_url ,
.BI "int " flags ,
.BI "mode_t " mode ,
.in +.5i
.BI "GFS_File *" gfp );
.in

.SH DESCRIPTION

\fBgfs_pio_create()\fP creates a new Gfarm file whose name is the
string pointed to by \fIgfarm_url\fP with the access mode \fImode\fP,
and returns a \fIGFS_File\fP structure to the address pointed to by
\fIgfp\fP.  \fIMode\fP specifies the file permissions to be created,
and is modified by the process's \fBumask\fP.

Currently, \fIGFS_FILE_WRONLY\fP is only supported for values of
\fIflags\fP.

When \fBgfs_pio_create()\fP is used by parallel processes executed by
gfrun(3) or gfmpirun(3), each process should specify a consistent
value for \fImode\fP.  The returned \fIGFS_File\fP structure of each
process has individual file pointers among parallel processes.

.SH "RETURN VALUES"

.TP
.SB NULL
.br
The function terminated successfully.
.TP
.SB GFARM_ERR_NO_MEMORY
.br
Insufficient memory was available.
.TP
.SB GFARM_ERR_AUTHENTICATION
.br
User authentication failed when connecting to gfmd(8) or gfsd(8).
.TP
.SB GFARM_ERR_PERMISSION_DENIED
.br
The requested access to the file is not allowed, or one of the
directories in \fIgfarm_url\fP did not allow search (execute)
permission, or the file did not exist yet and write access to the
parent directory is not allowed.
.\" .TP
.\" .GB GFARM_ERR_ALREADY_EXISTS
.\" .br
.\" \fIgfarm_url\fP already exists and O_EXCL was used.
.TP
.SB GFARM_ERR_IS_A_DIRECTORY
.br
\fIgfarm_url\fP refers to a directory.
.TP
.SB GFARM_ERR_NO_SUCH_OBJECT
.br
A component used as a directory in \fIgfarm_url\fP does not exist.
.TP
.SB GFARM_ERR_NOT_A_DIRECTORY
.br
A component used as a directory in \fIgfarm_url\fP is not, in fact, a
directory.
.\" .TP
.\" .SB GFARM_ERR_READ_ONLY_FILE_SYSTEM
.\" .br
.\" \fIgfarm_url\fP refers to a file on a read-only filesystem and
 \" write access was requested.
.TP
Others
.br
An error except the above occurred.  The reason is shown by its
pointed strings.

.SH "SEE ALSO"
.BR gfs_pio_close (3),
.BR gfs_pio_create (3),
.BR gfs_pio_eof (3),
.BR gfs_pio_error (3),
.BR gfs_pio_flush (3),
.BR gfs_pio_getc (3),
.BR gfs_pio_getline (3),
.BR gfs_pio_open (3),
.BR gfs_pio_putc (3),
.BR gfs_pio_putline (3),
.BR gfs_pio_puts (3),
.BR gfs_pio_read (3),
.BR gfs_pio_seek (3),
.BR gfs_pio_set_view_index (3),
.BR gfs_pio_set_view_local (3),
.BR gfs_pio_ungetc (3),
.BR gfs_pio_write (3)
