.Id $Id$
.TH gfs_pio_set_view_index 3 "1 May 2002"

.SH NAME

gfs_pio_set_view_index \- change file view to an individual fragment

.SH SYNOPSIS

.B "#include <gfarm/gfarm.h>"
.LP
.B "char *"
.br
.BI "gfs_pio_set_view_index(GFS_File " gf ,
.in +.5i
.BI "int " fragment_number ,
.BI "int "fragment_index ,
.BI "char *" host ,
.br
.BI "int " flags );
.in

.SH DESCRIPTION

\fBgfs_pio_set_view_index()\fP changes the process's view of the data
in the file specified by \fIgf\fP to a file fragment with the index
\fIfragment_index\fP.

When creating a new file, it is necessary to specify the total number
of file fragments \fIfragment_number\fP.  Every parallel process
should specify the same \fIfragment_number\fP for the corresponding
file.  When the file exists, \fBGFARM_FILE_DONTCARE\fP can be
specified.  If \fIfragment_number\fP is different from the total
fragment number of the existent file, it is erroneous.

\fIhost\fP is used for explicitly specifying a filesystem node.  If
\fIhost\fP is NULL, appropriate filesystem node is chosen.

Values of \fIflag\fP are constructed by a bitwise-inclusive-OR of
the following list.
.TP
.SB GFARM_FILE_SEQUENTIAL
.br
File will be accessed sequentially.
.TP
.SB GFARM_FILE_REPLICATE
.br
File may be replicated to a local filesystem when accessing remotely.
This flag cannot be specified with \fBGFARM_FILE_NOT_REPLICATE\fP.
.TP
.SB GFARM_FILE_NOT_REPLICATE
.br
File may not be replicated to a local filesystem when accessing
remotely.  This flag cannot be specified with
\fBGFARM_FILE_REPLICATE\fP.

.LP
By default, Gfarm files are accessed as a whole file in global file
view where each fragment can be seamlessly accessed.

.SH "RETURN VALUES"

.TP
.SB NULL
.br
The function terminated successfully.
.TP
.SB GFARM_ERR_NO_MEMORY
.br
Insufficient memory was available.
.TP
.SB GFARM_ERR_OPERATION_NOT_PERMITTED
.br
The file is not a fragmented file.
.TP
.SB GFARM_ERR_FRAGMENT_NUMBER_DOES_NOT_MATCH
.br
The total number of file fragments is different from the existence
one.
.TP
.SB GFARM_ERR_INVALID_ARGUMENT
.br
Invalid arguments are specified, for instance,
\fBGFARM_FILE_DONTCARE\fP is specified as the total number of
fragments of a newly created file.
.TP
Others
.br
An error except the above occurred.  The reason is shown by its
pointed strings.

.SH "SEE ALSO"
.BR gfs_pio_create (3),
.BR gfs_pio_open (3),
.BR gfs_pio_set_view_local (3)
