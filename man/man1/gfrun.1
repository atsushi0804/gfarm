.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFRUN" "1" "20 August 2003" "Gfarm" ""

.SH NAME
gfrun, gfrsh, gfssh \- run Gfarm parallel programs
.SH SYNOPSIS

\fBgfrun\fR [ \fB\fIoptions\fB\fR ] \fB\fIcommand\fB\fR \fB\fIarg\fB\fR\fI ...\fR


\fBgfrsh\fR [ \fB\fIoptions\fB\fR ] \fB\fIcommand\fB\fR \fB\fIarg\fB\fR\fI ...\fR


\fBgfssh\fR [ \fB\fIoptions\fB\fR ] \fB\fIcommand\fB\fR \fB\fIarg\fB\fR\fI ...\fR

.SH "DESCRIPTION"
.PP
\fBgfrun\fR executes a parallel command on
filesystem nodes, which is determined by the \fB-G\fR
option, the \fB-H\fR option, or the \fB-N\fR
option.
.PP
The \fB-G\fR option specifies the
\fIgfarm-URL\fR, which will be used by the
file-affinity scheduling.  In this case, \fBgfrun\fR
schedules the same number of filesystem nodes as the number of the
Gfarm fragments, taking into consideration the physical locations of
each fragment replicas of the Gfarm file, and filesystem node status.
The \fB-H\fR option specifies the
\fIhostfile\fR that lists filesystem nodes.  The
\fB-N\fR option specifies the number of filesystem
nodes.
.PP
\fB-G\fR, \fB-H\fR, and
\fB-N\fR options are exclusive.  When none of
\fB-G\fR, \fB-H\fR, and \fB-N\fR
options are not specified, \fBgfrun\fR schedules
filesystem nodes by the file-affinity scheduling using the first
existent Gfarm file in the argument list \fIargs\fR.
If there is no existent Gfarm file in the argument list, an
appropriate filesystem node is selected to be executed.
.PP
\fBgfrsh\fR and \fBgfssh\fR utilizes
rsh and ssh, respectively, instead of gfrcmd.
.PP
\fICommand\fR can be specified by a gfarm-URL
that is registered using gfreg(1).
.SH "OPTIONS"
.TP
\fB-G \fIgfarm-URL\fB\fR
specifies a Gfarm file \fIgfarm-URL\fR for
file-affinity scheduling.
.TP
\fB-H \fIhostfile\fB\fR
specifies a \fIhostfile\fR that lists filesystem nodes.

if ``-'' is specified, standard input is used to read the host list.
.TP
\fB-N \fInp\fB\fR
specifies the number of nodes \fInp\fR, which
are selected by the increasing order of load average.
.TP
\fB-r\fR
specifies an on-demand replication mode.  In this mode, every
file will be replicated before it will be accessed remotely.
.TP
\fB-o \fIgfarm-URL\fB\fR
specifies a Gfarm file that the standard output of the executed
program will be redirected to.
.TP
\fB-e \fIgfarm-URL\fB\fR
specifies a Gfarm file that the standard error of the executed
program will be redirected to.
.TP
\fB-I \fIfragment-index\fB\fR
specifies a Gfarm fragment index executed by the gfrun command.
It is necessary that a parallel process will be scheduled by
file-affinity scheduling.
.TP
\fB-v\fR
displays error message verbosely.
.TP
\fB-p\fR
displays elapsed time of each Gfarm parallel I/O API after the
program terminates.
.TP
\fB-g\fR
explicitly specifies that the command is a Gfarm program.
Gfarm specific options will be passed to the command as the result.
.TP
\fB-u\fR
explicitly specifies that the command is an usual program, and
does not take Gfarm specific options.
.TP
\fB-?\fR
displays a list of command options.
.SH "ENVIRONMENT VARIABLES"
.TP
\fBGFRUN_CMD\fR
specifies a remote shell command.  If globus-job-run is specified,
gfrun executes each process using globus-job-run.
.SH "SEE ALSO"
.PP
\fBgfmpirun_p4\fR(1)
