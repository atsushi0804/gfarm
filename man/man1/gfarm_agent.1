.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFARM_AGENT" "1" "22 April 2005" "Gfarm" ""

.SH NAME
gfarm_agent \- Gfarm Filesystem Metadata Cache Server
.SH SYNOPSIS

\fBgfarm_agent\fR [ \fB\fIoptions\fB\fR ]

.SH "DESCRIPTION"
.PP
\fBgfarm_agent\fR is a cache server for a Gfarm metadata
server that can be shared by multiple applications on the same
machine.  The cache server greatly improves performance and response
time for a Gfarm file system by hiding network latency to a distant
metadata server, and by preventing performance degradation when
thousands of files are stored in the Gfarm file system.
.PP
To use the cache server, execute \fBgfarm_agent\fR on a
client node or a compute node, and define environment variables
output by \fBgfarm_agent\fR.

.nf
% eval `\fBgfarm_agent\fR`
.fi
.PP
Output environment variables are \fBGFARM_AGENT_SOCK\fR and
\fBGFARM_AGENT_PID\fR.  \fBGFARM_AGENT_SOCK\fR
specifies a unix-domain socket that \fBgfarm_agent\fR is
listening to.  \fBGFARM_AGENT_PID\fR specifies a process ID
of \fBgfarm_agent\fR.
.PP
\fBgfarm_agent\fR is running in the background.  When
defining the above environment variables, running
\fBgfarm_agent\fR can be shared.
.PP
Any number of \fBgfarm_agent\fRs can be running on
different nodes (or even on the same node) at the same time.
Consistency among multiple cache servers and a metadata server is
maintained.
.PP
To terminate the cache server, send a TERM signal.

.nf
% kill $GFARM_AGENT_PID
.fi
.SH "OPTIONS"
.TP
\fB-s\fR
generates Bourne shell commands.
.TP
\fB-c\fR
generates C-shell commands.
.TP
\fB-d\fR
specifies the debug mode.  \fBgfarm_agent\fR is
running in the foreground not in the background.  Note that 'eval
`\fBgfarm_agent\fR`' cannot work since it runs in the
foreground.
.TP
\fB-f \fIconfig-file\fB\fR
specifies a configuration file that is read instead of the default
configuration file.
.TP
\fB-P \fIpid-file\fB\fR
specifies a file name which records the process ID of
\fBgfarm_agent\fR.
.TP
\fB-S \fIsyslog-facility\fB\fR
specifies a syslog facility to report errors by
\fBgfarm_agent\fR.  By default, local0 is used.
.TP
\fB-v\fR
displays verbose error messages in authentication.
.TP
\fB-?\fR
displays a list of command options.
.SH "FILES"
.TP
\fB\fI/tmp/.gfarm-XXXXXX/agent.<ppid>\fB\fR
a unix-domain socket that can be connected by the user that
executes \fBgfarm_agent\fR only.  It is automatically
removed when \fBgfarm_agent\fR exits by receiving a TERM
signal.
