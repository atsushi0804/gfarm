.\" This manpage has been automatically generated by docbook2man 
.\" from a DocBook document.  This tool can be found at:
.\" <http://shell.ipoline.com/~elmert/comp/docbook2X/> 
.\" Please send any bug reports, improvements, comments, patches, 
.\" etc. to Steve Cheng <steve@ggi-project.org>.
.TH "GFARM_AGENT" "1" "22 April 2005" "Gfarm" ""

.SH NAME
gfarm_agent \- Gfarm メタデータキャッシュサーバ
.SH SYNOPSIS

\fBgfarm_agent\fR [ \fB\fIオプション\fB\fR ]

.SH "DESCRIPTION"
.PP
\fBgfarm_agent\fR は、
同一ノードで実行される複数のアプリケーションで共有可能な
Gfarm ファイルシステム・メタデータのキャッシュサーバです。
キャッシュサーバにより、
遠隔のメタデータサーバに対するネットワーク遅延の隠蔽、
およびファイル数の増大に伴う性能低下を抑制し、
Gfarm ファイルシステムに対するレスポンスを大幅に改善します。
.PP
利用するためには、
クライアントノードあるいは計算ノードで
\fBgfarm_agent\fR
を実行し、出力される環境変数を定義します。

.nf
% eval `\fBgfarm_agent\fR`
.fi
.PP
出力される環境変数は、\fBgfarm_agent\fR
が listen している UNIX ドメインのソケットを示す
\fBGFARM_AGENT_SOCK\fR と、
\fBgfarm_agent\fR が起動している process ID を示す
\fBGFARM_AGENT_PID\fR です。
.PP
\fBgfarm_agent\fR は起動されると、
バックグラウンドで動き続けます。
上記の環境変数を定義することにより、起動している
\fBgfarm_agent\fR を共有することが可能です。
.PP
\fBgfarm_agent\fR は、
同時に複数のノードで実行することが可能です。
その場合、複数の \fBgfarm_agent\fR
および Gfarm メタデータサーバ間の一貫性は保証されます。
.PP
停止するためには TERM シグナルを送ります。

.nf
% kill $GFARM_AGENT_PID
.fi
.SH "OPTIONS"
.TP
\fB-s\fR
Bourne shell 系シェル用のコマンドを出力します。
.TP
\fB-c\fR
csh 系シェル用のコマンドを出力します。
.TP
\fB-d\fR
デバッグオプションです。バックグラウンドではなく、
フォアグラウンドで実行します。
フォアグラウンドで実行されるため、上記のように
eval `\fBgfarm_agent\fR`
では実行できません。
.TP
\fB-f \fI設定ファイル\fB\fR
起動時に読み込む設定ファイルを指定します。
.TP
\fB-P \fIPIDファイル\fB\fR
\fBgfarm_agent\fR の process ID を、
指定したファイルに記録します。
.TP
\fB-S \fIsyslogファシリティ\fB\fR
\fBgfarm_agent\fR がエラー報告に用いる
syslog のファシリティを指定します。
省略した場合には、local0 を使用します。
.TP
\fB-v\fR
認証時のエラーメッセージの詳細を表示します。
.TP
\fB-?\fR
引数オプションを表示します。
.SH "FILES"
.TP
\fB\fI/tmp/.gfarm-XXXXXX/agent.<ppid>\fB\fR
UNIX ドメインのソケットです。このソケットには、
\fBgfarm_agent\fR を起動したユーザだけが接続可能です。
また、\fBgfarm_agent\fR に TERM シグナルが送られると、
自動的に消去されます。
