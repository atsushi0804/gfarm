all:
	cd nslib; make $@
	(if test "gfarmlib/@sysdep_dir@" != "gfarmlib/" \
		-a -f "gfarmlib/@sysdep_dir@/Makefile"; then \
		cd gfarmlib/@sysdep_dir@; make $@; \
	fi)
	cd gfarmlib; make $@
	cd gfarmd; make $@
	cd gfarm; make $@
	cd gfsd; make $@
	cd nstool; make $@
	cd gftool; make $@

clean veryclean:
	cd nslib; make $@
	(if test "gfarmlib/@sysdep_dir@" != "gfarmlib/" \
		-a -f "gfarmlib/@sysdep_dir@/Makefile"; then \
		cd gfarmlib/@sysdep_dir@; make $@; \
	fi)
	cd gfarmlib; make $@
	cd gfarmd; make $@
	cd gfarm; make $@
	cd gfsd; make $@
	cd nstool; make $@
	cd gftool; make $@

install:
	cd include; make $@
	cd nslib; make $@
	(if test "gfarmlib/@sysdep_dir@" != "gfarmlib/" \
		-a -f "gfarmlib/@sysdep_dir@/Makefile"; then \
		cd gfarmlib/@sysdep_dir@; make $@; \
	fi)
	cd gfarmlib; make $@
	cd gfarmd; make $@
	cd gfarm; make $@
	cd gfsd; make $@
	cd nstool; make $@
	cd gftool; make $@

distclean:
	cd include; make $@
	cd nslib; make $@
	(if test "gfarmlib/@sysdep_dir@" != "gfarmlib/" \
		-a -f "gfarmlib/@sysdep_dir@/Makefile"; then \
		cd gfarmlib/@sysdep_dir@; make $@; \
	fi)
	cd gfarmlib; make $@
	cd gfarmd; make $@
	cd gfarm; make $@
	cd gfsd; make $@
	cd nstool; make $@
	cd gftool; make $@
	rm -f config.log config.status config.cache \
		gfarm_config.h Makefile makes/config.mk
