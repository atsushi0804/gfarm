<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>gfarm_agent</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFARM_AGENT.1"
></A
>gfarm_agent</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfarm_agent&nbsp;--&nbsp;Gfarm メタデータキャッシュサーバ</DIV
><DIV
CLASS="REFSYNOPSISDIV"
><A
NAME="SYNOPSIS"
></A
><H2
>Synopsis</H2
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> [<TT
CLASS="REPLACEABLE"
><I
>オプション</I
></TT
>]</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> は、
同一ノードで実行される複数のアプリケーションで共有可能な
Gfarm ファイルシステム・メタデータのキャッシュサーバです。
キャッシュサーバにより、
遠隔のメタデータサーバに対するネットワーク遅延の隠蔽、
およびファイル数の増大に伴う性能低下を抑制し、
Gfarm ファイルシステムに対するレスポンスを大幅に改善します。</P
><P
>利用するためには、
クライアントノードあるいは計算ノードで
<B
CLASS="COMMAND"
>gfarm_agent</B
>
を実行し、出力される環境変数を定義します。</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>% eval `<B
CLASS="COMMAND"
>gfarm_agent</B
>`</PRE
></TD
></TR
></TABLE
><P
>出力される環境変数は、<B
CLASS="COMMAND"
>gfarm_agent</B
>
が listen している UNIX ドメインのソケットを示す
<TT
CLASS="ENVAR"
>GFARM_AGENT_SOCK</TT
> と、
<B
CLASS="COMMAND"
>gfarm_agent</B
> が起動している process ID を示す
<TT
CLASS="ENVAR"
>GFARM_AGENT_PID</TT
> です。</P
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> は起動されると、
バックグラウンドで動き続けます。
上記の環境変数を定義することにより、起動している
<B
CLASS="COMMAND"
>gfarm_agent</B
> を共有することが可能です。</P
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> は、
同時に複数のノードで実行することが可能です。
その場合、複数の <B
CLASS="COMMAND"
>gfarm_agent</B
>
および Gfarm メタデータサーバ間の一貫性は保証されます。</P
><P
>停止するためには TERM シグナルを送ります。</P
><TABLE
BORDER="0"
BGCOLOR="#E0E0E0"
WIDTH="100%"
><TR
><TD
><PRE
CLASS="PROGRAMLISTING"
>% kill $GFARM_AGENT_PID</PRE
></TD
></TR
></TABLE
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="OPTIONS"
></A
><H2
>OPTIONS</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="OPTION"
>-s</TT
></DT
><DD
><P
>Bourne shell 系シェル用のコマンドを出力します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-c</TT
></DT
><DD
><P
>csh 系シェル用のコマンドを出力します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-d</TT
></DT
><DD
><P
>デバッグオプションです。バックグラウンドではなく、
フォアグラウンドで実行します。
フォアグラウンドで実行されるため、上記のように
eval `<B
CLASS="COMMAND"
>gfarm_agent</B
>`
では実行できません。</P
></DD
><DT
><TT
CLASS="OPTION"
>-f</TT
> <TT
CLASS="PARAMETER"
><I
>設定ファイル</I
></TT
></DT
><DD
><P
>起動時に読み込む設定ファイルを指定します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-P</TT
> <TT
CLASS="PARAMETER"
><I
>PIDファイル</I
></TT
></DT
><DD
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> の process ID を、
指定したファイルに記録します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-S</TT
> <TT
CLASS="PARAMETER"
><I
>syslogファシリティ</I
></TT
></DT
><DD
><P
><B
CLASS="COMMAND"
>gfarm_agent</B
> がエラー報告に用いる
syslog のファシリティを指定します。
省略した場合には、local0 を使用します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-v</TT
></DT
><DD
><P
>認証時のエラーメッセージの詳細を表示します。</P
></DD
><DT
><TT
CLASS="OPTION"
>-?</TT
></DT
><DD
><P
>引数オプションを表示します。</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="FILES"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>/tmp/.gfarm-XXXXXX/agent.&#60;ppid&#62;</TT
></DT
><DD
><P
>UNIX ドメインのソケットです。このソケットには、
<B
CLASS="COMMAND"
>gfarm_agent</B
> を起動したユーザだけが接続可能です。
また、<B
CLASS="COMMAND"
>gfarm_agent</B
> に TERM シグナルが送られると、
自動的に消去されます。</P
></DD
></DL
></DIV
></DIV
></BODY
></HTML
>