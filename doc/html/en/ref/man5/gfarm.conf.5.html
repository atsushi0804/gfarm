<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<HTML
><HEAD
><TITLE
>gfarm.conf</TITLE
><META
NAME="GENERATOR"
CONTENT="Modular DocBook HTML Stylesheet Version 1.76b+
"></HEAD
><BODY
CLASS="REFENTRY"
BGCOLOR="#FFFFFF"
TEXT="#000000"
LINK="#0000FF"
VLINK="#840084"
ALINK="#0000FF"
><H1
><A
NAME="GFARM.CONF.5"
></A
>gfarm.conf</H1
><DIV
CLASS="REFNAMEDIV"
><A
NAME="NAME"
></A
><H2
>Name</H2
>gfarm.conf&nbsp;--&nbsp;Gfarm configuration file</DIV
><DIV
CLASS="REFSECT1"
><A
NAME="DESCRIPTION"
></A
><H2
>DESCRIPTION</H2
><P
>gfarm.conf is a text file that contains a Gfarm configuration.  
Gfarm server processes such as gfmd and gfsd refer to /etc/gfarm.conf
by default.  Since this configuration file is only read at the startup
time, it is necessary to restart servers when updating the content of
the configuraiton file.</P
><P
>Application programs such as gfls and gfhost refer to both
/etc/gfarm.conf and ~/.gfarmrc in a user's home directory as a
configuration file.  .gfarmrc has the same grammar as /etc/gfarm.conf.
If both .gfarmrc and /etc/gfarm.conf exist, .gfarmrc is read at
first.</P
><P
>Each line of gfarm.conf consists of one statement.  When the
line ends with the character ``\'', the line continues for the next
line.  A word beginning with ``#'' causes that word and all remaining
characters on that line to be ignored.</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="HOSTSPECIFICATION"
></A
><H2
>Host specification</H2
><P
><TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
> has the following
forms.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
></DT
><DD
><P
>specifies an IP address with four octets from 0 to 255 separated
by ".".</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>III.JJJ.KKK.LLL</I
></TT
>/<TT
CLASS="PARAMETER"
><I
>MM</I
></TT
></DT
><DD
><P
>specifies a network address with an IP address and a netmask
from 0 to 31 separated by "/".</P
></DD
><DT
><TT
CLASS="PARAMETER"
><I
>domain.name</I
></TT
></DT
><DD
><P
>specifes a host name.</P
></DD
><DT
><I
CLASS="EMPHASIS"
>.</I
><TT
CLASS="PARAMETER"
><I
>domain.name</I
></TT
></DT
><DD
><P
>specifies all hosts belonging to the domain.name.</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="STATEMENT"
></A
><H2
>Statement</H2
><P
>The following statements are supported.</P
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><SPAN
CLASS="TOKEN"
>spool</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfsd spool directory</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>spool</SPAN
> statement specifies a spool directory
for a Gfarm filesystem on this filesystem node.  On the filesystem
node, this statement should be specified.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	spool&nbsp;/var/spool/gfarm</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>spool_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfsd port number</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>spool_serverport</SPAN
> statement specifies the tcp
and udp port number the gfsd is listening on.  The default port number
is 600.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	spool_serverport&nbsp;600</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfmd hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>metadb_serverhost</SPAN
> statement specifies the
host name on which gfmd is running.</P
><P
>This statement cannot be omitted.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	metadb_serverhost&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>metadb_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>gfmd port number</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>metadb_serverport</SPAN
> statement specifies the tcp
port number the gfsd is listening on.  The default port number is
601.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	metadb_serverport&nbsp;601</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP server hostname</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_serverhost</SPAN
> statement specifies the host
name on which LDAP server for filesystem metadata is running.</P
><P
>This statement cannot be omitted.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_serverhost&nbsp;ldap.example.com</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_serverport</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP server port number</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_serverport</SPAN
> statement specifies the tcp
port number of LDAP server.</P
><P
>This statement cannot be omitted in the current
implementation.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_serverport&nbsp;389</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>ldap_base_dn</SPAN
> <TT
CLASS="PARAMETER"
><I
>LDAP_base_distinguished_name</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>ldap_base_dn</SPAN
> statement specifies the base
distinguished name of LDAP database.</P
><P
>This statement cannot be omitted.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>auth</SPAN
> <TT
CLASS="PARAMETER"
><I
>enable/disable</I
></TT
>
<TT
CLASS="PARAMETER"
><I
>auth method</I
></TT
> <TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
></DT
><DD
><P
>This statement specifies the authentication method when
communicating with the host(s) specified by the third argument.</P
><P
>The first argument should be <SPAN
CLASS="TOKEN"
>enable</SPAN
> or
<SPAN
CLASS="TOKEN"
>disable</SPAN
> keyword.
The second argument <TT
CLASS="PARAMETER"
><I
>auth method</I
></TT
> should be
<SPAN
CLASS="TOKEN"
>gsi</SPAN
> or <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> keyword.
The third argument specifies the host(s) by <TT
CLASS="PARAMETER"
><I
>Host
specification</I
></TT
>.</P
><P
>The <SPAN
CLASS="TOKEN"
>auth</SPAN
> stetement may be specified any number of
times.  For each authentication method, it becomes a candidate when
the first entry whose host specification matches the taget host has
the <SPAN
CLASS="TOKEN"
>enable</SPAN
> keyword.  When there is no correnponding
entry, or when the first corresponding entry has the
<SPAN
CLASS="TOKEN"
>disable</SPAN
> keyword, the authentication method does not
become a candidate.</P
><P
>This process takes place at both client and server sides.
Candidates for authentication method at both sides will be
tried.</P
><P
>The order of statements with different authentication methods is
not concerned.  When there are several candidates for authentication
method, <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
> is tried first, and then
<SPAN
CLASS="TOKEN"
>gsi</SPAN
> is tried.</P
><P
>The GSI authentication method is available if and only if the
--with-globus option is specified at the configure time.  When it is
not available, the auth statement with <SPAN
CLASS="TOKEN"
>gsi</SPAN
> will be
ignored.</P
><P
>This statement cannot be omitted.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.100<br>
	auth&nbsp;disable&nbsp;sharedsecret&nbsp;192.168.0.101<br>
	auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
	auth&nbsp;enable&nbsp;gsi&nbsp;ALL</P
><P
>In this example, all hosts belonging to the network address of
192.168.0.0/24 except two hosts of 192.168.0.100 and 192.168.0.101
will be tried to be authenticated by both <SPAN
CLASS="TOKEN"
>sharedsecret</SPAN
>
and <SPAN
CLASS="TOKEN"
>gsi</SPAN
>, and all other hosts will be authenticated by
<SPAN
CLASS="TOKEN"
>gsi</SPAN
>.  Note that two hosts of 192.168.0.100 and
192.168.0.101 will be tried to be authenticated by gsi only.</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>netparam</SPAN
><TT
CLASS="PARAMETER"
><I
>parameter</I
></TT
><I
CLASS="EMPHASIS"
>=</I
><TT
CLASS="PARAMETER"
><I
>value</I
></TT
><I
CLASS="EMPHASIS"
>[</I
><TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
><I
CLASS="EMPHASIS"
>]</I
></DT
><DD
><P
>The netparm statement specifies several communication parameters
listed below.</P
><P
><SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
>.  This parameter specifies the
number of tcp streams.  The default is a single stream.  This
parameter may improve the file transfer performance especially when
connecting to a far distant site such that tcp congestion window size
will not increase enough.  In the current implementation, this
parameter is only effective on a client node where gfrep(1) command is
executed.  <TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
> specifies the
source host(s) of file replication instead of the destination
host(s).</P
><P
><SPAN
CLASS="TOKEN"
>stripe_unit_size</SPAN
>.  This parameter specifies how
to divide the data when utilizing multiple tcp streams.  Without this
parameter, the data will be divided into
<SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
> of contiguous blocks with almost even
size.  When this parameter is specified, the data is divided in
round-robin fashion with the specified block size in byte.  Generally
speaking, the performance of file transfer is improved using this
parameter.</P
><P
>This parameter is effective only when two or more is specified
by the <SPAN
CLASS="TOKEN"
>parallel_streams</SPAN
> parameter.  In the current
implementation, this parameter is only effective on a client node
where gfrep(1) command is executed.  <TT
CLASS="PARAMETER"
><I
>Host
specification</I
></TT
> specifies the source host(s) of file
replication instead of the destination host(s).</P
><P
><SPAN
CLASS="TOKEN"
>rate_limit</SPAN
>.  This parameter specifies the maximum
transfer rate (bps; bit per second) for a single connection, which is
introduced experimentally.  In the current implementation, this
parameter is only effective on a client node where gfrep(1) command is
executed.  <TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
> specifies the
source host(s) of file replication instead of the destination
host(s).</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	netparam&nbsp;parallel_streams=2	10.0.0.0/8<br>
	netparam&nbsp;stripe_unit_size=8192	10.0.0.0/8<br>
	netparam&nbsp;rate_limit=750000	192.168.0.0/24</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>sockopt </SPAN
><TT
CLASS="PARAMETER"
><I
>option</I
></TT
><I
CLASS="EMPHASIS"
>[=</I
><TT
CLASS="PARAMETER"
><I
>value</I
></TT
><I
CLASS="EMPHASIS"
>] [<SPAN
CLASS="TOKEN"
>LISTENER</SPAN
> | <TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
>]</I
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>sockopt</SPAN
> parameter specifies the socket option
<TT
CLASS="PARAMETER"
><I
>option</I
></TT
> via the setsockopt(2) system call.</P
><P
>When <SPAN
CLASS="TOKEN"
>LISTENER</SPAN
> is specified by the second
argument, the socket option is applied to the socket that listens to
irrespective of the target hosts.</P
><P
>When the host specification is specified by the second argument,
the socket option is applied to the socket that connects to hosts with
the corresponding host specification.</P
><P
>If the second argument is omitted, the socket option is applied
to every socket.</P
><P
>The following socket option can be specified.</P
><P
><SPAN
CLASS="TOKEN"
>debug</SPAN
>.  <TT
CLASS="CONSTANT"
>SO_DEBUG</TT
> socket
option is specified.  The <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
><SPAN
CLASS="TOKEN"
>keepalive</SPAN
>.  <TT
CLASS="CONSTANT"
>SO_KEEPALIVE</TT
>
socket option is specified.  The <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
><SPAN
CLASS="TOKEN"
>sndbuf</SPAN
>.  <TT
CLASS="CONSTANT"
>SO_SNDBUF</TT
> socket
option is specified with the <TT
CLASS="PARAMETER"
><I
>value</I
></TT
></P
><P
><SPAN
CLASS="TOKEN"
>rcvbuf</SPAN
>.  <TT
CLASS="CONSTANT"
>SO_RCVBUF</TT
> socket
option is specified with the <TT
CLASS="PARAMETER"
><I
>value</I
></TT
></P
><P
><SPAN
CLASS="TOKEN"
>tcp_nodelay</SPAN
>.  <TT
CLASS="CONSTANT"
>TCP_NODELAY</TT
>
socket option is specified.  The <TT
CLASS="PARAMETER"
><I
>value</I
></TT
> is not
necessary.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	sockopt&nbsp;tcp_nodelay&nbsp;192.168.0.0/24<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;sndbuf=1048576&nbsp;LISTENER<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;10.0.0.0/8<br>
	sockopt&nbsp;rcvbuf=1048576&nbsp;LISTENER</P
></DD
><DT
><SPAN
CLASS="TOKEN"
>address_use</SPAN
> <TT
CLASS="PARAMETER"
><I
>Host specification</I
></TT
></DT
><DD
><P
>The <SPAN
CLASS="TOKEN"
>address_use</SPAN
> statement specifies an IP address
or a network address that is preferably used for connection when the
target host has several IP addresses.</P
><P
>For example,</P
><P
CLASS="LITERALLAYOUT"
>	address_use&nbsp;192.168.0.0/24</P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="GRAMMAR"
></A
><H2
>GRAMMAR</H2
><P
>This is a grammar of gfarm.conf described by the BNF
notation.</P
><P
CLASS="LITERALLAYOUT"
>	&#60;statement&#62;&nbsp;::=<br>
		&#60;spool_statement&#62;&nbsp;|<br>
		&#60;spool_serverport_statement&#62;&nbsp;|<br>
		&#60;metadb_serverhost_statement&#62;&nbsp;|<br>
		&#60;metadb_serverport_statement&#62;&nbsp;|<br>
		&#60;ldap_serverhost_statement&#62;&nbsp;|<br>
		&#60;ldap_serverport_statement&#62;&nbsp;|<br>
		&#60;ldap_base_dn_statement&#62;&nbsp;|<br>
		&#60;auth_statement&#62;&nbsp;|<br>
		&#60;netparam_statement&#62;&nbsp;|<br>
		&#60;sockopt_statement&#62;&nbsp;|<br>
		&#60;address_use_statement&#62;<br>
	&#60;spool_statement&#62;&nbsp;::=&nbsp;"spool"&nbsp;&#60;pathname&#62;<br>
	&#60;spool_serverport_statement&#62;&nbsp;::=&nbsp;"spool_serverport"&nbsp;&#60;hostname&#62;<br>
	&#60;metadb_serverhost_statement&#62;&nbsp;::=&nbsp;"metadb_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;metadb_serverport_statement&#62;&nbsp;::=&nbsp;"metadb_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;ldap_serverhost_statement&#62;&nbsp;::=&nbsp;"ldap_serverhost"&nbsp;&#60;hostname&#62;<br>
	&#60;ldap_serverport_statement&#62;&nbsp;::=&nbsp;"ldap_serverport"&nbsp;&#60;portnumber&#62;<br>
	&#60;ldap_base_dn_statement&#62;&nbsp;::=&nbsp;"ldap_base_dn"&nbsp;&#60;string&#62;<br>
	&#60;auth_statement&#62;&nbsp;::=<br>
		"auth"&nbsp;&#60;auth_command&#62;&nbsp;&#60;auth_method&#62;&nbsp;&#60;hostspec&#62;<br>
	&#60;auth_command&#62;&nbsp;::=&nbsp;"enable"&nbsp;|&nbsp;"disable"<br>
	&#60;auth_method&#62;&nbsp;::=&nbsp;"gsi"&nbsp;|&nbsp;"sharedsecret"<br>
	&#60;netparam_statement&#62;&nbsp;::=<br>
		"netparam"&nbsp;&#60;netparam_option&#62;=&#60;number&#62;&nbsp;[&#60;hostspec&#62;]<br>
	&#60;netparam_option&#62;&nbsp;::=&nbsp;"parallel_streams"&nbsp;|&nbsp;"stripe_unit_size"&nbsp;|<br>
		"rate_limit"<br>
	&#60;sockopt_statement&#62;&nbsp;::=<br>
		"sockopt"&nbsp;&#60;socket_option&#62;[=&#60;number&#62;]&nbsp;[""LISTENER"&nbsp;|&nbsp;&#60;hostspec&#62;]<br>
	&#60;socket_option&#62;&nbsp;=&nbsp;"debug"&nbsp;|&nbsp;"keepalive"&nbsp;|&nbsp;"sndbuf"&nbsp;|"rcvbuf"&nbsp;|<br>
		"tcp_nodelay"<br>
	&#60;address_use_statement&#62;&nbsp;::=&nbsp;&nbsp;"address_use"&nbsp;&#60;hostspec&#62;<br>
	&#60;hostspec&#62;&nbsp;::=&nbsp;&#60;ipv4_address&#62;&nbsp;|&nbsp;&#60;ipv4_address&#62;&nbsp;"/"&nbsp;&#60;address_mask&#62;&nbsp;|<br>
		&#60;hostname&#62;<br>
	&#60;pathname&#62;&nbsp;::=&nbsp;&#60;pathname_character&#62;&nbsp;&#60;pathname_character&#62;*<br>
	&#60;pathname_character&#62;&nbsp;::=&nbsp;&#60;hostname_character&#62;&nbsp;|&nbsp;","&nbsp;|&nbsp;"/"&nbsp;|&nbsp;"_"<br>
	&#60;hostname&#62;&nbsp;::=&nbsp;&#60;hostname_character&#62;&nbsp;&#60;hostname_character&#62;*<br>
	&#60;hostname_character&#62;&nbsp;::=&nbsp;&#60;alphabet&#62;&nbsp;|&nbsp;&#60;digit&#62;&nbsp;|&nbsp;"-"&nbsp;|&nbsp;"."<br>
	&#60;portnumber&#62;&nbsp;::=&nbsp;&#60;number&#62;<br>
	&#60;number&#62;&nbsp;::=&nbsp;&#60;digit&#62;&nbsp;[&#60;digit&#62;*]<br>
	&#60;digit&#62;&nbsp;::=&nbsp;"0"&nbsp;|&nbsp;"1"&nbsp;|&nbsp;"2"&nbsp;|&nbsp;"3"&nbsp;|&nbsp;"4"&nbsp;|&nbsp;"5"&nbsp;|&nbsp;"6"&nbsp;|&nbsp;"7"&nbsp;|&nbsp;"8"&nbsp;|&nbsp;"9"<br>
	&#60;string&#62;&nbsp;::=&nbsp;"""&nbsp;&#60;double_quoted_character&#62;*&nbsp;"""<br>
	&#60;double_quoted_character&#62;&nbsp;::=<br>
		&#60;any_character_except_backslash_and_double_quotation&#62;&nbsp;|<br>
		"\\"&nbsp;|&nbsp;"\""</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="EXAMPLES"
></A
><H2
>EXAMPLES</H2
><P
CLASS="LITERALLAYOUT"
>spool&nbsp;/var/spool/gfarm<br>
metadb_serverhost&nbsp;ldap.example.com<br>
ldap_serverhost&nbsp;ldap.example.com<br>
ldap_serverport&nbsp;389<br>
ldap_base_dn&nbsp;"dc=example,&nbsp;dc=com"<br>
auth&nbsp;enable&nbsp;sharedsecret&nbsp;192.168.0.0/24<br>
auth&nbsp;enable&nbsp;gsi&nbsp;ALL</P
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="FILES"
></A
><H2
>FILES</H2
><P
></P
><DIV
CLASS="VARIABLELIST"
><DL
><DT
><TT
CLASS="FILENAME"
>/etc/gfarm.conf</TT
></DT
><DD
><P
></P
></DD
><DT
><TT
CLASS="FILENAME"
>$HOME/.gfarmrc</TT
></DT
><DD
><P
></P
></DD
></DL
></DIV
></DIV
><DIV
CLASS="REFSECT1"
><A
NAME="SEE-ALSO"
></A
><H2
>SEE ALSO</H2
><P
>  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfmd</SPAN
>(8)</SPAN
>,
  <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>gfsd</SPAN
>(8)</SPAN
>, <SPAN
CLASS="CITEREFENTRY"
><SPAN
CLASS="REFENTRYTITLE"
>setsockopt</SPAN
>(2)</SPAN
></P
></DIV
></BODY
></HTML
>